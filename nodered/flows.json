[
    {
        "id": "26dfe9b1.bda826",
        "type": "tab",
        "label": "Salon",
        "disabled": false,
        "info": ""
    },
    {
        "id": "3d8b03d0.c5d9dc",
        "type": "tab",
        "label": "Presence",
        "disabled": false,
        "info": ""
    },
    {
        "id": "c1c9a47eb2cec3ce",
        "type": "tab",
        "label": "Scene",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "999c2839b6eaba29",
        "type": "tab",
        "label": "Plantes",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "8d2da763.b1b5d8",
        "type": "tab",
        "label": "Dehumidifier",
        "disabled": false,
        "info": ""
    },
    {
        "id": "b7adaecd52f8a9e1",
        "type": "tab",
        "label": "Flux 2",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "03db7e0460f2bfdd",
        "type": "tab",
        "label": "Paramètres",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "8426a808.9f7b08",
        "type": "tab",
        "label": "Surveillance",
        "disabled": true,
        "info": ""
    },
    {
        "id": "579e5857.908308",
        "type": "tab",
        "label": "Test",
        "disabled": true,
        "info": ""
    },
    {
        "id": "cd715a15d16c8c86",
        "type": "tab",
        "label": "Devel",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "97858f04.731cd",
        "type": "tab",
        "label": "Cube",
        "disabled": true,
        "info": ""
    },
    {
        "id": "8d236a0a.1cfd78",
        "type": "tab",
        "label": "Temperature ESP",
        "disabled": true,
        "info": ""
    },
    {
        "id": "d59196c2.c53e78",
        "type": "tab",
        "label": "Conso Chia",
        "disabled": true,
        "info": ""
    },
    {
        "id": "cefda5c5.afe5c8",
        "type": "tab",
        "label": "Flow 1",
        "disabled": true,
        "info": ""
    },
    {
        "id": "d96e26d634947f5d",
        "type": "subflow",
        "name": "SplitPlant",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 60,
                "y": 120,
                "wires": [
                    {
                        "id": "8ca6330edfa414bc"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 400,
                "y": 40,
                "wires": [
                    {
                        "id": "8ca6330edfa414bc",
                        "port": 0
                    }
                ]
            },
            {
                "x": 420,
                "y": 80,
                "wires": [
                    {
                        "id": "8ca6330edfa414bc",
                        "port": 1
                    }
                ]
            },
            {
                "x": 400,
                "y": 120,
                "wires": [
                    {
                        "id": "8ca6330edfa414bc",
                        "port": 2
                    }
                ]
            },
            {
                "x": 420,
                "y": 160,
                "wires": [
                    {
                        "id": "8ca6330edfa414bc",
                        "port": 3
                    }
                ]
            },
            {
                "x": 420,
                "y": 200,
                "wires": [
                    {
                        "id": "8ca6330edfa414bc",
                        "port": 4
                    }
                ]
            },
            {
                "x": 400,
                "y": 240,
                "wires": [
                    {
                        "id": "8ca6330edfa414bc",
                        "port": 5
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "PlantName",
                "type": "str",
                "value": "",
                "ui": {
                    "type": "input",
                    "opts": {
                        "types": [
                            "str"
                        ]
                    }
                }
            }
        ],
        "meta": {},
        "color": "#C7E9C0",
        "inputLabels": [
            "Plant Msg"
        ],
        "outputLabels": [
            "Humidity",
            "Humidity Target",
            "Priming",
            "Pump Enable",
            "Measure Enable",
            "Pumping",
            "Humidity Raw",
            "Humidity Correct"
        ],
        "icon": "node-red/split.svg"
    },
    {
        "id": "737137f86c177d6c",
        "type": "subflow",
        "name": "TCPServer",
        "info": "",
        "category": "",
        "in": [],
        "out": [
            {
                "x": 520,
                "y": 100,
                "wires": [
                    {
                        "id": "a52b7b7734e87610",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "Port",
                "type": "num",
                "value": "",
                "ui": {
                    "icon": "font-awesome/fa-plug",
                    "type": "input",
                    "opts": {
                        "types": [
                            "num"
                        ]
                    }
                }
            }
        ],
        "meta": {},
        "color": "#DDAA99",
        "status": {
            "x": 520,
            "y": 140,
            "wires": [
                {
                    "id": "a52b7b7734e87610",
                    "port": 1
                }
            ]
        }
    },
    {
        "id": "b15b4631c418658d",
        "type": "subflow",
        "name": "WateringFrm",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 80,
                "y": 200,
                "wires": [
                    {
                        "id": "01bfb1f250708c1d"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 600,
                "y": 160,
                "wires": [
                    {
                        "id": "f14e71662e61e65b",
                        "port": 0
                    }
                ]
            },
            {
                "x": 600,
                "y": 200,
                "wires": [
                    {
                        "id": "f14e71662e61e65b",
                        "port": 1
                    }
                ]
            },
            {
                "x": 600,
                "y": 240,
                "wires": [
                    {
                        "id": "f14e71662e61e65b",
                        "port": 2
                    }
                ]
            },
            {
                "x": 600,
                "y": 280,
                "wires": [
                    {
                        "id": "f14e71662e61e65b",
                        "port": 3
                    }
                ]
            },
            {
                "x": 600,
                "y": 320,
                "wires": [
                    {
                        "id": "f14e71662e61e65b",
                        "port": 4
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "IP",
                "type": "str",
                "value": "",
                "ui": {
                    "icon": "font-awesome/fa-plug",
                    "type": "input",
                    "opts": {
                        "types": [
                            "str"
                        ]
                    }
                }
            }
        ],
        "meta": {},
        "color": "#DDAA99",
        "outputLabels": [
            "System",
            "Plant 0",
            "Plant 1",
            "Plant 2",
            "Plant 3",
            "Last Message"
        ]
    },
    {
        "id": "e0fe7cfd134b7dfb",
        "type": "subflow",
        "name": "WateringTo",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 60,
                "y": 100,
                "wires": [
                    {
                        "id": "c5d0797e67053f7e"
                    }
                ]
            }
        ],
        "out": [],
        "env": [
            {
                "name": "IP",
                "type": "str",
                "value": "",
                "ui": {
                    "icon": "font-awesome/fa-plug",
                    "type": "input",
                    "opts": {
                        "types": [
                            "str"
                        ]
                    }
                }
            }
        ],
        "meta": {},
        "color": "#DDAA99"
    },
    {
        "id": "518d5f9f6a504e19",
        "type": "subflow",
        "name": "WatSection",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 60,
                "y": 80,
                "wires": [
                    {
                        "id": "0f5eb07c2f7a43dd"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 340,
                "y": 80,
                "wires": [
                    {
                        "id": "0f5eb07c2f7a43dd",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "section",
                "type": "str",
                "value": "",
                "ui": {
                    "icon": "font-awesome/fa-sitemap",
                    "type": "select",
                    "opts": {
                        "opts": [
                            {
                                "l": {
                                    "en-US": "System"
                                },
                                "v": "system"
                            },
                            {
                                "l": {
                                    "en-US": "Plant 0"
                                },
                                "v": "plant0"
                            },
                            {
                                "l": {
                                    "en-US": "Plant 1"
                                },
                                "v": "plant1"
                            },
                            {
                                "l": {
                                    "en-US": "Plant 2"
                                },
                                "v": "plant2"
                            },
                            {
                                "l": {
                                    "en-US": "Plant 3"
                                },
                                "v": "plant3"
                            }
                        ]
                    }
                }
            }
        ],
        "meta": {},
        "color": "#DDAA99",
        "icon": "node-red/join.svg"
    },
    {
        "id": "3e8cfd372c0d29f8",
        "type": "subflow",
        "name": "SplitSystem",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 60,
                "y": 90,
                "wires": [
                    {
                        "id": "f7ecd262153c3405"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 370,
                "y": 50,
                "wires": [
                    {
                        "id": "f7ecd262153c3405",
                        "port": 0
                    }
                ]
            },
            {
                "x": 390,
                "y": 90,
                "wires": [
                    {
                        "id": "f7ecd262153c3405",
                        "port": 1
                    }
                ]
            },
            {
                "x": 400,
                "y": 130,
                "wires": [
                    {
                        "id": "f7ecd262153c3405",
                        "port": 2
                    }
                ]
            },
            {
                "x": 390,
                "y": 170,
                "wires": [
                    {
                        "id": "f7ecd262153c3405",
                        "port": 3
                    }
                ]
            }
        ],
        "env": [],
        "meta": {},
        "color": "#C7E9C0",
        "inputLabels": [
            "System Msg"
        ],
        "outputLabels": [
            "Period",
            "Battery Level",
            "Last Message",
            "Water Level"
        ],
        "icon": "node-red/split.svg"
    },
    {
        "id": "3ad8d18a09943845",
        "type": "junction",
        "z": "3d8b03d0.c5d9dc",
        "x": 640,
        "y": 780,
        "wires": [
            [
                "ce275aea.8d57f8",
                "395210ab35c6bc6e"
            ]
        ]
    },
    {
        "id": "b686f810452a5a24",
        "type": "junction",
        "z": "26dfe9b1.bda826",
        "x": 590,
        "y": 270,
        "wires": [
            [
                "a6ce1990.895f58",
                "fe0d88bff81e103d",
                "e0be30cab87f47b9"
            ]
        ]
    },
    {
        "id": "417fb70f5cc11edd",
        "type": "junction",
        "z": "26dfe9b1.bda826",
        "x": 580,
        "y": 320,
        "wires": [
            [
                "fe0d88bff81e103d",
                "e0be30cab87f47b9",
                "a6ce1990.895f58"
            ]
        ]
    },
    {
        "id": "5ad21c25b1d3f1a8",
        "type": "junction",
        "z": "26dfe9b1.bda826",
        "x": 610,
        "y": 360,
        "wires": [
            [
                "fe0d88bff81e103d",
                "e0be30cab87f47b9"
            ]
        ]
    },
    {
        "id": "22480c4a338513be",
        "type": "junction",
        "z": "26dfe9b1.bda826",
        "x": 610,
        "y": 390,
        "wires": [
            [
                "fe0d88bff81e103d",
                "e0be30cab87f47b9"
            ]
        ]
    },
    {
        "id": "dd48bc87133af989",
        "type": "junction",
        "z": "26dfe9b1.bda826",
        "x": 610,
        "y": 420,
        "wires": [
            [
                "fe0d88bff81e103d",
                "e0be30cab87f47b9"
            ]
        ]
    },
    {
        "id": "00594cddcaad5721",
        "type": "junction",
        "z": "26dfe9b1.bda826",
        "x": 640,
        "y": 440,
        "wires": [
            [
                "fe0d88bff81e103d",
                "e0be30cab87f47b9"
            ]
        ]
    },
    {
        "id": "5d22db96d6d406d6",
        "type": "junction",
        "z": "3d8b03d0.c5d9dc",
        "x": 730,
        "y": 570,
        "wires": [
            [
                "90a7f72049cf6dac",
                "bd8afb7cb1b1b9f8"
            ]
        ]
    },
    {
        "id": "651bf0709b4198f1",
        "type": "junction",
        "z": "3d8b03d0.c5d9dc",
        "x": 430,
        "y": 300,
        "wires": [
            [
                "cd7d804bea860a15",
                "0d44badc135153f5"
            ]
        ]
    },
    {
        "id": "45d74cfed2a91bf0",
        "type": "junction",
        "z": "3d8b03d0.c5d9dc",
        "x": 730,
        "y": 90,
        "wires": [
            [
                "3f57abf3c1223604",
                "6f823854df472777"
            ]
        ]
    },
    {
        "id": "4d149b88.919684",
        "type": "ui_group",
        "name": "Bedside Lamp",
        "tab": "f45b068e.a3e988",
        "order": 1,
        "disp": true,
        "width": "6"
    },
    {
        "id": "f45b068e.a3e988",
        "type": "ui_tab",
        "name": "Salon",
        "icon": "dashboard",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "80023273.1be59",
        "type": "ui_base",
        "theme": {
            "name": "theme-dark",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": false,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#3145e3",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "reset": false
            },
            "themeState": {
                "base-color": {
                    "default": "#097479",
                    "value": "#3145e3",
                    "edited": true
                },
                "page-titlebar-backgroundColor": {
                    "value": "#3145e3",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#111111",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#7482ec",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#555555",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#eeeeee",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#3145e3",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#333333",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey",
                "palette": "light"
            }
        },
        "site": {
            "name": "Domos",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "false",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "b8598f43.0647a",
        "type": "ui_tab",
        "name": "Mesures",
        "icon": "dashboard",
        "order": 5,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "16b7a9d3.bdf4b6",
        "type": "ui_group",
        "name": "Mesure",
        "tab": "b8598f43.0647a",
        "order": 1,
        "disp": true,
        "width": "28",
        "collapse": false,
        "className": ""
    },
    {
        "id": "d9cb796.b2e4988",
        "type": "ui_tab",
        "name": "Température",
        "icon": "dashboard",
        "order": 7,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "27165c27.d59084",
        "type": "ui_group",
        "name": "Température",
        "tab": "d9cb796.b2e4988",
        "order": 1,
        "disp": false,
        "width": "20",
        "collapse": false,
        "className": ""
    },
    {
        "id": "98dc4fb5.8af9c",
        "type": "deconz-server",
        "name": "Phoscon-GW",
        "config_version": 1,
        "ip": "deconz",
        "port": "8080",
        "ws_port": "443",
        "secure": false,
        "polling": "15"
    },
    {
        "id": "09fbbb6f9c4e37f2",
        "type": "ui_group",
        "name": "Consommation",
        "tab": "b7a7cb50f0d903cf",
        "order": 1,
        "disp": false,
        "width": "20",
        "collapse": false,
        "className": ""
    },
    {
        "id": "e3bea6371b560ce9",
        "type": "ui_tab",
        "name": "Paramètres",
        "icon": "settings",
        "order": 9,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "fd607afbc6bd3f83",
        "type": "ui_group",
        "name": "Paramètres",
        "tab": "e3bea6371b560ce9",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "b7a7cb50f0d903cf",
        "type": "ui_tab",
        "name": "Consommation",
        "icon": "dashboard",
        "order": 6,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "7669ba0d1ef65db2",
        "type": "ui_tab",
        "name": "Plantes",
        "icon": "dashboard",
        "order": 2,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "b2c09df255938acc",
        "type": "ui_group",
        "name": "Bonzaï Bas",
        "tab": "7669ba0d1ef65db2",
        "order": 3,
        "disp": false,
        "width": "28",
        "collapse": false,
        "className": ""
    },
    {
        "id": "1cae1a7011cabb4f",
        "type": "ui_group",
        "name": "Bonzaï Haut",
        "tab": "7669ba0d1ef65db2",
        "order": 2,
        "disp": false,
        "width": "28",
        "collapse": false,
        "className": ""
    },
    {
        "id": "c8cfbc353241b95f",
        "type": "ui_group",
        "name": "Plant1",
        "tab": "7669ba0d1ef65db2",
        "order": 5,
        "disp": true,
        "width": "28",
        "collapse": false,
        "className": ""
    },
    {
        "id": "436a9c7696814cb4",
        "type": "ui_group",
        "name": "Plant3",
        "tab": "7669ba0d1ef65db2",
        "order": 7,
        "disp": true,
        "width": "28",
        "collapse": false,
        "className": ""
    },
    {
        "id": "bb8131d665a80619",
        "type": "ui_group",
        "name": "Plant0",
        "tab": "7669ba0d1ef65db2",
        "order": 4,
        "disp": false,
        "width": "28",
        "collapse": false,
        "className": ""
    },
    {
        "id": "c8abbc48af1ee634",
        "type": "ui_group",
        "name": "192.168.1.123",
        "tab": "7669ba0d1ef65db2",
        "order": 9,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "525519bc0bab7ffa",
        "type": "ui_group",
        "name": "192.168.1.122",
        "tab": "7669ba0d1ef65db2",
        "order": 8,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "1043afea95749e7e",
        "type": "ui_group",
        "name": "Plant2",
        "tab": "7669ba0d1ef65db2",
        "order": 6,
        "disp": true,
        "width": "28",
        "collapse": false,
        "className": ""
    },
    {
        "id": "8df94cd6feceba15",
        "type": "ui_group",
        "name": "192.168.1.93",
        "tab": "7669ba0d1ef65db2",
        "order": 10,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "4dbd0bf695f76ff9",
        "type": "ui_group",
        "name": "Divers",
        "tab": "7669ba0d1ef65db2",
        "order": 1,
        "disp": false,
        "width": "28",
        "collapse": false,
        "className": ""
    },
    {
        "id": "62845a2eac6a2517",
        "type": "ui_tab",
        "name": "Scène",
        "icon": "dashboard",
        "order": 4,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "3c3f179d1411aeec",
        "type": "ui_group",
        "name": "Scène",
        "tab": "62845a2eac6a2517",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "a20ceb6c4e4ce564",
        "type": "ui_group",
        "name": "Configuration",
        "tab": "62845a2eac6a2517",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "49d1353fedfba3f0",
        "type": "websocket-client",
        "path": "ws://192.168.1.125/ws",
        "tls": "",
        "wholemsg": "false",
        "hb": "120",
        "subprotocol": ""
    },
    {
        "id": "9e271ef8.1ed8",
        "type": "ui_group",
        "name": "Dashboard",
        "tab": "20d4bd59.a21a22",
        "order": 1,
        "disp": true,
        "width": "4",
        "collapse": false
    },
    {
        "id": "c4bae040.b8a2",
        "type": "ui_group",
        "name": "Charts",
        "tab": "20d4bd59.a21a22",
        "order": 3,
        "disp": true,
        "width": "25",
        "collapse": false,
        "className": ""
    },
    {
        "id": "480f6c25.dd7064",
        "type": "ui_group",
        "name": "Chart Scaling",
        "tab": "20d4bd59.a21a22",
        "order": 2,
        "disp": true,
        "width": "3",
        "collapse": true
    },
    {
        "id": "20d4bd59.a21a22",
        "type": "ui_tab",
        "name": "DS Pilot Extrusion Line",
        "icon": "dashboard",
        "order": 3
    },
    {
        "id": "f097a88ab9860ab7",
        "type": "ui_tab",
        "name": "Conso Elec",
        "icon": "dashboard",
        "order": 8,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "53fd5e60a261c8c7",
        "type": "ui_group",
        "name": "Prise 1",
        "tab": "f097a88ab9860ab7",
        "order": 1,
        "disp": true,
        "width": "28",
        "collapse": false,
        "className": ""
    },
    {
        "id": "966da185446a8997",
        "type": "ui_group",
        "name": "Prise 2",
        "tab": "f097a88ab9860ab7",
        "order": 2,
        "disp": true,
        "width": "28",
        "collapse": false,
        "className": ""
    },
    {
        "id": "d7f425248770d3f3",
        "type": "ui_group",
        "name": "Test",
        "tab": "d9cb796.b2e4988",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "49d70a9bebf6daf5",
        "type": "yeelight-compat-hue-config",
        "hostname": "192.168.1.110",
        "port": "55443",
        "name": "Salon"
    },
    {
        "id": "8ba2b19114811642",
        "type": "yeelight-compat-hue-config",
        "hostname": "192.168.1.111",
        "port": "55443",
        "name": "Cuisine"
    },
    {
        "id": "8e8fe4e157122b8c",
        "type": "ui-base",
        "name": "HAB",
        "path": "/dashboard",
        "appIcon": "",
        "includeClientData": true,
        "acceptsClientConfig": [
            "ui-notification",
            "ui-control"
        ],
        "showPathInSidebar": false,
        "showPageTitle": true,
        "navigationStyle": "temporary",
        "titleBarStyle": "fixed"
    },
    {
        "id": "f247df7b555b654f",
        "type": "ui-page",
        "name": "Dehumidifier",
        "ui": "8e8fe4e157122b8c",
        "path": "/dehumidifier",
        "icon": "home",
        "layout": "grid",
        "theme": "5075a7d8e4947586",
        "breakpoints": [
            {
                "name": "Default",
                "px": "0",
                "cols": "3"
            },
            {
                "name": "Tablet",
                "px": "576",
                "cols": "6"
            },
            {
                "name": "Small Desktop",
                "px": "768",
                "cols": "9"
            },
            {
                "name": "Desktop",
                "px": "1024",
                "cols": "12"
            }
        ],
        "order": 3,
        "className": "",
        "visible": "true",
        "disabled": "false"
    },
    {
        "id": "1450e0140a3f1b0d",
        "type": "firebase-config",
        "name": "HAB DataLog",
        "authType": "anonymous",
        "claims": {},
        "createUser": false,
        "status": {
            "firestore": false,
            "storage": false
        },
        "useClaims": false
    },
    {
        "id": "20020005c6448949",
        "type": "ui-group",
        "name": "Group Name",
        "page": "f247df7b555b654f",
        "width": "12",
        "height": "1",
        "order": 1,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "09bc1d83d894a4fa",
        "type": "ui-link",
        "name": "Original Home",
        "ui": "8e8fe4e157122b8c",
        "path": "/original",
        "icon": "home",
        "order": 5,
        "visible": "true",
        "disabled": "false"
    },
    {
        "id": "5075a7d8e4947586",
        "type": "ui-theme",
        "name": "Default Theme",
        "colors": {
            "surface": "#ffffff",
            "primary": "#0094ce",
            "bgPage": "#eeeeee",
            "groupBg": "#ffffff",
            "groupOutline": "#cccccc"
        },
        "sizes": {
            "pagePadding": "12px",
            "groupGap": "12px",
            "groupBorderRadius": "4px",
            "widgetGap": "12px",
            "density": "default"
        }
    },
    {
        "id": "c34b61ca.077f1",
        "type": "ui_group",
        "name": "Wykres w czasie rzeczywistym",
        "tab": "8f1c9dab.c81588",
        "order": 1,
        "disp": true,
        "width": 13,
        "collapse": false
    },
    {
        "id": "8f1c9dab.c81588",
        "type": "ui_tab",
        "name": "Główna",
        "icon": "dashboard",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "1815a4f31816f5e4",
        "type": "ui-page",
        "name": "Page Test",
        "ui": "8e8fe4e157122b8c",
        "path": "/pageTest",
        "icon": "home",
        "layout": "grid",
        "theme": "5075a7d8e4947586",
        "breakpoints": [
            {
                "name": "Default",
                "px": "0",
                "cols": "3"
            },
            {
                "name": "Tablet",
                "px": "576",
                "cols": "6"
            },
            {
                "name": "Small Desktop",
                "px": "768",
                "cols": "9"
            },
            {
                "name": "Desktop",
                "px": "1024",
                "cols": "12"
            }
        ],
        "order": 2,
        "className": "",
        "visible": true,
        "disabled": false
    },
    {
        "id": "4dbe2210c524cb87",
        "type": "ui-group",
        "name": "Group Name",
        "page": "1815a4f31816f5e4",
        "width": "6",
        "height": "1",
        "order": 1,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "4c27a950bbcbd690",
        "type": "ui-page",
        "name": "Home",
        "ui": "8e8fe4e157122b8c",
        "path": "/",
        "icon": "home",
        "layout": "grid",
        "theme": "5075a7d8e4947586",
        "breakpoints": [
            {
                "name": "Default",
                "px": "0",
                "cols": "3"
            },
            {
                "name": "Tablet",
                "px": "576",
                "cols": "6"
            },
            {
                "name": "Small Desktop",
                "px": "768",
                "cols": "9"
            },
            {
                "name": "Desktop",
                "px": "1024",
                "cols": "12"
            }
        ],
        "order": 1,
        "className": "",
        "visible": true,
        "disabled": false
    },
    {
        "id": "ad3f056cd4901b44",
        "type": "ui-page",
        "name": "Admin",
        "ui": "8e8fe4e157122b8c",
        "path": "/admin",
        "icon": "admin",
        "layout": "grid",
        "theme": "5075a7d8e4947586",
        "breakpoints": [
            {
                "name": "Default",
                "px": "0",
                "cols": "3"
            },
            {
                "name": "Tablet",
                "px": "576",
                "cols": "6"
            },
            {
                "name": "Small Desktop",
                "px": "768",
                "cols": "9"
            },
            {
                "name": "Desktop",
                "px": "1024",
                "cols": "12"
            }
        ],
        "order": 4,
        "className": "",
        "visible": true,
        "disabled": false
    },
    {
        "id": "01f229163d63a638",
        "type": "ui-group",
        "name": "NodeRed Backup",
        "page": "ad3f056cd4901b44",
        "width": "6",
        "height": "1",
        "order": 1,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "8ca6330edfa414bc",
        "type": "function",
        "z": "d96e26d634947f5d",
        "name": "",
        "func": "var msgHumidity;\nvar msgHumidityTarget;\nvar msgPriming;\nvar msgPumpEnable;\nvar msgMeasureEnable;\nvar msgPumping;\n\nif (msg.payload.humidity !== undefined)\n    msgHumidity = { payload:msg.payload.humidity/10,\n                    topic:env.get(\"PlantName\") + \" humidité\"};\n\nif (msg.payload.humidityTarget !== undefined)\n    msgHumidityTarget = { payload:msg.payload.humidityTarget,\n                    topic:env.get(\"PlantName\") + \" consigne\"};\n                    \nif (msg.payload.priming !== undefined)\n    msgPriming = {payload:msg.payload.priming};\n    \nif (msg.payload.pumpEnable !== undefined)\n    msgPumpEnable = {payload:msg.payload.pumpEnable};\n    \nif (msg.payload.measureEnable!== undefined)\n    msgMeasureEnable = {payload:msg.payload.measureEnable};\n\nif (msg.payload.pumping !== undefined)\n    msgPumping = {  payload : msg.payload.pumping,\n                    topic : env.get(\"PlantName\") + \" pumping\",\n                    buttoncolor : msg.payload.pumping == 1 ? \"green\":\"grey\" };\n\nreturn [msgHumidity,\n        msgHumidityTarget,\n        msgPriming,\n        msgPumpEnable,\n        msgMeasureEnable,\n        msgPumping] ;",
        "outputs": 6,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 180,
        "y": 120,
        "wires": [
            [],
            [],
            [],
            [],
            [],
            []
        ]
    },
    {
        "id": "e1498ad1b2e67613",
        "type": "tcp in",
        "z": "737137f86c177d6c",
        "name": "",
        "server": "server",
        "host": "",
        "port": "${Port}",
        "datamode": "stream",
        "datatype": "utf8",
        "newline": "",
        "topic": "",
        "base64": false,
        "tls": "",
        "x": 200,
        "y": 140,
        "wires": [
            [
                "a52b7b7734e87610"
            ]
        ]
    },
    {
        "id": "7ffb092ab78d17a3",
        "type": "status",
        "z": "737137f86c177d6c",
        "name": "state:8887",
        "scope": [
            "e1498ad1b2e67613"
        ],
        "x": 200,
        "y": 100,
        "wires": [
            [
                "a52b7b7734e87610"
            ]
        ]
    },
    {
        "id": "a52b7b7734e87610",
        "type": "function",
        "z": "737137f86c177d6c",
        "name": "",
        "func": "var tcpServer = global.get(\"tcpServer\");\nif (tcpServer === undefined)    tcpServer = {};\nvar retMsg;\nvar retStatus;\nvar ip;\n\nif (msg.status !== undefined){  // Cas d'un status\n    ip = msg.status.ip.split(\":\")[3];\n    if (msg.status.event == \"connect\"){\n        tcpServer[ip] = msg.status._session;\n        retMsg = {  ip : ip};\n    }\n    if (tcpServer[ip] !== undefined && msg.status.event == \"disconnect\" && tcpServer[ip].id == msg.status._session.id)\n        delete tcpServer[ip];\n    retStatus = {payload : msg.status};\n    // retStatus = {payload : {text : msg.status.text}};\n}\nelse{   // Cas d'un msg\n    ip = msg.ip.split(\":\")[3];\n    if (tcpServer[ip] !== undefined && msg._session.id == tcpServer[ip].id)\n        retMsg = {  ip : ip,\n                    payload : JSON.parse(msg.payload)};\n}\nglobal.set(\"tcpServer\",tcpServer);\nreturn [retMsg,retStatus];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 120,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "0e94d4d2b8a2f919",
        "type": "tcp out",
        "z": "b15b4631c418658d",
        "name": "",
        "host": "",
        "port": "",
        "beserver": "reply",
        "base64": false,
        "end": false,
        "tls": "",
        "x": 370,
        "y": 140,
        "wires": []
    },
    {
        "id": "f14e71662e61e65b",
        "type": "function",
        "z": "b15b4631c418658d",
        "name": "",
        "func": "var msgSystem;\nvar msgPlant0;\nvar msgPlant1;\nvar msgPlant2;\nvar msgPlant3;\nif (msg.payload === undefined)\n    return;\n\nif (msg.payload.system!==undefined){\n    msgSystem = {payload:msg.payload.system};\n    msgSystem.payload.lastMsg = new Date().toLocaleString(\"fr-FR\");\n}\nelse\n    msgSystem = { payload: {lastMsg : new Date().toLocaleString(\"fr-FR\") }};\nif (msg.payload.plant0!==undefined)\n    msgPlant0 = {payload:msg.payload.plant0};\nif (msg.payload.plant1!==undefined)\n    msgPlant1 = {payload:msg.payload.plant1};\nif (msg.payload.plant2!==undefined)\n    msgPlant2 = {payload:msg.payload.plant2};\nif (msg.payload.plant3!==undefined)\n    msgPlant3 = {payload:msg.payload.plant3};\n\nreturn [msgSystem,msgPlant0,msgPlant1,msgPlant2,msgPlant3];",
        "outputs": 5,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 220,
        "wires": [
            [],
            [],
            [],
            [],
            []
        ]
    },
    {
        "id": "01bfb1f250708c1d",
        "type": "function",
        "z": "b15b4631c418658d",
        "name": "",
        "func": "var ip = msg.ip;\nif (ip != env.get(\"IP\"))\n    return;\n\nvar msgSend;\nvar tcpServer = global.get(\"tcpServer\");\nvar watering = global.get(\"watering\");\nif (watering === undefined) watering = {};\n\nif (watering[ip] === undefined){\n    msgSend = {payload : \"system.all=1\\nsystem.go=1\\n\",\n            _session : tcpServer[ip]};\n    watering[ip] = {};\n}\nelse{\n    if (msg.payload === undefined){ //Cas d'une connexion\n        var trame = \"\";\n        if (watering[ip].cmd !==undefined){\n            for (var key in watering[ip].cmd)\n                trame = trame + key + \"=\" + watering[ip].cmd[key] + \"\\n\";\n            delete watering[ip].cmd;\n        }\n        trame = trame + \"system.go=1\\n\";\n        msgSend = { payload :  trame,\n                    _session : tcpServer[ip]};\n    }\n    else{ //Si message surement un retour des cmd donc purge\n        delete watering[ip].cmd;\n    }\n}\nglobal.set(\"watering\",watering);\nreturn [msgSend,msg];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 200,
        "y": 200,
        "wires": [
            [
                "0e94d4d2b8a2f919",
                "b6c751582d771fef"
            ],
            [
                "f14e71662e61e65b"
            ]
        ]
    },
    {
        "id": "b6c751582d771fef",
        "type": "debug",
        "z": "b15b4631c418658d",
        "d": true,
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 370,
        "y": 100,
        "wires": []
    },
    {
        "id": "c5d0797e67053f7e",
        "type": "function",
        "z": "e0fe7cfd134b7dfb",
        "name": "",
        "func": "var IP = env.get(\"IP\");\nif (IP==\"\"){\n    node.warn(\"IP must be defined\");\n    return;\n}\n\n// Mémorisation sauf les commandes directes\nif (msg.payload != \"#CMD#\"){\n    var watering = global.get(\"watering\");\n    if (watering === undefined) watering = {};\n    if (watering[IP] === undefined) watering[IP] = {};\n    if (watering[IP].cmd === undefined) watering[IP].cmd={}\n    watering[IP].cmd[msg.topic] = msg.payload;\n    global.set(\"watering\", watering);\n}\n\n// Vérifier que l'équipement s'est déjà connecté au moins 1 fois\nvar tcpServer = global.get(\"tcpServer\");\nif (tcpServer === undefined) return;\nif (tcpServer[IP]=== undefined) return;\n\nvar send = { payload : msg.topic,\n            _session : tcpServer[IP]};\n\nif (msg.payload != \"#CMD#\")\n    send.payload = send.payload + \"=\" + msg.payload;\n\nsend.payload = send.payload + \"\\n\";\nreturn send;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 180,
        "y": 100,
        "wires": [
            [
                "8ac4920012f50113",
                "684608227963e8e5"
            ]
        ]
    },
    {
        "id": "8ac4920012f50113",
        "type": "tcp out",
        "z": "e0fe7cfd134b7dfb",
        "name": "TCP_Send",
        "host": "",
        "port": "",
        "beserver": "reply",
        "base64": false,
        "end": false,
        "tls": "",
        "x": 370,
        "y": 100,
        "wires": []
    },
    {
        "id": "684608227963e8e5",
        "type": "debug",
        "z": "e0fe7cfd134b7dfb",
        "d": true,
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 350,
        "y": 140,
        "wires": []
    },
    {
        "id": "0f5eb07c2f7a43dd",
        "type": "function",
        "z": "518d5f9f6a504e19",
        "name": "",
        "func": "if (env.get(\"section\") === undefined){\n    node.warn(\"Node section must be defined\");\n    return;\n}\nif (msg.topic === undefined || msg.topic == \"\"){\n    node.warn(\"Message topic must be defined\");\n    return;\n}\nmsg.topic = env.get(\"section\") + \".\" + msg.topic;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 200,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "f7ecd262153c3405",
        "type": "function",
        "z": "3e8cfd372c0d29f8",
        "name": "",
        "func": "var msgPeriod;\nvar msgBattery;\nvar msgLastMsg;\nvar msgWaterLevel;\n\nif (msg.payload.period !== undefined)\n    msgPeriod = {   payload:msg.payload.period,\n                    current:msg.payload.period};\nif (msg.payload.battery !== undefined)\n    msgBattery = {payload:msg.payload.battery};\n\nif (msg.payload.lastMsg !== undefined)\n    msgLastMsg = { payload: msg.payload.lastMsg };\n\nif (msg.payload.level !== undefined)\n    msgWaterLevel = { payload: msg.payload.level };\n\nreturn [msgPeriod, msgBattery, msgLastMsg, msgWaterLevel];",
        "outputs": 4,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 210,
        "y": 90,
        "wires": [
            [],
            [],
            [],
            []
        ]
    },
    {
        "id": "dac982e4.295a6",
        "type": "ui_switch",
        "z": "26dfe9b1.bda826",
        "name": "Switch",
        "label": "SWITCH",
        "tooltip": "",
        "group": "4d149b88.919684",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": false,
        "decouple": "true",
        "topic": "",
        "topicType": "str",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "animate": true,
        "className": "",
        "x": 260,
        "y": 310,
        "wires": [
            [
                "5252b8bef9080a0e"
            ]
        ]
    },
    {
        "id": "e6b76d4a.9f8d8",
        "type": "ui_slider",
        "z": "26dfe9b1.bda826",
        "name": "Set Saturation",
        "label": "SET SATURATION",
        "tooltip": "",
        "group": "4d149b88.919684",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "outs": "all",
        "topic": "",
        "topicType": "str",
        "min": "0",
        "max": "255",
        "step": "10",
        "className": "",
        "x": 290,
        "y": 410,
        "wires": [
            [
                "831ba17d.4717f"
            ]
        ]
    },
    {
        "id": "c2fdce8.3e94d3",
        "type": "ui_slider",
        "z": "26dfe9b1.bda826",
        "name": "Set Brightness",
        "label": "SET BRIGHTNESS",
        "tooltip": "",
        "group": "4d149b88.919684",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "outs": "all",
        "topic": "",
        "topicType": "str",
        "min": "0",
        "max": "255",
        "step": "10",
        "className": "",
        "x": 290,
        "y": 360,
        "wires": [
            [
                "34bb2251.8cb32e"
            ]
        ]
    },
    {
        "id": "10f447f5.c811d8",
        "type": "ui_colour_picker",
        "z": "26dfe9b1.bda826",
        "name": "Color Picker",
        "label": "",
        "group": "4d149b88.919684",
        "format": "hex",
        "outformat": "string",
        "showSwatch": false,
        "showPicker": true,
        "showValue": false,
        "showHue": false,
        "showAlpha": false,
        "showLightness": false,
        "square": "false",
        "order": 1,
        "width": "6",
        "height": "6",
        "passthru": true,
        "topic": "",
        "topicType": "str",
        "className": "",
        "x": 230,
        "y": 260,
        "wires": [
            [
                "9c5845c.0c221b8"
            ]
        ]
    },
    {
        "id": "34bb2251.8cb32e",
        "type": "function",
        "z": "26dfe9b1.bda826",
        "name": "Format Brightness",
        "func": "msg.payload='{\"bri\":' + msg.payload + '}' ;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 480,
        "y": 360,
        "wires": [
            [
                "5ad21c25b1d3f1a8"
            ]
        ]
    },
    {
        "id": "9c5845c.0c221b8",
        "type": "function",
        "z": "26dfe9b1.bda826",
        "name": "Format Color",
        "func": "msg.payload='{\"on\": true, \"hex\": \"' + msg.payload + '\", \"sat\":0, \"duration\":4000}' ;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 411,
        "y": 260,
        "wires": [
            [
                "b686f810452a5a24"
            ]
        ]
    },
    {
        "id": "831ba17d.4717f",
        "type": "function",
        "z": "26dfe9b1.bda826",
        "name": "Format Saturation",
        "func": "msg.payload='{\"on\": true, \"sat\":' + msg.payload + '}' ;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 480,
        "y": 410,
        "wires": [
            [
                "22480c4a338513be"
            ]
        ]
    },
    {
        "id": "bfd22fbc.15d5",
        "type": "function",
        "z": "26dfe9b1.bda826",
        "name": "Format Temperature",
        "func": "msg.payload='{\"on\": true, \"ct\":' + msg.payload + '}' ;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 489,
        "y": 463,
        "wires": [
            [
                "dd48bc87133af989"
            ]
        ]
    },
    {
        "id": "700e97a4.29cc08",
        "type": "ui_slider",
        "z": "26dfe9b1.bda826",
        "name": "Set Temperature",
        "label": "SET TEMPERATURE",
        "tooltip": "",
        "group": "4d149b88.919684",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "outs": "all",
        "topic": "",
        "topicType": "str",
        "min": "1700",
        "max": "6500",
        "step": "100",
        "className": "",
        "x": 290,
        "y": 460,
        "wires": [
            [
                "bfd22fbc.15d5"
            ]
        ]
    },
    {
        "id": "6364495a.0dc918",
        "type": "ui_slider",
        "z": "26dfe9b1.bda826",
        "name": "Set Hue",
        "label": "SET HUE",
        "tooltip": "",
        "group": "4d149b88.919684",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "outs": "all",
        "topic": "",
        "topicType": "str",
        "min": "0",
        "max": "65535",
        "step": "2000",
        "className": "",
        "x": 310,
        "y": 510,
        "wires": [
            [
                "3539304d.7295"
            ]
        ]
    },
    {
        "id": "3539304d.7295",
        "type": "function",
        "z": "26dfe9b1.bda826",
        "name": "Format Temperature",
        "func": "msg.payload='{\"on\": true, \"hue\":' + msg.payload + '}' ;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 487,
        "y": 510,
        "wires": [
            [
                "00594cddcaad5721"
            ]
        ]
    },
    {
        "id": "a6ce1990.895f58",
        "type": "debug",
        "z": "26dfe9b1.bda826",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 830,
        "y": 300,
        "wires": []
    },
    {
        "id": "8a60e1f2.3c64d",
        "type": "ui_switch",
        "z": "26dfe9b1.bda826",
        "name": "",
        "label": "Arrière TV",
        "tooltip": "",
        "group": "4d149b88.919684",
        "order": 8,
        "width": 0,
        "height": 0,
        "passthru": false,
        "decouple": "true",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 550,
        "y": 80,
        "wires": [
            [
                "cb97725a.26103"
            ]
        ]
    },
    {
        "id": "cb97725a.26103",
        "type": "deconz-output",
        "z": "26dfe9b1.bda826",
        "name": "TVBackLight",
        "config_version": 2,
        "server": "98dc4fb5.8af9c",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "lights/uniqueid/00:17:88:01:08:9d:f1:10-0b"
        ],
        "device_name": "TVBackLight : On/Off plug-in unit",
        "query": "{}",
        "commands": [
            {
                "arg": {
                    "on": {
                        "type": "msg",
                        "value": "payload"
                    },
                    "alert": {
                        "type": "str",
                        "value": ""
                    },
                    "effect": {
                        "type": "str",
                        "value": ""
                    },
                    "colorloopspeed": {
                        "type": "num",
                        "value": ""
                    },
                    "transitiontime": {
                        "type": "num",
                        "value": ""
                    },
                    "retryonerror": {
                        "type": "num",
                        "value": "0"
                    },
                    "aftererror": {
                        "type": "continue",
                        "value": ""
                    },
                    "bri": {
                        "direction": "set",
                        "type": "num",
                        "value": ""
                    },
                    "sat": {
                        "direction": "set",
                        "type": "num",
                        "value": ""
                    },
                    "hue": {
                        "direction": "set",
                        "type": "num",
                        "value": ""
                    },
                    "ct": {
                        "direction": "set",
                        "type": "num",
                        "value": ""
                    },
                    "xy": {
                        "direction": "set",
                        "type": "json",
                        "value": "[]"
                    }
                },
                "type": "deconz_state",
                "domain": "lights"
            }
        ],
        "specific": {
            "delay": {
                "type": "num",
                "value": "50"
            },
            "result": {
                "type": "at_end",
                "value": ""
            }
        },
        "x": 970,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "3cafad5.1749152",
        "type": "deconz-input",
        "z": "26dfe9b1.bda826",
        "name": "TVBackLight",
        "topic": "",
        "config_version": 2,
        "server": "98dc4fb5.8af9c",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "lights/uniqueid/00:17:88:01:08:9d:f1:10-0b"
        ],
        "device_name": "TVBackLight : On/Off plug-in unit",
        "query": "{}",
        "outputs": 1,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "onchange",
                "onstart": true,
                "payload": [
                    "on"
                ]
            }
        ],
        "x": 90,
        "y": 80,
        "wires": [
            [
                "8a60e1f2.3c64d"
            ]
        ]
    },
    {
        "id": "4c48d97a6b09ec46",
        "type": "websocket in",
        "z": "26dfe9b1.bda826",
        "name": "DeskLED",
        "server": "",
        "client": "49d1353fedfba3f0",
        "x": 80,
        "y": 130,
        "wires": [
            [
                "4666af5a9f457826"
            ]
        ]
    },
    {
        "id": "040f38bf13995acb",
        "type": "function",
        "z": "26dfe9b1.bda826",
        "name": "Object2Value",
        "func": "//return {\"payload\" : msg.payload.state.on};\nreturn { payload: msg.payload.state.on };",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 130,
        "wires": [
            [
                "ec6cce9934942c82"
            ]
        ]
    },
    {
        "id": "ec6cce9934942c82",
        "type": "ui_switch",
        "z": "26dfe9b1.bda826",
        "name": "",
        "label": "Desk",
        "tooltip": "",
        "group": "4d149b88.919684",
        "order": 8,
        "width": 0,
        "height": 0,
        "passthru": false,
        "decouple": "true",
        "topic": "on",
        "topicType": "str",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "animate": true,
        "className": "",
        "x": 530,
        "y": 130,
        "wires": [
            [
                "4c5b45033d1467c9"
            ]
        ]
    },
    {
        "id": "4533cf23d1e9f967",
        "type": "inject",
        "z": "26dfe9b1.bda826",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"on\":false}",
        "payloadType": "json",
        "x": 700,
        "y": 560,
        "wires": [
            [
                "e0be30cab87f47b9"
            ]
        ]
    },
    {
        "id": "4c5eef15d514db23",
        "type": "function",
        "z": "26dfe9b1.bda826",
        "name": "Brightness",
        "func": "return {payload : msg.payload.state.bri};",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 110,
        "y": 360,
        "wires": [
            [
                "c2fdce8.3e94d3"
            ]
        ]
    },
    {
        "id": "24ef45879567d272",
        "type": "function",
        "z": "26dfe9b1.bda826",
        "name": "Format Hue",
        "func": "return {payload : msg.payload.state.hue};",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 120,
        "y": 510,
        "wires": [
            [
                "6364495a.0dc918"
            ]
        ]
    },
    {
        "id": "92f23d26331221bf",
        "type": "function",
        "z": "26dfe9b1.bda826",
        "name": "Format CT",
        "func": "return {payload : msg.payload.state.ct};",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 120,
        "y": 460,
        "wires": [
            [
                "700e97a4.29cc08"
            ]
        ]
    },
    {
        "id": "1db4fecd196bc7a3",
        "type": "function",
        "z": "26dfe9b1.bda826",
        "name": "Format Sat",
        "func": "return {payload : msg.payload.state.sat};",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 110,
        "y": 410,
        "wires": [
            [
                "e6b76d4a.9f8d8"
            ]
        ]
    },
    {
        "id": "364e57048dfd1203",
        "type": "debug",
        "z": "26dfe9b1.bda826",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 330,
        "y": 630,
        "wires": []
    },
    {
        "id": "935febf3255fe621",
        "type": "function",
        "z": "26dfe9b1.bda826",
        "name": "on",
        "func": "return {payload : msg.payload.state.on};",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 90,
        "y": 310,
        "wires": [
            [
                "dac982e4.295a6"
            ]
        ]
    },
    {
        "id": "5252b8bef9080a0e",
        "type": "function",
        "z": "26dfe9b1.bda826",
        "name": "Value2Object",
        "func": "msg.payload = '{\"on\":' + msg.payload + '}';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 310,
        "wires": [
            [
                "417fb70f5cc11edd"
            ]
        ]
    },
    {
        "id": "950b9ff87f5c06d9",
        "type": "deconz-output",
        "z": "26dfe9b1.bda826",
        "name": "Back TV",
        "config_version": 2,
        "server": "98dc4fb5.8af9c",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "lights/uniqueid/00:17:88:01:08:9d:f1:10-0b"
        ],
        "device_name": "TVBackLight : On/Off plug-in unit",
        "query": "{}",
        "commands": [
            {
                "arg": {
                    "on": {
                        "type": "msg",
                        "value": "payload.on"
                    },
                    "alert": {
                        "type": "str",
                        "value": ""
                    },
                    "effect": {
                        "type": "str",
                        "value": ""
                    },
                    "colorloopspeed": {
                        "type": "num",
                        "value": ""
                    },
                    "transitiontime": {
                        "type": "num",
                        "value": ""
                    },
                    "retryonerror": {
                        "type": "num",
                        "value": "0"
                    },
                    "aftererror": {
                        "type": "continue",
                        "value": ""
                    },
                    "bri": {
                        "direction": "set",
                        "type": "num",
                        "value": ""
                    },
                    "sat": {
                        "direction": "set",
                        "type": "num",
                        "value": ""
                    },
                    "hue": {
                        "direction": "set",
                        "type": "num",
                        "value": ""
                    },
                    "ct": {
                        "direction": "set",
                        "type": "num",
                        "value": ""
                    },
                    "xy": {
                        "direction": "set",
                        "type": "json",
                        "value": "[]"
                    }
                },
                "type": "deconz_state",
                "domain": "lights"
            }
        ],
        "specific": {
            "delay": {
                "type": "num",
                "value": "50"
            },
            "result": {
                "type": "at_end",
                "value": ""
            }
        },
        "x": 570,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "428faccf73f62259",
        "type": "inject",
        "z": "26dfe9b1.bda826",
        "name": "On",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"on\":true,\"duration\":2500}",
        "payloadType": "json",
        "x": 330,
        "y": 800,
        "wires": [
            [
                "950b9ff87f5c06d9",
                "c0a14f0cc49956a2",
                "7b02db7ec1e357fa",
                "eb3f250efdb0f089"
            ]
        ]
    },
    {
        "id": "dcf6e1cc940e96ac",
        "type": "inject",
        "z": "26dfe9b1.bda826",
        "name": "Off",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"on\":false,\"duration\":2500}",
        "payloadType": "json",
        "x": 330,
        "y": 840,
        "wires": [
            [
                "950b9ff87f5c06d9",
                "c0a14f0cc49956a2",
                "7b02db7ec1e357fa",
                "eb3f250efdb0f089",
                "7b94e91a8d1f6ea6"
            ]
        ]
    },
    {
        "id": "7b02db7ec1e357fa",
        "type": "websocket out",
        "z": "26dfe9b1.bda826",
        "name": "DesktopLED",
        "server": "",
        "client": "49d1353fedfba3f0",
        "x": 580,
        "y": 740,
        "wires": []
    },
    {
        "id": "eb3f250efdb0f089",
        "type": "debug",
        "z": "26dfe9b1.bda826",
        "name": "debug 59",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 570,
        "y": 700,
        "wires": []
    },
    {
        "id": "4666af5a9f457826",
        "type": "json",
        "z": "26dfe9b1.bda826",
        "name": "",
        "property": "payload",
        "action": "obj",
        "pretty": false,
        "x": 230,
        "y": 130,
        "wires": [
            [
                "040f38bf13995acb"
            ]
        ]
    },
    {
        "id": "4c5b45033d1467c9",
        "type": "function",
        "z": "26dfe9b1.bda826",
        "name": "Topic 2 Attribut",
        "func": "return { payload : { [msg.topic] : msg.payload }};\n//return msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 740,
        "y": 130,
        "wires": [
            [
                "6dbf53315be5187b"
            ]
        ]
    },
    {
        "id": "6dbf53315be5187b",
        "type": "websocket out",
        "z": "26dfe9b1.bda826",
        "name": "DeskLED",
        "server": "",
        "client": "49d1353fedfba3f0",
        "x": 960,
        "y": 130,
        "wires": []
    },
    {
        "id": "7b94e91a8d1f6ea6",
        "type": "samsungTV",
        "z": "26dfe9b1.bda826",
        "ip": "192.168.1.114",
        "command": "KEY_POWEROFF",
        "name": "TV",
        "x": 560,
        "y": 860,
        "wires": [
            []
        ]
    },
    {
        "id": "cbccac63a34487a7",
        "type": "deconz-output",
        "z": "26dfe9b1.bda826",
        "name": "Globe",
        "config_version": 2,
        "server": "98dc4fb5.8af9c",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "lights/uniqueid/00:17:88:01:01:14:d5:57-0b"
        ],
        "device_name": "TVBackLight : On/Off plug-in unit",
        "query": "{}",
        "commands": [
            {
                "arg": {
                    "on": {
                        "type": "msg",
                        "value": "payload"
                    },
                    "alert": {
                        "type": "str",
                        "value": ""
                    },
                    "effect": {
                        "type": "str",
                        "value": ""
                    },
                    "colorloopspeed": {
                        "type": "num",
                        "value": ""
                    },
                    "transitiontime": {
                        "type": "num",
                        "value": ""
                    },
                    "retryonerror": {
                        "type": "num",
                        "value": "0"
                    },
                    "aftererror": {
                        "type": "continue",
                        "value": ""
                    },
                    "bri": {
                        "direction": "set",
                        "type": "num",
                        "value": ""
                    },
                    "sat": {
                        "direction": "set",
                        "type": "num",
                        "value": ""
                    },
                    "hue": {
                        "direction": "set",
                        "type": "num",
                        "value": ""
                    },
                    "ct": {
                        "direction": "set",
                        "type": "num",
                        "value": ""
                    },
                    "xy": {
                        "direction": "set",
                        "type": "json",
                        "value": "[]"
                    }
                },
                "type": "deconz_state",
                "domain": "lights"
            }
        ],
        "specific": {
            "delay": {
                "type": "num",
                "value": "50"
            },
            "result": {
                "type": "at_end",
                "value": ""
            }
        },
        "x": 950,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "51cbc645f7b5d413",
        "type": "ui_switch",
        "z": "26dfe9b1.bda826",
        "name": "",
        "label": "Globe",
        "tooltip": "",
        "group": "4d149b88.919684",
        "order": 8,
        "width": 0,
        "height": 0,
        "passthru": false,
        "decouple": "true",
        "topic": "on",
        "topicType": "str",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "animate": true,
        "className": "",
        "x": 530,
        "y": 180,
        "wires": [
            [
                "cbccac63a34487a7"
            ]
        ]
    },
    {
        "id": "410376e80edf5648",
        "type": "deconz-input",
        "z": "26dfe9b1.bda826",
        "name": "Globe",
        "topic": "",
        "config_version": 2,
        "server": "98dc4fb5.8af9c",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "lights/uniqueid/00:17:88:01:01:14:d5:57-0b"
        ],
        "device_name": "TVBackLight : On/Off plug-in unit",
        "query": "{}",
        "outputs": 1,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "always",
                "onstart": true,
                "payload": [
                    "__complete__"
                ]
            }
        ],
        "x": 70,
        "y": 180,
        "wires": [
            [
                "a0b4837fa2fd0a18",
                "34334967c0e1a5ff"
            ]
        ]
    },
    {
        "id": "a0b4837fa2fd0a18",
        "type": "function",
        "z": "26dfe9b1.bda826",
        "name": "on",
        "func": "return {payload : msg.payload.on};",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 370,
        "y": 180,
        "wires": [
            [
                "51cbc645f7b5d413"
            ]
        ]
    },
    {
        "id": "34334967c0e1a5ff",
        "type": "debug",
        "z": "26dfe9b1.bda826",
        "name": "debug 61",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 230,
        "y": 210,
        "wires": []
    },
    {
        "id": "d86b28f3c8789332",
        "type": "debug",
        "z": "26dfe9b1.bda826",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 330,
        "y": 670,
        "wires": []
    },
    {
        "id": "6763063b5078c2f4",
        "type": "debug",
        "z": "26dfe9b1.bda826",
        "name": "debug 66",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 330,
        "y": 590,
        "wires": []
    },
    {
        "id": "0622850428c3a4de",
        "type": "debug",
        "z": "26dfe9b1.bda826",
        "name": "debug 67",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 320,
        "y": 710,
        "wires": []
    },
    {
        "id": "fe0d88bff81e103d",
        "type": "yeelight-compat-hue-out",
        "z": "26dfe9b1.bda826",
        "name": "",
        "server": "49d70a9bebf6daf5",
        "x": 800,
        "y": 360,
        "wires": []
    },
    {
        "id": "e0be30cab87f47b9",
        "type": "yeelight-compat-hue-out",
        "z": "26dfe9b1.bda826",
        "name": "",
        "server": "8ba2b19114811642",
        "x": 810,
        "y": 420,
        "wires": []
    },
    {
        "id": "c0a14f0cc49956a2",
        "type": "yeelight-compat-hue-out",
        "z": "26dfe9b1.bda826",
        "name": "",
        "server": "49d70a9bebf6daf5",
        "x": 560,
        "y": 780,
        "wires": []
    },
    {
        "id": "25a2f30c520eb41d",
        "type": "yeelight-compat-hue-state",
        "z": "26dfe9b1.bda826",
        "name": "",
        "server": "49d70a9bebf6daf5",
        "x": 100,
        "y": 610,
        "wires": [
            [
                "4c5eef15d514db23",
                "24ef45879567d272",
                "92f23d26331221bf",
                "1db4fecd196bc7a3",
                "364e57048dfd1203",
                "935febf3255fe621",
                "6763063b5078c2f4"
            ]
        ]
    },
    {
        "id": "a3fb68246d4ac241",
        "type": "yeelight-compat-hue-state",
        "z": "26dfe9b1.bda826",
        "name": "",
        "server": "8ba2b19114811642",
        "x": 110,
        "y": 670,
        "wires": [
            [
                "d86b28f3c8789332",
                "0622850428c3a4de"
            ]
        ]
    },
    {
        "id": "4cc0b7af.ebcbe8",
        "type": "deconz-input",
        "z": "3d8b03d0.c5d9dc",
        "name": "Inter1",
        "topic": "",
        "config_version": 2,
        "server": "98dc4fb5.8af9c",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/00:17:88:01:06:a6:77:1e-02-fc00"
        ],
        "device_name": "Inter1 : ZHASwitch",
        "query": "",
        "outputs": 1,
        "output_rules": [
            {
                "type": "homekit",
                "format": "single",
                "onstart": false,
                "onerror": true,
                "payload": [
                    "__auto__"
                ],
                "uniqueId": "ui-id-6"
            }
        ],
        "x": 90,
        "y": 440,
        "wires": [
            [
                "2f986f22.58fa6"
            ]
        ]
    },
    {
        "id": "ddeb46bd.27cfe8",
        "type": "deconz-input",
        "z": "3d8b03d0.c5d9dc",
        "name": "Brightness",
        "topic": "Brightness",
        "config_version": 2,
        "server": "98dc4fb5.8af9c",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/00:15:8d:00:04:4d:c8:6e-01-0400"
        ],
        "device_name": "MotionAndLigth : ZHALightLevel",
        "query": "{}",
        "outputs": 1,
        "output_rules": [
            {
                "type": "homekit",
                "format": "single",
                "onstart": true,
                "onerror": true,
                "payload": [
                    "CurrentAmbientLightLevel"
                ],
                "uniqueId": "ui-id-24"
            }
        ],
        "x": 80,
        "y": 640,
        "wires": [
            [
                "fbd555ae5e15c81f"
            ]
        ]
    },
    {
        "id": "2f986f22.58fa6",
        "type": "function",
        "z": "3d8b03d0.c5d9dc",
        "name": "Inter",
        "func": "var cmdMsg;\nvar msgGraph;\n\nvar cmd = msg.payload.ProgrammableSwitchEvent * 10 + msg.payload.ServiceLabelIndex;\n//node.warn(cmd);\nswitch(cmd){\n    case 1: //Court 1\n        break;\n    case 2: //Court X\n        // Récupération du dernier état puis mise à jour\n        cmdMsg = {payload : flow.get(\"light\")};\n        cmdMsg.payload.bri = cmdMsg.payload.on ? Math.min(cmdMsg.payload.bri + 25,255) : 125;\n        cmdMsg.payload.on = true;\n        break;\n    case 3: //Court x\n        // Récupération du dernier état puis mise à jour\n        cmdMsg = {payload : flow.get(\"light\")};\n        cmdMsg.payload.bri = cmdMsg.payload.on ? Math.max(cmdMsg.payload.bri - 25,1) : 25;\n        cmdMsg.payload.on = true;\n        break;\n    case 4: //Court 0\n        break;\n    case 21://Long 1\n        flow.set(\"auto\", false);\n        break;\n    case 22://Long X\n        break;\n    case 23://Long x\n        break;\n    case 24://Long 0\n        flow.set(\"auto\", true);\n        global.set(\"presence\", false);\n        msgGraph = {payload:(global.get(\"presence\")?1:0),\n                    topic:'Presence'};\n        break;\n}\nreturn [cmdMsg, msgGraph];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 280,
        "y": 440,
        "wires": [
            [
                "5d22db96d6d406d6"
            ],
            [
                "3ad8d18a09943845"
            ]
        ]
    },
    {
        "id": "1343f331.d91b3d",
        "type": "function",
        "z": "3d8b03d0.c5d9dc",
        "name": "MemBright",
        "func": "flow.set(\"light\",msg.payload.state);",
        "outputs": 0,
        "noerr": 0,
        "x": 250,
        "y": 60,
        "wires": []
    },
    {
        "id": "31f6377a.4274c8",
        "type": "function",
        "z": "3d8b03d0.c5d9dc",
        "name": "ExtractLux",
        "func": "var msgLux = {\n    payload: msg.payload.CurrentAmbientLightLevel,\n    topic:'Luminosité'};\nvar msgLevelLow = {\n    payload: global.get(\"brightnessLow\",\"file\"),\n    topic:'Seuil Bas'};\nvar msgLevelHigh = {\n    payload: global.get(\"brightnessHigh\", \"file\"),\n    topic: 'Seuil Haut'\n};\nreturn [msgLux, msgLevelLow, msgLevelHigh];",
        "outputs": 3,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 250,
        "y": 1020,
        "wires": [
            [
                "a1849575.6ba7b8",
                "1cbfc4303d5c0981"
            ],
            [
                "a1849575.6ba7b8",
                "1cbfc4303d5c0981"
            ],
            [
                "a1849575.6ba7b8",
                "1cbfc4303d5c0981"
            ]
        ]
    },
    {
        "id": "a1849575.6ba7b8",
        "type": "ui_chart",
        "z": "3d8b03d0.c5d9dc",
        "name": "",
        "group": "16b7a9d3.bdf4b6",
        "order": 1,
        "width": 28,
        "height": 13,
        "label": "Lux 2J",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": "2",
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 440,
        "y": 1010,
        "wires": [
            []
        ]
    },
    {
        "id": "3747ccb5.826814",
        "type": "function",
        "z": "3d8b03d0.c5d9dc",
        "name": "AutoLight",
        "func": "if (! (flow.get(\"auto\") === undefined || flow.get(\"auto\")))\n    return null;\n\nvar currentPresence = global.get(\"presence\") && global.get(\"noBrightness\");\nif (currentPresence === undefined)\n    return null;\n\nvar cmdMsg = {\n    payload : {\n        on : currentPresence,\n        duration : 4000}};\nvar msgGraph = {\n    payload: currentPresence?7:6,\n    topic:'Light'};\n\nreturn [cmdMsg,msgGraph];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 580,
        "y": 660,
        "wires": [
            [
                "5d22db96d6d406d6",
                "1bf1f7d19bb99e60"
            ],
            [
                "3ad8d18a09943845"
            ]
        ]
    },
    {
        "id": "6f14ba6.f783644",
        "type": "deconz-input",
        "z": "3d8b03d0.c5d9dc",
        "name": "Motion",
        "topic": "Motion",
        "config_version": 2,
        "server": "98dc4fb5.8af9c",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/00:15:8d:00:04:4d:c8:6e-01-0406"
        ],
        "device_name": "MotionAndLigth : ZHAPresence",
        "query": "",
        "outputs": 1,
        "output_rules": [
            {
                "type": "homekit",
                "format": "single",
                "onstart": true,
                "onerror": true,
                "payload": [
                    "MotionDetected"
                ],
                "uniqueId": "ui-id-15"
            }
        ],
        "x": 70,
        "y": 780,
        "wires": [
            [
                "21a1bed06d0e9169",
                "108bc2b98b605f38"
            ]
        ]
    },
    {
        "id": "a44c8dc9.c64",
        "type": "deconz-input",
        "z": "3d8b03d0.c5d9dc",
        "name": "Door",
        "topic": "Door",
        "config_version": 2,
        "server": "98dc4fb5.8af9c",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/00:15:8d:00:05:79:e3:13-01-0006"
        ],
        "device_name": "OpenCloseDoorMain : ZHAOpenClose",
        "query": "{}",
        "outputs": 1,
        "output_rules": [
            {
                "type": "homekit",
                "format": "single",
                "onstart": true,
                "onerror": true,
                "payload": [
                    "__auto__"
                ],
                "uniqueId": "ui-id-4"
            }
        ],
        "x": 70,
        "y": 720,
        "wires": [
            [
                "39211861dac037de",
                "0d9e01925c08a0ca"
            ]
        ]
    },
    {
        "id": "30e82b29.a29b84",
        "type": "function",
        "z": "3d8b03d0.c5d9dc",
        "name": "Bool2Numeric",
        "func": "msg.payload = (msg.payload?3:2);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 260,
        "y": 900,
        "wires": [
            [
                "3ad8d18a09943845"
            ]
        ]
    },
    {
        "id": "ce275aea.8d57f8",
        "type": "ui_chart",
        "z": "3d8b03d0.c5d9dc",
        "name": "",
        "group": "16b7a9d3.bdf4b6",
        "order": 4,
        "width": 28,
        "height": 9,
        "label": "Presence 1H",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "step",
        "nodata": "",
        "dot": true,
        "ymin": "0",
        "ymax": "",
        "removeOlder": "1",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#ff0505",
            "#2bff0f",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 760,
        "y": 780,
        "wires": [
            []
        ]
    },
    {
        "id": "a58be078.44f4e",
        "type": "samsungTV",
        "z": "3d8b03d0.c5d9dc",
        "d": true,
        "ip": "192.168.1.119",
        "command": "KEY_POWEROFF",
        "name": "TV",
        "x": 840,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "39211861dac037de",
        "type": "function",
        "z": "3d8b03d0.c5d9dc",
        "name": "memPresence",
        "func": "if (msg.payload.MotionDetected || msg.payload.ContactSensorState == 1){\n    global.set(\"presence\", true);\n}\nif (msg.topic==\"Motion\" && !msg.payload.MotionDetected){\n    global.set(\"presence\", false);\n    flow.set(\"auto\", true);\n}\n\nmsg.payload.presence = global.get(\"presence\");\nnode.status({fill:global.get(\"presence\")?\"green\":\"red\",shape:\"dot\",text:global.get(\"presence\")});\n\nvar msgGraph = {payload:(global.get(\"presence\")?1:0),\n            topic:'Presence'};\n\nreturn [msg, msgGraph];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "// Code added here will be run once\n// whenever the node is started.\nnode.status({fill:global.get(\"presence\")?\"green\":\"red\",shape:\"dot\",text:global.get(\"presence\")});\n",
        "finalize": "",
        "libs": [],
        "x": 420,
        "y": 750,
        "wires": [
            [
                "3747ccb5.826814",
                "1d92c64469770ec4"
            ],
            [
                "3ad8d18a09943845"
            ]
        ]
    },
    {
        "id": "e58bc1297bd40566",
        "type": "trigger",
        "z": "3d8b03d0.c5d9dc",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "pay",
        "duration": "60",
        "extend": false,
        "overrideDelay": true,
        "units": "min",
        "reset": "true",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 250,
        "y": 840,
        "wires": [
            [
                "39211861dac037de"
            ]
        ]
    },
    {
        "id": "21a1bed06d0e9169",
        "type": "function",
        "z": "3d8b03d0.c5d9dc",
        "name": "Switch",
        "func": "if (flow.get(\"ignore\"))\n    return [msg, {\"reset\" : true}];\nelse{\n    if (msg.payload.MotionDetected)\n        return [msg, {\"reset\" : true}];\n    else{\n        msg.delay = global.get(\"presenceDelay\", \"file\") * 60000;\n        return [null, msg];\n    }\n}",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 230,
        "y": 780,
        "wires": [
            [
                "39211861dac037de"
            ],
            [
                "e58bc1297bd40566"
            ]
        ],
        "outputLabels": [
            "True",
            "False"
        ]
    },
    {
        "id": "bd73700409128181",
        "type": "function",
        "z": "3d8b03d0.c5d9dc",
        "name": "Bool2Numeric",
        "func": "msg.payload = (msg.payload.MotionDetected?5:4);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 260,
        "y": 950,
        "wires": [
            [
                "3ad8d18a09943845"
            ]
        ]
    },
    {
        "id": "1d92c64469770ec4",
        "type": "function",
        "z": "3d8b03d0.c5d9dc",
        "name": "updateAutoMode",
        "func": "if (!msg.payload.presence)\n    flow.set(\"auto\",true);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 740,
        "wires": [
            []
        ]
    },
    {
        "id": "395210ab35c6bc6e",
        "type": "ui_chart",
        "z": "3d8b03d0.c5d9dc",
        "name": "",
        "group": "16b7a9d3.bdf4b6",
        "order": 5,
        "width": 28,
        "height": 9,
        "label": "Presence 12H",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "step",
        "nodata": "",
        "dot": true,
        "ymin": "0",
        "ymax": "",
        "removeOlder": "12",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#ff0505",
            "#2bff0f",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 770,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "094a02beb9e708a1",
        "type": "ui_chart",
        "z": "3d8b03d0.c5d9dc",
        "name": "",
        "group": "16b7a9d3.bdf4b6",
        "order": 2,
        "width": 28,
        "height": 9,
        "label": "Chrono 12H",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "0",
        "ymax": "70",
        "removeOlder": "2",
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#ff0505",
            "#2bff0f",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 450,
        "y": 1090,
        "wires": [
            []
        ]
    },
    {
        "id": "52932b27acbfc616",
        "type": "function",
        "z": "3d8b03d0.c5d9dc",
        "name": "CalculDelta",
        "func": "var msgGraphDetectRange;\nvar msgGraphTrigger;\nvar now = new Date();\nif (msg.payload.MotionDetected){\n    if (!context.get(\"lastMotionDetect\")){\n        msgGraphDetectRange = {payload: Math.ceil((now.getTime() - context.get(\"lastMotionDetectDT\"))/60000),\n                                topic: 'Chrono'};\n        msgGraphTrigger = {payload:global.get(\"presenceDelay\",\"file\"),\n                    topic:'Seuil'};\n    }\n}\nelse\n    if (context.get(\"lastMotionDetect\"))\n        context.set(\"lastMotionDetectDT\", now.getTime());\n\ncontext.set(\"lastMotionDetect\",msg.payload.MotionDetected);\nreturn [msgGraphDetectRange,msgGraphTrigger];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 250,
        "y": 1090,
        "wires": [
            [
                "094a02beb9e708a1"
            ],
            [
                "094a02beb9e708a1"
            ]
        ],
        "outputLabels": [
            "True",
            "False"
        ]
    },
    {
        "id": "10bf549cad03960d",
        "type": "deconz-input",
        "z": "3d8b03d0.c5d9dc",
        "name": "Brightness",
        "topic": "Brightness",
        "config_version": 2,
        "server": "98dc4fb5.8af9c",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/00:15:8d:00:04:4d:c8:6e-01-0400"
        ],
        "device_name": "MotionAndLigth : ZHALightLevel",
        "query": "{}",
        "outputs": 1,
        "output_rules": [
            {
                "type": "homekit",
                "format": "single",
                "onstart": true,
                "onerror": true,
                "payload": [
                    "CurrentAmbientLightLevel"
                ],
                "uniqueId": "ui-id-25"
            }
        ],
        "x": 80,
        "y": 1020,
        "wires": [
            [
                "31f6377a.4274c8"
            ]
        ]
    },
    {
        "id": "6c37d896af85011a",
        "type": "deconz-input",
        "z": "3d8b03d0.c5d9dc",
        "name": "Motion",
        "topic": "Motion",
        "config_version": 2,
        "server": "98dc4fb5.8af9c",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/00:15:8d:00:04:4d:c8:6e-01-0406"
        ],
        "device_name": "MotionAndLigth : ZHAPresence",
        "query": "",
        "outputs": 1,
        "output_rules": [
            {
                "type": "homekit",
                "format": "single",
                "onstart": true,
                "onerror": true,
                "payload": [
                    "MotionDetected"
                ]
            }
        ],
        "x": 70,
        "y": 1090,
        "wires": [
            [
                "52932b27acbfc616"
            ]
        ]
    },
    {
        "id": "1cbfc4303d5c0981",
        "type": "ui_chart",
        "z": "3d8b03d0.c5d9dc",
        "name": "",
        "group": "16b7a9d3.bdf4b6",
        "order": 1,
        "width": 28,
        "height": 13,
        "label": "Lux 1H",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "",
        "ymax": "200",
        "removeOlder": "1",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 450,
        "y": 1040,
        "wires": [
            []
        ]
    },
    {
        "id": "c8974aa9e4713c4b",
        "type": "deconz-input",
        "z": "3d8b03d0.c5d9dc",
        "name": "",
        "topic": "",
        "config_version": 2,
        "server": "98dc4fb5.8af9c",
        "statustext": "",
        "statustext_type": "default",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/00:15:8d:00:04:4d:c8:6e-01-0400",
            "sensors/uniqueid/00:15:8d:00:04:4d:c8:6e-01-0406"
        ],
        "device_name": "",
        "query": "{}",
        "outputs": 1,
        "output_rules": [
            {
                "type": "homekit",
                "format": "single",
                "onstart": true,
                "onerror": true,
                "payload": [
                    "__auto__"
                ]
            }
        ],
        "x": 90,
        "y": 1190,
        "wires": [
            [
                "dfeeddc0905bfcc8",
                "9506d9f0d995710b"
            ]
        ]
    },
    {
        "id": "dfeeddc0905bfcc8",
        "type": "debug",
        "z": "3d8b03d0.c5d9dc",
        "name": "debug 43",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 350,
        "y": 1160,
        "wires": []
    },
    {
        "id": "9506d9f0d995710b",
        "type": "join",
        "z": "3d8b03d0.c5d9dc",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "1",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "num",
        "reduceFixup": "",
        "x": 330,
        "y": 1230,
        "wires": [
            [
                "cb9279a6e2a1047d"
            ]
        ]
    },
    {
        "id": "cb9279a6e2a1047d",
        "type": "debug",
        "z": "3d8b03d0.c5d9dc",
        "name": "debug 44",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 500,
        "y": 1210,
        "wires": []
    },
    {
        "id": "568173000be9e396",
        "type": "deconz-input",
        "z": "3d8b03d0.c5d9dc",
        "name": "Inter1",
        "topic": "Inter1",
        "config_version": 2,
        "server": "98dc4fb5.8af9c",
        "statustext": "",
        "statustext_type": "default",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/00:17:88:01:06:a6:77:1e-02-fc00"
        ],
        "device_name": "",
        "query": "{}",
        "outputs": 1,
        "output_rules": [
            {
                "type": "homekit",
                "format": "single",
                "onstart": false,
                "onerror": true,
                "payload": [
                    "ProgrammableSwitchEvent",
                    "ServiceLabelIndex"
                ],
                "uniqueId": "ui-id-7"
            }
        ],
        "x": 90,
        "y": 250,
        "wires": [
            [
                "baca38bc8fc8f384"
            ]
        ]
    },
    {
        "id": "baca38bc8fc8f384",
        "type": "function",
        "z": "3d8b03d0.c5d9dc",
        "name": "Inter",
        "func": "var cmd = msg.payload.ProgrammableSwitchEvent * 10 + msg.payload.ServiceLabelIndex;\n//node.warn(cmd);\nvar msgContent = { payload: 1 };\nswitch(cmd){\n    case 1: //Court 1\n        return [msgContent, null, null, null, null, null, null, null ];\n    case 2: //Court X\n        return [null, msgContent, null, null, null, null, null, null];\n    case 3: //Court x\n        return [null, null, msgContent, null, null, null, null, null];\n    case 4: //Court 0\n        return [null, null, null, msgContent, null, null, null, null];\n    case 21://Long 1\n        return [null, null, null, null, msgContent, null, null, null];\n    case 22://Long X\n        return [null, null, null, null, null, msgContent, null, null];\n    case 23://Long x\n        return [null, null, null, null, null, null, msgContent, null];\n    case 24://Long 0\n        return [null, null, null, null, null, null, null, msgContent];\n}\n",
        "outputs": 8,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 210,
        "y": 250,
        "wires": [
            [
                "a5ce055300a9d07a"
            ],
            [],
            [],
            [
                "6f984389c0719b58"
            ],
            [
                "c9f5d0dcc3b06484"
            ],
            [],
            [],
            [
                "651bf0709b4198f1"
            ]
        ],
        "outputLabels": [
            "1 court",
            "+ court",
            "- court",
            "0 court",
            "1 long",
            "+ long",
            "- long",
            "0 long"
        ]
    },
    {
        "id": "379f87054028a6fe",
        "type": "deconz-input",
        "z": "3d8b03d0.c5d9dc",
        "name": "Door",
        "topic": "Door",
        "config_version": 2,
        "server": "98dc4fb5.8af9c",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/00:15:8d:00:05:79:e3:13-01-0006"
        ],
        "device_name": "OpenCloseDoorMain : ZHAOpenClose",
        "query": "",
        "outputs": 1,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "onchange",
                "onstart": false,
                "payload": [
                    "open"
                ]
            }
        ],
        "x": 70,
        "y": 900,
        "wires": [
            [
                "30e82b29.a29b84"
            ]
        ]
    },
    {
        "id": "91c3f2940d17f3d8",
        "type": "deconz-input",
        "z": "3d8b03d0.c5d9dc",
        "name": "Motion",
        "topic": "Motion",
        "config_version": 2,
        "server": "98dc4fb5.8af9c",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/00:15:8d:00:04:4d:c8:6e-01-0406"
        ],
        "device_name": "MotionAndLigth : ZHAPresence",
        "query": "",
        "outputs": 1,
        "output_rules": [
            {
                "type": "homekit",
                "format": "single",
                "onstart": true,
                "onerror": true,
                "payload": [
                    "MotionDetected"
                ],
                "uniqueId": "ui-id-8"
            }
        ],
        "x": 70,
        "y": 950,
        "wires": [
            [
                "bd73700409128181"
            ]
        ]
    },
    {
        "id": "67608ead0caedf88",
        "type": "deconz-output",
        "z": "3d8b03d0.c5d9dc",
        "name": "Back TV",
        "config_version": 2,
        "server": "98dc4fb5.8af9c",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "lights/uniqueid/00:17:88:01:08:9d:f1:10-0b"
        ],
        "device_name": "TVBackLight : On/Off plug-in unit",
        "query": "{}",
        "commands": [
            {
                "arg": {
                    "on": {
                        "type": "msg",
                        "value": "payload.on"
                    },
                    "alert": {
                        "type": "str",
                        "value": ""
                    },
                    "effect": {
                        "type": "str",
                        "value": ""
                    },
                    "colorloopspeed": {
                        "type": "num",
                        "value": ""
                    },
                    "transitiontime": {
                        "type": "num",
                        "value": ""
                    },
                    "retryonerror": {
                        "type": "num",
                        "value": "0"
                    },
                    "aftererror": {
                        "type": "continue",
                        "value": ""
                    },
                    "bri": {
                        "direction": "set",
                        "type": "num",
                        "value": ""
                    },
                    "sat": {
                        "direction": "set",
                        "type": "num",
                        "value": ""
                    },
                    "hue": {
                        "direction": "set",
                        "type": "num",
                        "value": ""
                    },
                    "ct": {
                        "direction": "set",
                        "type": "num",
                        "value": ""
                    },
                    "xy": {
                        "direction": "set",
                        "type": "json",
                        "value": "[]"
                    }
                },
                "type": "deconz_state",
                "domain": "lights",
                "uniqueId": "ui-id-26"
            }
        ],
        "specific": {
            "delay": {
                "type": "num",
                "value": "50"
            },
            "result": {
                "type": "at_end",
                "value": ""
            }
        },
        "x": 850,
        "y": 190,
        "wires": [
            []
        ]
    },
    {
        "id": "1bf1f7d19bb99e60",
        "type": "websocket out",
        "z": "3d8b03d0.c5d9dc",
        "name": "DeskLED",
        "server": "",
        "client": "49d1353fedfba3f0",
        "x": 850,
        "y": 160,
        "wires": []
    },
    {
        "id": "44448abf87c95a06",
        "type": "samsungTV",
        "z": "3d8b03d0.c5d9dc",
        "ip": "192.168.1.114",
        "command": "KEY_POWEROFF",
        "name": "TV",
        "x": 840,
        "y": 290,
        "wires": [
            []
        ]
    },
    {
        "id": "cd7d804bea860a15",
        "type": "change",
        "z": "3d8b03d0.c5d9dc",
        "name": "Off All",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"on\":false,\"duration\":5000}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 220,
        "wires": [
            [
                "67608ead0caedf88",
                "1bf1f7d19bb99e60",
                "ac95e5f0efc38e91",
                "a58be078.44f4e",
                "44448abf87c95a06",
                "45d74cfed2a91bf0",
                "f4ea399133806eab"
            ]
        ]
    },
    {
        "id": "ac95e5f0efc38e91",
        "type": "deconz-output",
        "z": "3d8b03d0.c5d9dc",
        "name": "Globe",
        "config_version": 2,
        "server": "98dc4fb5.8af9c",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "lights/uniqueid/00:17:88:01:01:14:d5:57-0b"
        ],
        "device_name": "TVBackLight : On/Off plug-in unit",
        "query": "{}",
        "commands": [
            {
                "arg": {
                    "on": {
                        "type": "msg",
                        "value": "payload.on"
                    },
                    "alert": {
                        "type": "str",
                        "value": ""
                    },
                    "effect": {
                        "type": "str",
                        "value": ""
                    },
                    "colorloopspeed": {
                        "type": "num",
                        "value": ""
                    },
                    "transitiontime": {
                        "type": "msg",
                        "value": "payload.duration"
                    },
                    "retryonerror": {
                        "type": "num",
                        "value": "0"
                    },
                    "aftererror": {
                        "type": "continue",
                        "value": ""
                    },
                    "bri": {
                        "direction": "set",
                        "type": "num",
                        "value": ""
                    },
                    "sat": {
                        "direction": "set",
                        "type": "num",
                        "value": ""
                    },
                    "hue": {
                        "direction": "set",
                        "type": "num",
                        "value": ""
                    },
                    "ct": {
                        "direction": "set",
                        "type": "num",
                        "value": ""
                    },
                    "xy": {
                        "direction": "set",
                        "type": "json",
                        "value": "[]"
                    }
                },
                "type": "deconz_state",
                "domain": "lights"
            }
        ],
        "specific": {
            "delay": {
                "type": "msg",
                "value": "payload.duration"
            },
            "result": {
                "type": "never",
                "value": ""
            }
        },
        "x": 840,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "50b22b79aa65e2bf",
        "type": "deconz-input",
        "z": "3d8b03d0.c5d9dc",
        "name": "GoOut",
        "topic": "",
        "config_version": 2,
        "server": "98dc4fb5.8af9c",
        "statustext": "",
        "statustext_type": "default",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/00:15:8d:00:07:9b:95:0a-01-0006"
        ],
        "device_name": "",
        "query": "{}",
        "outputs": 1,
        "output_rules": [
            {
                "type": "homekit",
                "format": "single",
                "onstart": false,
                "onerror": true,
                "payload": [
                    "__auto__"
                ],
                "uniqueId": "ui-id-4"
            }
        ],
        "x": 90,
        "y": 370,
        "wires": [
            [
                "651bf0709b4198f1"
            ]
        ]
    },
    {
        "id": "3b4dca9546a920c5",
        "type": "change",
        "z": "3d8b03d0.c5d9dc",
        "name": "Reset Ignore",
        "rules": [
            {
                "t": "set",
                "p": "ignore",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 860,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "1b25e4b7dffad238",
        "type": "delay",
        "z": "3d8b03d0.c5d9dc",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 860,
        "y": 400,
        "wires": [
            [
                "3b4dca9546a920c5"
            ]
        ]
    },
    {
        "id": "0d44badc135153f5",
        "type": "change",
        "z": "3d8b03d0.c5d9dc",
        "name": "Set Ignore",
        "rules": [
            {
                "t": "set",
                "p": "ignore",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 860,
        "y": 360,
        "wires": [
            [
                "1b25e4b7dffad238"
            ]
        ]
    },
    {
        "id": "ccfca6d9cecdac0c",
        "type": "ui_button",
        "z": "3d8b03d0.c5d9dc",
        "name": "",
        "group": "4d149b88.919684",
        "order": 9,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Away",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "topic",
        "topicType": "msg",
        "x": 90,
        "y": 330,
        "wires": [
            [
                "651bf0709b4198f1"
            ]
        ]
    },
    {
        "id": "fbd555ae5e15c81f",
        "type": "function",
        "z": "3d8b03d0.c5d9dc",
        "name": "BrightnessTrigger",
        "func": "var noBrightness = global.get(\"noBrightness\");\n\nif (!noBrightness && msg.payload.CurrentAmbientLightLevel <= global.get(\"brightnessLow\", \"file\"))\n    noBrightness = true;\nif (noBrightness && msg.payload.CurrentAmbientLightLevel >= global.get(\"brightnessHigh\", \"file\"))\n    noBrightness = false;\nnode.status({ fill: noBrightness ? \"green\" : \"red\", shape: \"dot\", text: noBrightness ? \"Unbrigh\" : \"Bright\" });\n\nvar msgState = null;\nif (noBrightness !== global.get(\"noBrightness\")){\n    global.set(\"noBrightness\", noBrightness);\n    msgState = { payload: { noBrightness: noBrightness } };\n}\n\nvar msgGraph = {\n    payload: noBrightness ? 9 : 8,\n    topic: 'NoBrightness'\n};\nreturn [msgState, msgGraph];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 640,
        "wires": [
            [
                "3747ccb5.826814"
            ],
            [
                "3ad8d18a09943845"
            ]
        ]
    },
    {
        "id": "6f984389c0719b58",
        "type": "change",
        "z": "3d8b03d0.c5d9dc",
        "name": "Off Light",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"on\":false,\"duration\":2500}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 570,
        "y": 130,
        "wires": [
            [
                "45d74cfed2a91bf0"
            ]
        ]
    },
    {
        "id": "a5ce055300a9d07a",
        "type": "change",
        "z": "3d8b03d0.c5d9dc",
        "name": "On Light",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"on\":true,\"duration\":2500,\"colormode\":\"ct\",\"ct\":4219,\"bri\":200}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 570,
        "y": 100,
        "wires": [
            [
                "45d74cfed2a91bf0"
            ]
        ]
    },
    {
        "id": "c9f5d0dcc3b06484",
        "type": "change",
        "z": "3d8b03d0.c5d9dc",
        "name": "Full Light",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"on\":true,\"duration\":500,\"colormode\":\"ct\",\"ct\":4219,\"bri\":255}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 570,
        "y": 160,
        "wires": [
            [
                "45d74cfed2a91bf0"
            ]
        ]
    },
    {
        "id": "f4ea399133806eab",
        "type": "deconz-output",
        "z": "3d8b03d0.c5d9dc",
        "name": "BRVincent",
        "config_version": 2,
        "server": "98dc4fb5.8af9c",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "lights/uniqueid/00:17:88:01:08:b6:48:b3-0b"
        ],
        "device_name": "",
        "query": "{}",
        "commands": [
            {
                "arg": {
                    "on": {
                        "type": "msg",
                        "value": "payload.on"
                    },
                    "alert": {
                        "type": "str",
                        "value": ""
                    },
                    "effect": {
                        "type": "str",
                        "value": ""
                    },
                    "colorloopspeed": {
                        "type": "num",
                        "value": ""
                    },
                    "transitiontime": {
                        "type": "num",
                        "value": ""
                    },
                    "retryonerror": {
                        "type": "num",
                        "value": "0"
                    },
                    "aftererror": {
                        "type": "continue",
                        "value": ""
                    },
                    "bri": {
                        "direction": "set",
                        "type": "num",
                        "value": ""
                    },
                    "sat": {
                        "direction": "set",
                        "type": "num",
                        "value": ""
                    },
                    "hue": {
                        "direction": "set",
                        "type": "num",
                        "value": ""
                    },
                    "ct": {
                        "direction": "set",
                        "type": "num",
                        "value": ""
                    },
                    "xy": {
                        "direction": "set",
                        "type": "json",
                        "value": "[]"
                    }
                },
                "type": "deconz_state",
                "domain": "lights",
                "uniqueId": "ui-id-19"
            }
        ],
        "specific": {
            "delay": {
                "type": "num",
                "value": "50"
            },
            "result": {
                "type": "never",
                "value": ""
            }
        },
        "x": 860,
        "y": 250,
        "wires": [
            []
        ]
    },
    {
        "id": "3645dc8f0686822e",
        "type": "function",
        "z": "3d8b03d0.c5d9dc",
        "name": "TVState",
        "func": "node.status({ fill: msg.payload !== false ? \"green\" : \"red\", shape: \"dot\", text: msg.payload !== false ? \"On\" : \"Off\" });\n\nif (msg.payload === false)\n    return;\nif (global.get(\"presence\") && global.get(\"noBrightness\"))\n    return { payload: { on: true }};\nelse\n    return { payload: { on: false }};\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 1300,
        "wires": [
            [
                "38f83339abc8b8b7"
            ]
        ]
    },
    {
        "id": "38f83339abc8b8b7",
        "type": "deconz-output",
        "z": "3d8b03d0.c5d9dc",
        "name": "Back TV",
        "config_version": 2,
        "server": "98dc4fb5.8af9c",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "lights/uniqueid/00:17:88:01:08:9d:f1:10-0b"
        ],
        "device_name": "TVBackLight : On/Off plug-in unit",
        "query": "{}",
        "commands": [
            {
                "arg": {
                    "on": {
                        "type": "msg",
                        "value": "payload.on"
                    },
                    "alert": {
                        "type": "str",
                        "value": ""
                    },
                    "effect": {
                        "type": "str",
                        "value": ""
                    },
                    "colorloopspeed": {
                        "type": "num",
                        "value": ""
                    },
                    "transitiontime": {
                        "type": "num",
                        "value": ""
                    },
                    "retryonerror": {
                        "type": "num",
                        "value": "0"
                    },
                    "aftererror": {
                        "type": "continue",
                        "value": ""
                    },
                    "bri": {
                        "direction": "set",
                        "type": "num",
                        "value": ""
                    },
                    "sat": {
                        "direction": "set",
                        "type": "num",
                        "value": ""
                    },
                    "hue": {
                        "direction": "set",
                        "type": "num",
                        "value": ""
                    },
                    "ct": {
                        "direction": "set",
                        "type": "num",
                        "value": ""
                    },
                    "xy": {
                        "direction": "set",
                        "type": "json",
                        "value": "[]"
                    }
                },
                "type": "deconz_state",
                "domain": "lights",
                "uniqueId": "ui-id-22"
            }
        ],
        "specific": {
            "delay": {
                "type": "num",
                "value": "50"
            },
            "result": {
                "type": "at_end",
                "value": ""
            }
        },
        "x": 580,
        "y": 1300,
        "wires": [
            []
        ]
    },
    {
        "id": "0d9e01925c08a0ca",
        "type": "debug",
        "z": "3d8b03d0.c5d9dc",
        "name": "debug 63",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 270,
        "y": 700,
        "wires": []
    },
    {
        "id": "614941cecedf151f",
        "type": "ping",
        "z": "3d8b03d0.c5d9dc",
        "protocol": "IPv4",
        "mode": "timed",
        "name": "Ping TV",
        "host": "192.168.1.114",
        "timer": "60",
        "inputs": 0,
        "x": 260,
        "y": 1300,
        "wires": [
            [
                "3645dc8f0686822e"
            ]
        ]
    },
    {
        "id": "90a7f72049cf6dac",
        "type": "yeelight-compat-hue-out",
        "z": "3d8b03d0.c5d9dc",
        "name": "",
        "server": "8ba2b19114811642",
        "x": 850,
        "y": 590,
        "wires": []
    },
    {
        "id": "bd8afb7cb1b1b9f8",
        "type": "yeelight-compat-hue-out",
        "z": "3d8b03d0.c5d9dc",
        "name": "",
        "server": "49d70a9bebf6daf5",
        "x": 840,
        "y": 550,
        "wires": []
    },
    {
        "id": "3f57abf3c1223604",
        "type": "yeelight-compat-hue-out",
        "z": "3d8b03d0.c5d9dc",
        "name": "",
        "server": "49d70a9bebf6daf5",
        "x": 840,
        "y": 40,
        "wires": []
    },
    {
        "id": "6f823854df472777",
        "type": "yeelight-compat-hue-out",
        "z": "3d8b03d0.c5d9dc",
        "name": "",
        "server": "8ba2b19114811642",
        "x": 850,
        "y": 90,
        "wires": []
    },
    {
        "id": "63de9f7b45fe6924",
        "type": "yeelight-compat-hue-state",
        "z": "3d8b03d0.c5d9dc",
        "name": "",
        "server": "49d70a9bebf6daf5",
        "x": 90,
        "y": 60,
        "wires": [
            [
                "1343f331.d91b3d"
            ]
        ]
    },
    {
        "id": "108bc2b98b605f38",
        "type": "debug",
        "z": "3d8b03d0.c5d9dc",
        "name": "debug 78",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 540,
        "y": 860,
        "wires": []
    },
    {
        "id": "73440d53fd56ad30",
        "type": "ui_button",
        "z": "c1c9a47eb2cec3ce",
        "name": "",
        "group": "3c3f179d1411aeec",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Actuelle",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{msg.actualcolor}}",
        "className": "",
        "icon": "",
        "payload": "0",
        "payloadType": "num",
        "topic": "topic",
        "topicType": "msg",
        "x": 270,
        "y": 150,
        "wires": [
            [
                "8a67f0f534993722"
            ]
        ]
    },
    {
        "id": "b8241451f6ff3f37",
        "type": "ui_button",
        "z": "c1c9a47eb2cec3ce",
        "name": "",
        "group": "3c3f179d1411aeec",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Scène 1",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{msg.scene1color}}",
        "className": "",
        "icon": "",
        "payload": "1",
        "payloadType": "num",
        "topic": "topic",
        "topicType": "msg",
        "x": 270,
        "y": 190,
        "wires": [
            [
                "8a67f0f534993722"
            ]
        ]
    },
    {
        "id": "8a67f0f534993722",
        "type": "function",
        "z": "c1c9a47eb2cec3ce",
        "name": "function 1",
        "func": "var rep = {\n    payload: \"\",\n    actualcolor: \"grey\",\n    scene1color: \"grey\",\n    scene2color: \"grey\",\n    scene3color: \"grey\",\n    scene4color: \"grey\"\n};\nvar backTV = {payload: \"\"};\nvar config = { \n            backTV : { on : true},\n            salon : { on : true},\n            cuisine : {on : true},\n            globe : {on : true}\n            }\nswitch (msg.payload) {\n    case 0:\n        rep.actualcolor = \"green\";\n        backTV.payload = true;\n        break;\n    case 1:\n        rep.scene1color = \"green\";\n        backTV.payload = true;\n        break;\n    case 2:\n        rep.scene2color = \"green\";\n        backTV.payload = false;\n        break;\n    case 3:\n        rep.scene3color = \"green\";\n        backTV.payload = false;\n        break;\n    case 4:\n        rep.scene4color = \"green\";\n        backTV.payload = false;\n        break;\n}\nreturn [rep, backTV, config];",
        "outputs": 3,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 520,
        "y": 170,
        "wires": [
            [
                "ad39b6896cd4bc51",
                "b3abb3e23513d0ea"
            ],
            [
                "5c5a07b5c73d0054"
            ],
            [
                "ce6365b6e12c476e"
            ]
        ]
    },
    {
        "id": "b3abb3e23513d0ea",
        "type": "debug",
        "z": "c1c9a47eb2cec3ce",
        "name": "debug 17",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 810,
        "y": 120,
        "wires": []
    },
    {
        "id": "ad39b6896cd4bc51",
        "type": "link out",
        "z": "c1c9a47eb2cec3ce",
        "name": "link out 1",
        "mode": "link",
        "links": [
            "d7613c88f4af03fd"
        ],
        "x": 635,
        "y": 110,
        "wires": []
    },
    {
        "id": "d7613c88f4af03fd",
        "type": "link in",
        "z": "c1c9a47eb2cec3ce",
        "name": "link in 1",
        "links": [
            "ad39b6896cd4bc51"
        ],
        "x": 85,
        "y": 190,
        "wires": [
            [
                "73440d53fd56ad30",
                "b8241451f6ff3f37",
                "6da656efdf1fffad",
                "bf18712d05815239",
                "3680256cc3bb47c8"
            ]
        ]
    },
    {
        "id": "6da656efdf1fffad",
        "type": "ui_button",
        "z": "c1c9a47eb2cec3ce",
        "name": "",
        "group": "3c3f179d1411aeec",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Scène 2",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{msg.scene2color}}",
        "className": "",
        "icon": "",
        "payload": "2",
        "payloadType": "num",
        "topic": "topic",
        "topicType": "msg",
        "x": 270,
        "y": 230,
        "wires": [
            [
                "8a67f0f534993722"
            ]
        ]
    },
    {
        "id": "bf18712d05815239",
        "type": "ui_button",
        "z": "c1c9a47eb2cec3ce",
        "name": "",
        "group": "3c3f179d1411aeec",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Scène 3",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{msg.scene3color}}",
        "className": "",
        "icon": "",
        "payload": "3",
        "payloadType": "num",
        "topic": "topic",
        "topicType": "msg",
        "x": 270,
        "y": 270,
        "wires": [
            [
                "8a67f0f534993722"
            ]
        ]
    },
    {
        "id": "3680256cc3bb47c8",
        "type": "ui_button",
        "z": "c1c9a47eb2cec3ce",
        "name": "",
        "group": "3c3f179d1411aeec",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Scène 4",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{msg.scene4color}}",
        "className": "",
        "icon": "",
        "payload": "4",
        "payloadType": "num",
        "topic": "topic",
        "topicType": "msg",
        "x": 270,
        "y": 310,
        "wires": [
            [
                "8a67f0f534993722"
            ]
        ]
    },
    {
        "id": "5c5a07b5c73d0054",
        "type": "ui_switch",
        "z": "c1c9a47eb2cec3ce",
        "name": "",
        "label": "Arriève TV",
        "tooltip": "",
        "group": "a20ceb6c4e4ce564",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "decouple": "true",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 780,
        "y": 220,
        "wires": [
            [
                "bbc18308df421ac5",
                "e00caa09d31cf00c"
            ]
        ]
    },
    {
        "id": "bbc18308df421ac5",
        "type": "debug",
        "z": "c1c9a47eb2cec3ce",
        "name": "debug 18",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 960,
        "y": 190,
        "wires": []
    },
    {
        "id": "ce6365b6e12c476e",
        "type": "debug",
        "z": "c1c9a47eb2cec3ce",
        "name": "debug 19",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 750,
        "y": 320,
        "wires": []
    },
    {
        "id": "e00caa09d31cf00c",
        "type": "deconz-output",
        "z": "c1c9a47eb2cec3ce",
        "name": "TVBackLight",
        "config_version": 2,
        "server": "98dc4fb5.8af9c",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "lights/uniqueid/00:17:88:01:08:9d:f1:10-0b"
        ],
        "device_name": "TVBackLight : On/Off plug-in unit",
        "query": "{}",
        "commands": [
            {
                "arg": {
                    "on": {
                        "type": "msg",
                        "value": "payload"
                    },
                    "alert": {
                        "type": "str",
                        "value": ""
                    },
                    "effect": {
                        "type": "str",
                        "value": ""
                    },
                    "colorloopspeed": {
                        "type": "num",
                        "value": ""
                    },
                    "transitiontime": {
                        "type": "num",
                        "value": ""
                    },
                    "retryonerror": {
                        "type": "num",
                        "value": "0"
                    },
                    "aftererror": {
                        "type": "continue",
                        "value": ""
                    },
                    "bri": {
                        "direction": "set",
                        "type": "num",
                        "value": ""
                    },
                    "sat": {
                        "direction": "set",
                        "type": "num",
                        "value": ""
                    },
                    "hue": {
                        "direction": "set",
                        "type": "num",
                        "value": ""
                    },
                    "ct": {
                        "direction": "set",
                        "type": "num",
                        "value": ""
                    },
                    "xy": {
                        "direction": "set",
                        "type": "json",
                        "value": "[]"
                    }
                },
                "type": "deconz_state",
                "domain": "lights"
            }
        ],
        "specific": {
            "delay": {
                "type": "num",
                "value": "50"
            },
            "result": {
                "type": "at_end",
                "value": ""
            }
        },
        "x": 970,
        "y": 230,
        "wires": [
            []
        ]
    },
    {
        "id": "5af19247c8f45dfa",
        "type": "deconz-input",
        "z": "c1c9a47eb2cec3ce",
        "name": "TVBackLight",
        "topic": "TVBackLight",
        "config_version": 2,
        "server": "98dc4fb5.8af9c",
        "statustext": "",
        "statustext_type": "default",
        "search_type": "device",
        "device_list": [
            "lights/uniqueid/00:17:88:01:08:9d:f1:10-0b"
        ],
        "device_name": "",
        "query": "{}",
        "outputs": 1,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "onupdate",
                "onstart": true,
                "payload": [
                    "__complete__"
                ]
            }
        ],
        "x": 130,
        "y": 510,
        "wires": [
            [
                "722e4aca1e8ce8c5"
            ]
        ]
    },
    {
        "id": "f51af7882f420741",
        "type": "deconz-input",
        "z": "c1c9a47eb2cec3ce",
        "name": "Globe",
        "topic": "Globe",
        "config_version": 2,
        "server": "98dc4fb5.8af9c",
        "statustext": "",
        "statustext_type": "default",
        "search_type": "device",
        "device_list": [
            "lights/uniqueid/00:17:88:01:01:14:d5:57-0b"
        ],
        "device_name": "",
        "query": "{}",
        "outputs": 1,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "always",
                "onstart": true,
                "payload": [
                    "__complete__"
                ],
                "uniqueId": "ui-id-6"
            }
        ],
        "x": 110,
        "y": 560,
        "wires": [
            [
                "722e4aca1e8ce8c5"
            ]
        ]
    },
    {
        "id": "bef1972518d14606",
        "type": "function",
        "z": "c1c9a47eb2cec3ce",
        "name": "SaveCurrent",
        "func": "var scene = global.get(\"Scene\")||{current : {}};\n//node.warn(current);\nscene.current[msg.topic] = msg.payload;\nglobal.set(\"Scene\", scene);\nreturn scene;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 510,
        "y": 580,
        "wires": [
            [
                "f62f6db043ce5b8e"
            ]
        ]
    },
    {
        "id": "f62f6db043ce5b8e",
        "type": "debug",
        "z": "c1c9a47eb2cec3ce",
        "name": "debug 22",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 660,
        "y": 580,
        "wires": []
    },
    {
        "id": "71f4e555904b790b",
        "type": "function",
        "z": "c1c9a47eb2cec3ce",
        "name": "Value2Object",
        "func": "return { payload : msg.payload.state,\n        topic : \"Cuisine\"};",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 610,
        "wires": [
            [
                "bef1972518d14606"
            ]
        ]
    },
    {
        "id": "6840610aa5db8725",
        "type": "inject",
        "z": "c1c9a47eb2cec3ce",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "Scene1",
        "payloadType": "str",
        "x": 300,
        "y": 910,
        "wires": [
            [
                "82aad48f6c824188"
            ]
        ]
    },
    {
        "id": "82aad48f6c824188",
        "type": "function",
        "z": "c1c9a47eb2cec3ce",
        "name": "Load",
        "func": "var scene = global.get(\"Scene\")||{};\n//node.warn(current);\n/*return [\n    { payload : scene[msg.payload].TVBackLight},\n    { payload: \"{ \\\"on\\\": true, \\\"hex\\\": \\\"b90df2\\\", \\\"sat\\\": 0, \\\"duration\\\": 4000 }\"}\n];\n*/\n\nreturn [\n    { payload: scene[msg.payload].TVBackLight },\n    { payload: scene[msg.payload].Cuisine }\n];\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 500,
        "y": 910,
        "wires": [
            [
                "1d71096cc8bc9912"
            ],
            [
                "7c6f939198abaee7",
                "c4c61e1b5a52497f"
            ]
        ],
        "outputLabels": [
            "BackLightTV",
            "Cuisine"
        ]
    },
    {
        "id": "1d71096cc8bc9912",
        "type": "deconz-output",
        "z": "c1c9a47eb2cec3ce",
        "name": "TVBackLight",
        "config_version": 2,
        "server": "98dc4fb5.8af9c",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "lights/uniqueid/00:17:88:01:08:9d:f1:10-0b"
        ],
        "device_name": "TVBackLight : On/Off plug-in unit",
        "query": "{}",
        "commands": [
            {
                "arg": {
                    "target": {
                        "type": "state",
                        "value": ""
                    },
                    "command": {
                        "type": "object",
                        "value": "on"
                    },
                    "payload": {
                        "type": "msg",
                        "value": "payload"
                    },
                    "transitiontime": {
                        "type": "num",
                        "value": ""
                    },
                    "retryonerror": {
                        "type": "num",
                        "value": "0"
                    },
                    "aftererror": {
                        "type": "continue",
                        "value": ""
                    }
                },
                "type": "custom",
                "domain": ""
            }
        ],
        "specific": {
            "delay": {
                "type": "num",
                "value": "50"
            },
            "result": {
                "type": "at_end",
                "value": ""
            }
        },
        "x": 740,
        "y": 900,
        "wires": [
            []
        ]
    },
    {
        "id": "ce6e50b766c66e50",
        "type": "inject",
        "z": "c1c9a47eb2cec3ce",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "Scene1",
        "payloadType": "str",
        "x": 300,
        "y": 790,
        "wires": [
            [
                "033e487a6e4e6338"
            ]
        ]
    },
    {
        "id": "033e487a6e4e6338",
        "type": "function",
        "z": "c1c9a47eb2cec3ce",
        "name": "Save",
        "func": "var scene = global.get(\"Scene\")||{current : {}};\nscene[msg.payload] = Object.assign({}, scene.current);\nglobal.set(\"Scene\", scene);\nreturn scene;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 500,
        "y": 790,
        "wires": [
            [
                "872d366b18e1e606"
            ]
        ]
    },
    {
        "id": "872d366b18e1e606",
        "type": "debug",
        "z": "c1c9a47eb2cec3ce",
        "name": "debug 36",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 670,
        "y": 790,
        "wires": []
    },
    {
        "id": "7c6f939198abaee7",
        "type": "debug",
        "z": "c1c9a47eb2cec3ce",
        "name": "debug 38",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 760,
        "y": 1020,
        "wires": []
    },
    {
        "id": "722e4aca1e8ce8c5",
        "type": "change",
        "z": "c1c9a47eb2cec3ce",
        "name": "Filtre",
        "rules": [
            {
                "t": "delete",
                "p": "payload.alert",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "payload.reachable",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 330,
        "y": 560,
        "wires": [
            [
                "bef1972518d14606"
            ]
        ]
    },
    {
        "id": "7d75128cc754a1e5",
        "type": "debug",
        "z": "c1c9a47eb2cec3ce",
        "name": "debug 62",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 280,
        "y": 650,
        "wires": []
    },
    {
        "id": "c4c61e1b5a52497f",
        "type": "yeelight-compat-hue-out",
        "z": "c1c9a47eb2cec3ce",
        "name": "",
        "server": "8ba2b19114811642",
        "x": 730,
        "y": 940,
        "wires": []
    },
    {
        "id": "b737b83c4a329151",
        "type": "yeelight-compat-hue-state",
        "z": "c1c9a47eb2cec3ce",
        "name": "Cuisine",
        "server": "8ba2b19114811642",
        "x": 120,
        "y": 610,
        "wires": [
            [
                "71f4e555904b790b",
                "7d75128cc754a1e5"
            ]
        ]
    },
    {
        "id": "174142551e510d3e",
        "type": "yeelight-compat-hue-state",
        "z": "c1c9a47eb2cec3ce",
        "name": "Salon",
        "server": "49d70a9bebf6daf5",
        "x": 110,
        "y": 660,
        "wires": [
            [
                "7d75128cc754a1e5"
            ]
        ]
    },
    {
        "id": "118b5b9fc3939dee",
        "type": "ui_text_input",
        "z": "999c2839b6eaba29",
        "name": "",
        "label": "Consigne",
        "tooltip": "",
        "group": "1cae1a7011cabb4f",
        "order": 3,
        "width": "3",
        "height": 1,
        "passthru": false,
        "mode": "number",
        "delay": "2000",
        "topic": "humidityTarget",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 540,
        "y": 560,
        "wires": [
            [
                "b64e29e9ee631149"
            ]
        ]
    },
    {
        "id": "b55dabd687b4ca10",
        "type": "ui_text",
        "z": "999c2839b6eaba29",
        "group": "1cae1a7011cabb4f",
        "order": 1,
        "width": "3",
        "height": 1,
        "name": "",
        "label": "Humidité",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 540,
        "y": 530,
        "wires": []
    },
    {
        "id": "717bc6a006d10cd5",
        "type": "ui_switch",
        "z": "999c2839b6eaba29",
        "name": "",
        "label": "Pumping",
        "tooltip": "",
        "group": "1cae1a7011cabb4f",
        "order": 6,
        "width": "3",
        "height": 1,
        "passthru": false,
        "decouple": "true",
        "topic": "pumpEnable",
        "topicType": "str",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 540,
        "y": 620,
        "wires": [
            [
                "b64e29e9ee631149"
            ]
        ]
    },
    {
        "id": "434a10914569ddc4",
        "type": "ui_switch",
        "z": "999c2839b6eaba29",
        "name": "",
        "label": "Measuring",
        "tooltip": "",
        "group": "1cae1a7011cabb4f",
        "order": 7,
        "width": "3",
        "height": 1,
        "passthru": false,
        "decouple": "true",
        "topic": "measureEnable",
        "topicType": "str",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 550,
        "y": 650,
        "wires": [
            [
                "b64e29e9ee631149"
            ]
        ]
    },
    {
        "id": "70688dda6a040f91",
        "type": "ui_button",
        "z": "999c2839b6eaba29",
        "name": "",
        "group": "1cae1a7011cabb4f",
        "order": 4,
        "width": "3",
        "height": 1,
        "passthru": false,
        "label": "Pump",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{msg.buttoncolor}}",
        "className": "",
        "icon": "",
        "payload": "#CMD#",
        "payloadType": "str",
        "topic": "pump",
        "topicType": "str",
        "x": 530,
        "y": 680,
        "wires": [
            [
                "b64e29e9ee631149"
            ]
        ]
    },
    {
        "id": "d561f01cd0c10a69",
        "type": "ui_button",
        "z": "999c2839b6eaba29",
        "name": "",
        "group": "1cae1a7011cabb4f",
        "order": 5,
        "width": "3",
        "height": 1,
        "passthru": false,
        "label": "Read",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "#CMD#",
        "payloadType": "str",
        "topic": "measure",
        "topicType": "str",
        "x": 530,
        "y": 710,
        "wires": [
            [
                "b64e29e9ee631149"
            ]
        ]
    },
    {
        "id": "d69f55b0d07b194d",
        "type": "ui_text_input",
        "z": "999c2839b6eaba29",
        "name": "",
        "label": "Amorce (sec.)",
        "tooltip": "",
        "group": "b2c09df255938acc",
        "order": 8,
        "width": "3",
        "height": "1",
        "passthru": false,
        "mode": "number",
        "delay": "2000",
        "topic": "priming",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 560,
        "y": 320,
        "wires": [
            [
                "fe0a97a404904826"
            ]
        ]
    },
    {
        "id": "45d430fc087f0124",
        "type": "ui_text",
        "z": "999c2839b6eaba29",
        "group": "b2c09df255938acc",
        "order": 1,
        "width": "3",
        "height": "1",
        "name": "",
        "label": "Humidité",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 540,
        "y": 260,
        "wires": []
    },
    {
        "id": "2370aa4658775739",
        "type": "ui_switch",
        "z": "999c2839b6eaba29",
        "name": "",
        "label": "Pumping",
        "tooltip": "",
        "group": "b2c09df255938acc",
        "order": 6,
        "width": "3",
        "height": "1",
        "passthru": false,
        "decouple": "true",
        "topic": "pumpEnable",
        "topicType": "str",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 540,
        "y": 350,
        "wires": [
            [
                "fe0a97a404904826"
            ]
        ]
    },
    {
        "id": "f7e8ccd31297f181",
        "type": "ui_switch",
        "z": "999c2839b6eaba29",
        "name": "",
        "label": "Measuring",
        "tooltip": "",
        "group": "b2c09df255938acc",
        "order": 7,
        "width": "3",
        "height": "1",
        "passthru": false,
        "decouple": "true",
        "topic": "measureEnable",
        "topicType": "str",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 550,
        "y": 380,
        "wires": [
            [
                "fe0a97a404904826"
            ]
        ]
    },
    {
        "id": "4d1e6322856d3895",
        "type": "ui_button",
        "z": "999c2839b6eaba29",
        "name": "",
        "group": "b2c09df255938acc",
        "order": 4,
        "width": "3",
        "height": "1",
        "passthru": false,
        "label": "Pump",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{msg.buttoncolor}}",
        "className": "",
        "icon": "",
        "payload": "#CMD#",
        "payloadType": "str",
        "topic": "pump",
        "topicType": "str",
        "x": 530,
        "y": 410,
        "wires": [
            [
                "fe0a97a404904826"
            ]
        ]
    },
    {
        "id": "32381758f5668b0e",
        "type": "ui_button",
        "z": "999c2839b6eaba29",
        "name": "",
        "group": "b2c09df255938acc",
        "order": 5,
        "width": "3",
        "height": "1",
        "passthru": false,
        "label": "Read",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "#CMD#",
        "payloadType": "str",
        "topic": "measure",
        "topicType": "str",
        "x": 530,
        "y": 440,
        "wires": [
            [
                "fe0a97a404904826"
            ]
        ]
    },
    {
        "id": "f079a3a88da18fb0",
        "type": "subflow:d96e26d634947f5d",
        "z": "999c2839b6eaba29",
        "name": "Bonzaï Bas",
        "env": [
            {
                "name": "PlantName",
                "value": "Bonzaï Bas",
                "type": "str"
            }
        ],
        "x": 320,
        "y": 310,
        "wires": [
            [
                "45d430fc087f0124",
                "8fab3e5ca4fb175a"
            ],
            [
                "1c6a0dc68e6a2f46",
                "8fab3e5ca4fb175a"
            ],
            [
                "d69f55b0d07b194d"
            ],
            [
                "2370aa4658775739"
            ],
            [
                "f7e8ccd31297f181"
            ],
            [
                "4d1e6322856d3895",
                "ac6d794b5173381b"
            ]
        ]
    },
    {
        "id": "aa8da4bfb6197a6b",
        "type": "subflow:d96e26d634947f5d",
        "z": "999c2839b6eaba29",
        "name": "Bonzaï Haut",
        "env": [
            {
                "name": "PlantName",
                "value": "Bonzaï Haut",
                "type": "str"
            }
        ],
        "x": 320,
        "y": 570,
        "wires": [
            [
                "b55dabd687b4ca10",
                "af72d4e737b375eb"
            ],
            [
                "118b5b9fc3939dee",
                "af72d4e737b375eb"
            ],
            [
                "846463e757d8d7cf"
            ],
            [
                "717bc6a006d10cd5"
            ],
            [
                "434a10914569ddc4"
            ],
            [
                "70688dda6a040f91",
                "10d8829686c2f24f"
            ]
        ]
    },
    {
        "id": "1c6a0dc68e6a2f46",
        "type": "ui_text_input",
        "z": "999c2839b6eaba29",
        "name": "",
        "label": "Consigne",
        "tooltip": "",
        "group": "b2c09df255938acc",
        "order": 3,
        "width": "3",
        "height": "1",
        "passthru": false,
        "mode": "number",
        "delay": "2000",
        "topic": "humidityTarget",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 540,
        "y": 290,
        "wires": [
            [
                "fe0a97a404904826"
            ]
        ]
    },
    {
        "id": "846463e757d8d7cf",
        "type": "ui_text_input",
        "z": "999c2839b6eaba29",
        "name": "",
        "label": "Amorce (sec.)",
        "tooltip": "",
        "group": "1cae1a7011cabb4f",
        "order": 8,
        "width": "3",
        "height": 1,
        "passthru": false,
        "mode": "number",
        "delay": "2000",
        "topic": "priming",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 560,
        "y": 590,
        "wires": [
            [
                "b64e29e9ee631149"
            ]
        ]
    },
    {
        "id": "4e81990aabe7c3bb",
        "type": "subflow:d96e26d634947f5d",
        "z": "999c2839b6eaba29",
        "name": "Plant1",
        "env": [
            {
                "name": "PlantName",
                "value": "Plant1",
                "type": "str"
            }
        ],
        "x": 360,
        "y": 1350,
        "wires": [
            [
                "273af4ab0ad79754",
                "4151baaef98d9e8c"
            ],
            [
                "71501a614fdc5082",
                "4151baaef98d9e8c"
            ],
            [
                "5c81ed58945d5131"
            ],
            [
                "2501f611d054cfeb"
            ],
            [
                "f780756b4ea83255"
            ],
            [
                "dee4c6fbf561ba7a",
                "df173c286a0414b7"
            ]
        ]
    },
    {
        "id": "273af4ab0ad79754",
        "type": "ui_text",
        "z": "999c2839b6eaba29",
        "group": "c8cfbc353241b95f",
        "order": 1,
        "width": "3",
        "height": "1",
        "name": "",
        "label": "Humidité",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 540,
        "y": 1300,
        "wires": []
    },
    {
        "id": "71501a614fdc5082",
        "type": "ui_text_input",
        "z": "999c2839b6eaba29",
        "name": "",
        "label": "Consigne",
        "tooltip": "",
        "group": "c8cfbc353241b95f",
        "order": 3,
        "width": "3",
        "height": "1",
        "passthru": false,
        "mode": "number",
        "delay": "2000",
        "topic": "humidityTarget",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 540,
        "y": 1330,
        "wires": [
            [
                "ccefbd10102a95a7"
            ]
        ]
    },
    {
        "id": "5c81ed58945d5131",
        "type": "ui_text_input",
        "z": "999c2839b6eaba29",
        "name": "",
        "label": "Amorce (sec.)",
        "tooltip": "",
        "group": "c8cfbc353241b95f",
        "order": 8,
        "width": "3",
        "height": "1",
        "passthru": false,
        "mode": "number",
        "delay": "2000",
        "topic": "priming",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 560,
        "y": 1360,
        "wires": [
            [
                "ccefbd10102a95a7"
            ]
        ]
    },
    {
        "id": "2501f611d054cfeb",
        "type": "ui_switch",
        "z": "999c2839b6eaba29",
        "name": "",
        "label": "Pumping",
        "tooltip": "",
        "group": "c8cfbc353241b95f",
        "order": 6,
        "width": "3",
        "height": "1",
        "passthru": false,
        "decouple": "true",
        "topic": "pumpEnable",
        "topicType": "str",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 540,
        "y": 1390,
        "wires": [
            [
                "ccefbd10102a95a7"
            ]
        ]
    },
    {
        "id": "f780756b4ea83255",
        "type": "ui_switch",
        "z": "999c2839b6eaba29",
        "name": "",
        "label": "Measuring",
        "tooltip": "",
        "group": "c8cfbc353241b95f",
        "order": 7,
        "width": "3",
        "height": "1",
        "passthru": false,
        "decouple": "true",
        "topic": "measureEnable",
        "topicType": "str",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 550,
        "y": 1420,
        "wires": [
            [
                "ccefbd10102a95a7"
            ]
        ]
    },
    {
        "id": "dee4c6fbf561ba7a",
        "type": "ui_button",
        "z": "999c2839b6eaba29",
        "name": "",
        "group": "c8cfbc353241b95f",
        "order": 4,
        "width": "3",
        "height": "1",
        "passthru": false,
        "label": "Pump",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{msg.buttoncolor}}",
        "className": "",
        "icon": "",
        "payload": "#CMD#",
        "payloadType": "str",
        "topic": "pump",
        "topicType": "str",
        "x": 530,
        "y": 1450,
        "wires": [
            [
                "ccefbd10102a95a7"
            ]
        ]
    },
    {
        "id": "508dd7c74569fa09",
        "type": "ui_button",
        "z": "999c2839b6eaba29",
        "name": "",
        "group": "c8cfbc353241b95f",
        "order": 5,
        "width": "3",
        "height": "1",
        "passthru": false,
        "label": "Read",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "#CMD#",
        "payloadType": "str",
        "topic": "measure",
        "topicType": "str",
        "x": 530,
        "y": 1480,
        "wires": [
            [
                "ccefbd10102a95a7"
            ]
        ]
    },
    {
        "id": "1e02b40b91c9bdf2",
        "type": "ui_text_input",
        "z": "999c2839b6eaba29",
        "name": "",
        "label": "Amorce (sec.)",
        "tooltip": "",
        "group": "1043afea95749e7e",
        "order": 8,
        "width": "3",
        "height": "1",
        "passthru": false,
        "mode": "number",
        "delay": "2000",
        "topic": "priming",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 560,
        "y": 1630,
        "wires": [
            [
                "7bea625317302d30"
            ]
        ]
    },
    {
        "id": "94506f898d1673b6",
        "type": "ui_switch",
        "z": "999c2839b6eaba29",
        "name": "",
        "label": "Pumping",
        "tooltip": "",
        "group": "1043afea95749e7e",
        "order": 6,
        "width": "3",
        "height": "1",
        "passthru": false,
        "decouple": "true",
        "topic": "pumpEnable",
        "topicType": "str",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 540,
        "y": 1660,
        "wires": [
            [
                "7bea625317302d30"
            ]
        ]
    },
    {
        "id": "60dfb545e4fb7e76",
        "type": "ui_switch",
        "z": "999c2839b6eaba29",
        "name": "",
        "label": "Measuring",
        "tooltip": "",
        "group": "1043afea95749e7e",
        "order": 7,
        "width": "3",
        "height": "1",
        "passthru": false,
        "decouple": "true",
        "topic": "measureEnable",
        "topicType": "str",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 550,
        "y": 1690,
        "wires": [
            [
                "7bea625317302d30"
            ]
        ]
    },
    {
        "id": "755bf0149a14506b",
        "type": "ui_button",
        "z": "999c2839b6eaba29",
        "name": "",
        "group": "1043afea95749e7e",
        "order": 4,
        "width": "3",
        "height": "1",
        "passthru": false,
        "label": "Pump",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{msg.buttoncolor}}",
        "className": "",
        "icon": "",
        "payload": "#CMD#",
        "payloadType": "str",
        "topic": "pump",
        "topicType": "str",
        "x": 530,
        "y": 1720,
        "wires": [
            [
                "7bea625317302d30"
            ]
        ]
    },
    {
        "id": "dcaa635c6b77a728",
        "type": "ui_button",
        "z": "999c2839b6eaba29",
        "name": "",
        "group": "1043afea95749e7e",
        "order": 5,
        "width": "3",
        "height": "1",
        "passthru": false,
        "label": "Read",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "#CMD#",
        "payloadType": "str",
        "topic": "measure",
        "topicType": "str",
        "x": 530,
        "y": 1750,
        "wires": [
            [
                "7bea625317302d30"
            ]
        ]
    },
    {
        "id": "915365fbe0f8e0cc",
        "type": "ui_text_input",
        "z": "999c2839b6eaba29",
        "name": "",
        "label": "Consigne",
        "tooltip": "",
        "group": "1043afea95749e7e",
        "order": 3,
        "width": "3",
        "height": "1",
        "passthru": false,
        "mode": "number",
        "delay": "2000",
        "topic": "humidityTarget",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 540,
        "y": 1600,
        "wires": [
            [
                "7bea625317302d30"
            ]
        ]
    },
    {
        "id": "6c2373104ffc32d0",
        "type": "ui_text",
        "z": "999c2839b6eaba29",
        "group": "1043afea95749e7e",
        "order": 1,
        "width": "3",
        "height": "1",
        "name": "",
        "label": "Humidité",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 540,
        "y": 1570,
        "wires": []
    },
    {
        "id": "71365f3fdd6db70b",
        "type": "subflow:d96e26d634947f5d",
        "z": "999c2839b6eaba29",
        "name": "Plant2",
        "env": [
            {
                "name": "PlantName",
                "value": "Plant2",
                "type": "str"
            }
        ],
        "x": 360,
        "y": 1630,
        "wires": [
            [
                "6c2373104ffc32d0",
                "48c11b0a8dfe2781"
            ],
            [
                "915365fbe0f8e0cc",
                "48c11b0a8dfe2781"
            ],
            [
                "1e02b40b91c9bdf2"
            ],
            [
                "94506f898d1673b6"
            ],
            [
                "60dfb545e4fb7e76"
            ],
            [
                "755bf0149a14506b",
                "b934c686ccc06890"
            ]
        ]
    },
    {
        "id": "6fbacce862b2f577",
        "type": "ui_text_input",
        "z": "999c2839b6eaba29",
        "name": "priming",
        "label": "Amorce (sec.)",
        "tooltip": "",
        "group": "bb8131d665a80619",
        "order": 8,
        "width": "3",
        "height": "1",
        "passthru": false,
        "mode": "number",
        "delay": "2000",
        "topic": "priming",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 540,
        "y": 1090,
        "wires": [
            [
                "03789adf22fd2c0d"
            ]
        ]
    },
    {
        "id": "888b3a983d651515",
        "type": "ui_button",
        "z": "999c2839b6eaba29",
        "name": "",
        "group": "bb8131d665a80619",
        "order": 4,
        "width": "3",
        "height": "1",
        "passthru": false,
        "label": "Pump",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{msg.buttoncolor}}",
        "className": "",
        "icon": "",
        "payload": "#CMD#",
        "payloadType": "str",
        "topic": "pump",
        "topicType": "str",
        "x": 530,
        "y": 1180,
        "wires": [
            [
                "03789adf22fd2c0d"
            ]
        ]
    },
    {
        "id": "fd75667ca353f719",
        "type": "ui_button",
        "z": "999c2839b6eaba29",
        "name": "",
        "group": "bb8131d665a80619",
        "order": 5,
        "width": "3",
        "height": "1",
        "passthru": false,
        "label": "Measure",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "#CMD#",
        "payloadType": "str",
        "topic": "measure",
        "topicType": "str",
        "x": 540,
        "y": 1210,
        "wires": [
            [
                "03789adf22fd2c0d"
            ]
        ]
    },
    {
        "id": "93f8f60c5dd8dbd8",
        "type": "ui_text_input",
        "z": "999c2839b6eaba29",
        "name": "Consigne",
        "label": "Consigne",
        "tooltip": "",
        "group": "bb8131d665a80619",
        "order": 3,
        "width": "3",
        "height": "1",
        "passthru": false,
        "mode": "number",
        "delay": "2000",
        "topic": "humidityTarget",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 540,
        "y": 1060,
        "wires": [
            [
                "03789adf22fd2c0d"
            ]
        ]
    },
    {
        "id": "8255762fba7c684d",
        "type": "ui_text",
        "z": "999c2839b6eaba29",
        "group": "bb8131d665a80619",
        "order": 1,
        "width": "3",
        "height": "1",
        "name": "",
        "label": "Humidité",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 540,
        "y": 1030,
        "wires": []
    },
    {
        "id": "6be1ad2610582399",
        "type": "subflow:737137f86c177d6c",
        "z": "999c2839b6eaba29",
        "name": "TCP 8887",
        "env": [
            {
                "name": "Port",
                "value": "8887",
                "type": "num"
            }
        ],
        "x": 70,
        "y": 40,
        "wires": [
            [
                "378a38ac1a07af87"
            ]
        ]
    },
    {
        "id": "7f96498d9198ec56",
        "type": "ui_text_input",
        "z": "999c2839b6eaba29",
        "name": "period",
        "label": "Period {{msg.current}}",
        "tooltip": "",
        "group": "c8abbc48af1ee634",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "mode": "number",
        "delay": "2000",
        "topic": "period",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 530,
        "y": 750,
        "wires": [
            [
                "00094f819ba7da8e"
            ]
        ]
    },
    {
        "id": "4b1b1be11d358f5a",
        "type": "ui_chart",
        "z": "999c2839b6eaba29",
        "name": "",
        "group": "4dbd0bf695f76ff9",
        "order": 1,
        "width": 26,
        "height": 6,
        "label": "Batterie 1600-2417",
        "chartType": "line",
        "legend": "false",
        "xformat": "dd HH:mm",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": "14",
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 570,
        "y": 780,
        "wires": [
            [
                "63e153710edeeef4"
            ]
        ]
    },
    {
        "id": "00094f819ba7da8e",
        "type": "subflow:518d5f9f6a504e19",
        "z": "999c2839b6eaba29",
        "name": "System",
        "env": [
            {
                "name": "section",
                "value": "system",
                "type": "str"
            }
        ],
        "x": 790,
        "y": 810,
        "wires": [
            [
                "948a8657808a574a"
            ]
        ]
    },
    {
        "id": "03789adf22fd2c0d",
        "type": "subflow:518d5f9f6a504e19",
        "z": "999c2839b6eaba29",
        "name": "Plant0",
        "env": [
            {
                "name": "section",
                "value": "plant0",
                "type": "str"
            }
        ],
        "x": 770,
        "y": 1110,
        "wires": [
            [
                "948a8657808a574a"
            ]
        ]
    },
    {
        "id": "f91e96157266867b",
        "type": "subflow:d96e26d634947f5d",
        "z": "999c2839b6eaba29",
        "name": "Plant0",
        "env": [
            {
                "name": "PlantName",
                "value": "Plant0",
                "type": "str"
            }
        ],
        "x": 350,
        "y": 1110,
        "wires": [
            [
                "8255762fba7c684d",
                "13143b114f0c6a58"
            ],
            [
                "93f8f60c5dd8dbd8",
                "13143b114f0c6a58"
            ],
            [
                "6fbacce862b2f577"
            ],
            [
                "f5235466f62b8862"
            ],
            [
                "6c9306b01107213c"
            ],
            [
                "888b3a983d651515",
                "69084b77ce4d82e1"
            ]
        ]
    },
    {
        "id": "4863b371cfd2c4c5",
        "type": "subflow:3e8cfd372c0d29f8",
        "z": "999c2839b6eaba29",
        "name": "",
        "x": 370,
        "y": 790,
        "wires": [
            [
                "7f96498d9198ec56"
            ],
            [
                "4b1b1be11d358f5a"
            ],
            [
                "d6ca9e6e0a45f309"
            ],
            []
        ]
    },
    {
        "id": "3c76b1fe3339645f",
        "type": "subflow:b15b4631c418658d",
        "z": "999c2839b6eaba29",
        "name": "192.168.1.123",
        "env": [
            {
                "name": "IP",
                "value": "192.168.1.123",
                "type": "str"
            }
        ],
        "x": 140,
        "y": 840,
        "wires": [
            [
                "4863b371cfd2c4c5"
            ],
            [
                "f91e96157266867b"
            ],
            [
                "4e81990aabe7c3bb"
            ],
            [
                "71365f3fdd6db70b"
            ],
            [
                "292180f7ce078118"
            ]
        ]
    },
    {
        "id": "948a8657808a574a",
        "type": "subflow:e0fe7cfd134b7dfb",
        "z": "999c2839b6eaba29",
        "name": "192.168.1.123",
        "env": [
            {
                "name": "IP",
                "value": "192.168.1.123",
                "type": "str"
            }
        ],
        "x": 980,
        "y": 830,
        "wires": []
    },
    {
        "id": "621a260fc4b5f439",
        "type": "subflow:b15b4631c418658d",
        "z": "999c2839b6eaba29",
        "name": "192.168.1.122",
        "env": [
            {
                "name": "IP",
                "value": "192.168.1.122",
                "type": "str"
            }
        ],
        "x": 150,
        "y": 420,
        "wires": [
            [
                "09c5db82f25826dd"
            ],
            [
                "f079a3a88da18fb0"
            ],
            [
                "aa8da4bfb6197a6b"
            ],
            [],
            []
        ]
    },
    {
        "id": "09c5db82f25826dd",
        "type": "subflow:3e8cfd372c0d29f8",
        "z": "999c2839b6eaba29",
        "name": "",
        "x": 350,
        "y": 40,
        "wires": [
            [
                "5402104713b56cbf"
            ],
            [],
            [
                "8ac7ca1ff0cad456"
            ],
            [
                "306d818565c4c19b"
            ]
        ]
    },
    {
        "id": "5402104713b56cbf",
        "type": "ui_text_input",
        "z": "999c2839b6eaba29",
        "name": "period",
        "label": "Period {{msg.current}}",
        "tooltip": "",
        "group": "525519bc0bab7ffa",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "mode": "number",
        "delay": "2000",
        "topic": "period",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 530,
        "y": 20,
        "wires": [
            [
                "ebdfdba5cf619ca4"
            ]
        ]
    },
    {
        "id": "ebdfdba5cf619ca4",
        "type": "subflow:518d5f9f6a504e19",
        "z": "999c2839b6eaba29",
        "name": "System",
        "env": [
            {
                "name": "section",
                "value": "system",
                "type": "str"
            }
        ],
        "x": 900,
        "y": 30,
        "wires": [
            [
                "7d8a71c7cbbcc201"
            ]
        ]
    },
    {
        "id": "7d8a71c7cbbcc201",
        "type": "subflow:e0fe7cfd134b7dfb",
        "z": "999c2839b6eaba29",
        "name": "192.168.1.122",
        "env": [
            {
                "name": "IP",
                "value": "192.168.1.122",
                "type": "str"
            }
        ],
        "x": 960,
        "y": 390,
        "wires": []
    },
    {
        "id": "fe0a97a404904826",
        "type": "subflow:518d5f9f6a504e19",
        "z": "999c2839b6eaba29",
        "name": "plant 0",
        "env": [
            {
                "name": "section",
                "value": "plant0",
                "type": "str"
            }
        ],
        "x": 760,
        "y": 270,
        "wires": [
            [
                "7d8a71c7cbbcc201"
            ]
        ]
    },
    {
        "id": "8ac7ca1ff0cad456",
        "type": "ui_text",
        "z": "999c2839b6eaba29",
        "group": "525519bc0bab7ffa",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "Last Message",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "className": "",
        "x": 560,
        "y": 50,
        "wires": []
    },
    {
        "id": "b64e29e9ee631149",
        "type": "subflow:518d5f9f6a504e19",
        "z": "999c2839b6eaba29",
        "name": "plant 1",
        "env": [
            {
                "name": "section",
                "value": "plant1",
                "type": "str"
            }
        ],
        "x": 760,
        "y": 590,
        "wires": [
            [
                "7d8a71c7cbbcc201"
            ]
        ]
    },
    {
        "id": "ccefbd10102a95a7",
        "type": "subflow:518d5f9f6a504e19",
        "z": "999c2839b6eaba29",
        "name": "Plant1",
        "env": [
            {
                "name": "section",
                "value": "plant1",
                "type": "str"
            }
        ],
        "x": 770,
        "y": 1410,
        "wires": [
            [
                "948a8657808a574a"
            ]
        ]
    },
    {
        "id": "7bea625317302d30",
        "type": "subflow:518d5f9f6a504e19",
        "z": "999c2839b6eaba29",
        "name": "Plant2",
        "env": [
            {
                "name": "section",
                "value": "plant2",
                "type": "str"
            }
        ],
        "x": 770,
        "y": 1660,
        "wires": [
            [
                "948a8657808a574a"
            ]
        ]
    },
    {
        "id": "d6ca9e6e0a45f309",
        "type": "ui_text",
        "z": "999c2839b6eaba29",
        "group": "c8abbc48af1ee634",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "Last Message",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "className": "",
        "x": 560,
        "y": 810,
        "wires": []
    },
    {
        "id": "4d3178370c0cd151",
        "type": "link in",
        "z": "999c2839b6eaba29",
        "name": "",
        "links": [
            "378a38ac1a07af87"
        ],
        "x": 25,
        "y": 390,
        "wires": [
            [
                "621a260fc4b5f439"
            ]
        ]
    },
    {
        "id": "378a38ac1a07af87",
        "type": "link out",
        "z": "999c2839b6eaba29",
        "name": "",
        "mode": "link",
        "links": [
            "4d3178370c0cd151",
            "84d8d61a58af3a3d",
            "44a3e5f6c5aa1b12"
        ],
        "x": 175,
        "y": 40,
        "wires": []
    },
    {
        "id": "84d8d61a58af3a3d",
        "type": "link in",
        "z": "999c2839b6eaba29",
        "name": "",
        "links": [
            "378a38ac1a07af87"
        ],
        "x": 25,
        "y": 840,
        "wires": [
            [
                "3c76b1fe3339645f"
            ]
        ]
    },
    {
        "id": "304921a4e3d1a241",
        "type": "ui_text_input",
        "z": "999c2839b6eaba29",
        "name": "",
        "label": "Amorce (sec.)",
        "tooltip": "",
        "group": "436a9c7696814cb4",
        "order": 8,
        "width": "3",
        "height": "1",
        "passthru": false,
        "mode": "number",
        "delay": "2000",
        "topic": "priming",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 560,
        "y": 1900,
        "wires": [
            [
                "6ae8246f186467b8"
            ]
        ]
    },
    {
        "id": "0c2eacb6dcc62dea",
        "type": "ui_switch",
        "z": "999c2839b6eaba29",
        "name": "",
        "label": "Pumping",
        "tooltip": "",
        "group": "436a9c7696814cb4",
        "order": 6,
        "width": "3",
        "height": "1",
        "passthru": false,
        "decouple": "true",
        "topic": "pumpEnable",
        "topicType": "str",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 540,
        "y": 1930,
        "wires": [
            [
                "6ae8246f186467b8"
            ]
        ]
    },
    {
        "id": "ab2ec2cdf409c3ca",
        "type": "ui_switch",
        "z": "999c2839b6eaba29",
        "name": "",
        "label": "Measuring",
        "tooltip": "",
        "group": "436a9c7696814cb4",
        "order": 7,
        "width": "3",
        "height": "1",
        "passthru": false,
        "decouple": "true",
        "topic": "measureEnable",
        "topicType": "str",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 550,
        "y": 1960,
        "wires": [
            [
                "6ae8246f186467b8"
            ]
        ]
    },
    {
        "id": "eea3fd43eca9bf22",
        "type": "ui_button",
        "z": "999c2839b6eaba29",
        "name": "",
        "group": "436a9c7696814cb4",
        "order": 4,
        "width": "3",
        "height": "1",
        "passthru": false,
        "label": "Pump",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{msg.buttoncolor}}",
        "className": "",
        "icon": "",
        "payload": "#CMD#",
        "payloadType": "str",
        "topic": "pump",
        "topicType": "str",
        "x": 530,
        "y": 1990,
        "wires": [
            [
                "6ae8246f186467b8"
            ]
        ]
    },
    {
        "id": "3944ebac88f747c5",
        "type": "ui_button",
        "z": "999c2839b6eaba29",
        "name": "",
        "group": "436a9c7696814cb4",
        "order": 5,
        "width": "3",
        "height": "1",
        "passthru": false,
        "label": "Read",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "#CMD#",
        "payloadType": "str",
        "topic": "measure",
        "topicType": "str",
        "x": 530,
        "y": 2020,
        "wires": [
            [
                "6ae8246f186467b8"
            ]
        ]
    },
    {
        "id": "14f48dcd4aec1037",
        "type": "ui_text_input",
        "z": "999c2839b6eaba29",
        "name": "",
        "label": "Consigne",
        "tooltip": "",
        "group": "436a9c7696814cb4",
        "order": 3,
        "width": "3",
        "height": "1",
        "passthru": false,
        "mode": "number",
        "delay": "2000",
        "topic": "humidityTarget",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 540,
        "y": 1870,
        "wires": [
            [
                "6ae8246f186467b8"
            ]
        ]
    },
    {
        "id": "8c3f02d299952b1b",
        "type": "ui_text",
        "z": "999c2839b6eaba29",
        "group": "436a9c7696814cb4",
        "order": 1,
        "width": "3",
        "height": "1",
        "name": "",
        "label": "Humidité",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 540,
        "y": 1840,
        "wires": []
    },
    {
        "id": "292180f7ce078118",
        "type": "subflow:d96e26d634947f5d",
        "z": "999c2839b6eaba29",
        "name": "Plant3",
        "env": [
            {
                "name": "PlantName",
                "value": "Plant3",
                "type": "str"
            }
        ],
        "x": 350,
        "y": 1890,
        "wires": [
            [
                "8c3f02d299952b1b",
                "0ec023fe7c211164"
            ],
            [
                "14f48dcd4aec1037",
                "0ec023fe7c211164"
            ],
            [
                "304921a4e3d1a241"
            ],
            [
                "0c2eacb6dcc62dea"
            ],
            [
                "ab2ec2cdf409c3ca"
            ],
            [
                "eea3fd43eca9bf22",
                "6e7465f20e59e9ba"
            ]
        ]
    },
    {
        "id": "6ae8246f186467b8",
        "type": "subflow:518d5f9f6a504e19",
        "z": "999c2839b6eaba29",
        "name": "Plant3",
        "env": [
            {
                "name": "section",
                "value": "plant3",
                "type": "str"
            }
        ],
        "x": 770,
        "y": 1950,
        "wires": [
            [
                "948a8657808a574a"
            ]
        ]
    },
    {
        "id": "0ec023fe7c211164",
        "type": "ui_chart",
        "z": "999c2839b6eaba29",
        "name": "",
        "group": "436a9c7696814cb4",
        "order": 2,
        "width": "25",
        "height": 6,
        "label": "Plant3",
        "chartType": "line",
        "legend": "false",
        "xformat": "dd HH:mm",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": "5",
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 530,
        "y": 1780,
        "wires": [
            []
        ]
    },
    {
        "id": "8fab3e5ca4fb175a",
        "type": "ui_chart",
        "z": "999c2839b6eaba29",
        "name": "Humidity Graph",
        "group": "b2c09df255938acc",
        "order": 2,
        "width": "25",
        "height": 6,
        "label": "Bonzaï Bas",
        "chartType": "line",
        "legend": "false",
        "xformat": "dd HH:mm",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": "5",
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 560,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "af72d4e737b375eb",
        "type": "ui_chart",
        "z": "999c2839b6eaba29",
        "name": "Humidity Graph",
        "group": "1cae1a7011cabb4f",
        "order": 2,
        "width": "25",
        "height": "6",
        "label": "Bonzaï Haut",
        "chartType": "line",
        "legend": "false",
        "xformat": "dd HH:mm",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": "5",
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#ffb675",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 560,
        "y": 470,
        "wires": [
            []
        ]
    },
    {
        "id": "13143b114f0c6a58",
        "type": "ui_chart",
        "z": "999c2839b6eaba29",
        "name": "Humidity Graph",
        "group": "bb8131d665a80619",
        "order": 2,
        "width": "25",
        "height": "6",
        "label": "Plant 0",
        "chartType": "line",
        "legend": "false",
        "xformat": "dd HH:mm",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": "5",
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#ffb675",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 560,
        "y": 970,
        "wires": [
            []
        ]
    },
    {
        "id": "4151baaef98d9e8c",
        "type": "ui_chart",
        "z": "999c2839b6eaba29",
        "name": "",
        "group": "c8cfbc353241b95f",
        "order": 2,
        "width": "25",
        "height": 6,
        "label": "Plant1",
        "chartType": "line",
        "legend": "false",
        "xformat": "dd HH:mm",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": "5",
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 530,
        "y": 1240,
        "wires": [
            []
        ]
    },
    {
        "id": "48c11b0a8dfe2781",
        "type": "ui_chart",
        "z": "999c2839b6eaba29",
        "name": "",
        "group": "1043afea95749e7e",
        "order": 2,
        "width": "25",
        "height": 6,
        "label": "Plant2",
        "chartType": "line",
        "legend": "false",
        "xformat": "dd HH:mm",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": "5",
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 530,
        "y": 1510,
        "wires": [
            []
        ]
    },
    {
        "id": "a1a935548248d44c",
        "type": "subflow:b15b4631c418658d",
        "z": "999c2839b6eaba29",
        "name": "192.168.1.93",
        "env": [
            {
                "name": "IP",
                "value": "192.168.1.93",
                "type": "str"
            }
        ],
        "x": 230,
        "y": 2220,
        "wires": [
            [
                "8e7564ebc184fe5e"
            ],
            [
                "473f1cf73d81c491"
            ],
            [],
            [],
            []
        ]
    },
    {
        "id": "54645c3c7d6d4376",
        "type": "ui_button",
        "z": "999c2839b6eaba29",
        "name": "",
        "group": "c8abbc48af1ee634",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Refresh",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "1",
        "payloadType": "str",
        "topic": "all",
        "topicType": "str",
        "x": 540,
        "y": 840,
        "wires": [
            [
                "00094f819ba7da8e"
            ]
        ]
    },
    {
        "id": "cbbb16bab3c90fd1",
        "type": "ui_button",
        "z": "999c2839b6eaba29",
        "name": "",
        "group": "525519bc0bab7ffa",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Refresh",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "1",
        "payloadType": "str",
        "topic": "all",
        "topicType": "str",
        "x": 720,
        "y": 50,
        "wires": [
            [
                "ebdfdba5cf619ca4"
            ]
        ]
    },
    {
        "id": "44a3e5f6c5aa1b12",
        "type": "link in",
        "z": "999c2839b6eaba29",
        "name": "",
        "links": [
            "378a38ac1a07af87"
        ],
        "x": 115,
        "y": 2220,
        "wires": [
            [
                "a1a935548248d44c"
            ]
        ]
    },
    {
        "id": "166d0e03abcbe150",
        "type": "subflow:518d5f9f6a504e19",
        "z": "999c2839b6eaba29",
        "name": "System",
        "env": [
            {
                "name": "section",
                "value": "system",
                "type": "str"
            }
        ],
        "x": 640,
        "y": 2190,
        "wires": [
            [
                "925cd2757249dc92"
            ]
        ]
    },
    {
        "id": "925cd2757249dc92",
        "type": "subflow:e0fe7cfd134b7dfb",
        "z": "999c2839b6eaba29",
        "name": "192.168.1.93",
        "env": [
            {
                "name": "IP",
                "value": "192.168.1.93",
                "type": "str"
            }
        ],
        "x": 810,
        "y": 2190,
        "wires": []
    },
    {
        "id": "f88d4f70e8ed0b99",
        "type": "ui_button",
        "z": "999c2839b6eaba29",
        "name": "",
        "group": "8df94cd6feceba15",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Reset WiFi",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "#CMD#",
        "payloadType": "str",
        "topic": "resetWiFi",
        "topicType": "str",
        "x": 440,
        "y": 2180,
        "wires": [
            [
                "166d0e03abcbe150"
            ]
        ]
    },
    {
        "id": "ac6d794b5173381b",
        "type": "ui_chart",
        "z": "999c2839b6eaba29",
        "name": "PompageBas",
        "group": "b2c09df255938acc",
        "order": 9,
        "width": "25",
        "height": 2,
        "label": "",
        "chartType": "line",
        "legend": "false",
        "xformat": "dd HH:mm",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": "5",
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 560,
        "y": 230,
        "wires": [
            []
        ]
    },
    {
        "id": "10d8829686c2f24f",
        "type": "ui_chart",
        "z": "999c2839b6eaba29",
        "name": "PompageHaut",
        "group": "1cae1a7011cabb4f",
        "order": 9,
        "width": "25",
        "height": 2,
        "label": "",
        "chartType": "line",
        "legend": "false",
        "xformat": "dd HH:mm",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": "5",
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 560,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "69084b77ce4d82e1",
        "type": "ui_chart",
        "z": "999c2839b6eaba29",
        "name": "PompagePlant0",
        "group": "bb8131d665a80619",
        "order": 9,
        "width": "25",
        "height": 2,
        "label": "",
        "chartType": "line",
        "legend": "false",
        "xformat": "dd HH:mm",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": "5",
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 560,
        "y": 1000,
        "wires": [
            []
        ]
    },
    {
        "id": "df173c286a0414b7",
        "type": "ui_chart",
        "z": "999c2839b6eaba29",
        "name": "PompagePlant1",
        "group": "c8cfbc353241b95f",
        "order": 9,
        "width": "25",
        "height": 2,
        "label": "",
        "chartType": "line",
        "legend": "false",
        "xformat": "dd HH:mm",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": "5",
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 560,
        "y": 1270,
        "wires": [
            []
        ]
    },
    {
        "id": "b934c686ccc06890",
        "type": "ui_chart",
        "z": "999c2839b6eaba29",
        "name": "PompagePlant2",
        "group": "1043afea95749e7e",
        "order": 9,
        "width": "25",
        "height": 2,
        "label": "",
        "chartType": "line",
        "legend": "false",
        "xformat": "dd HH:mm",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": "5",
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 560,
        "y": 1540,
        "wires": [
            []
        ]
    },
    {
        "id": "6e7465f20e59e9ba",
        "type": "ui_chart",
        "z": "999c2839b6eaba29",
        "name": "PompagePlant3",
        "group": "436a9c7696814cb4",
        "order": 9,
        "width": "25",
        "height": 2,
        "label": "",
        "chartType": "line",
        "legend": "false",
        "xformat": "dd HH:mm",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": "5",
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 560,
        "y": 1810,
        "wires": [
            []
        ]
    },
    {
        "id": "9626a3a210bd31e9",
        "type": "ui_button",
        "z": "999c2839b6eaba29",
        "name": "",
        "group": "c8abbc48af1ee634",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Reset WiFi",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "1",
        "payloadType": "str",
        "topic": "resetWiFi",
        "topicType": "str",
        "x": 550,
        "y": 930,
        "wires": [
            [
                "00094f819ba7da8e"
            ]
        ]
    },
    {
        "id": "b56abe323b1429a0",
        "type": "ui_button",
        "z": "999c2839b6eaba29",
        "name": "",
        "group": "525519bc0bab7ffa",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Reset WiFi",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "1",
        "payloadType": "str",
        "topic": "resetWiFi",
        "topicType": "str",
        "x": 730,
        "y": 80,
        "wires": [
            [
                "ebdfdba5cf619ca4"
            ]
        ]
    },
    {
        "id": "dcfbba5f6d6771c3",
        "type": "ui_button",
        "z": "999c2839b6eaba29",
        "name": "",
        "group": "8df94cd6feceba15",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Reset IP",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "#CMD#",
        "payloadType": "str",
        "topic": "resetIP",
        "topicType": "str",
        "x": 430,
        "y": 2210,
        "wires": [
            [
                "166d0e03abcbe150"
            ]
        ]
    },
    {
        "id": "e5055ad0344a43e3",
        "type": "ui_button",
        "z": "999c2839b6eaba29",
        "name": "",
        "group": "8df94cd6feceba15",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Save IP",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "#CMD#",
        "payloadType": "str",
        "topic": "saveIP",
        "topicType": "str",
        "x": 430,
        "y": 2240,
        "wires": [
            [
                "166d0e03abcbe150"
            ]
        ]
    },
    {
        "id": "346d97385f265640",
        "type": "ui_button",
        "z": "999c2839b6eaba29",
        "name": "",
        "group": "8df94cd6feceba15",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Refresh",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "1",
        "payloadType": "str",
        "topic": "all",
        "topicType": "str",
        "x": 430,
        "y": 2150,
        "wires": [
            [
                "166d0e03abcbe150"
            ]
        ]
    },
    {
        "id": "900f2ade88a99c76",
        "type": "ui_button",
        "z": "999c2839b6eaba29",
        "name": "",
        "group": "c8abbc48af1ee634",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Save IP",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "#CMD#",
        "payloadType": "str",
        "topic": "saveIP",
        "topicType": "str",
        "x": 540,
        "y": 900,
        "wires": [
            [
                "00094f819ba7da8e"
            ]
        ]
    },
    {
        "id": "ac6ed10307b120b6",
        "type": "ui_button",
        "z": "999c2839b6eaba29",
        "name": "",
        "group": "c8abbc48af1ee634",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Reset IP",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "#CMD#",
        "payloadType": "str",
        "topic": "resetIP",
        "topicType": "str",
        "x": 540,
        "y": 870,
        "wires": [
            [
                "00094f819ba7da8e"
            ]
        ]
    },
    {
        "id": "801ba187fc9b8fb8",
        "type": "ui_button",
        "z": "999c2839b6eaba29",
        "name": "",
        "group": "525519bc0bab7ffa",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Save IP",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "#CMD#",
        "payloadType": "str",
        "topic": "saveIP",
        "topicType": "str",
        "x": 720,
        "y": 140,
        "wires": [
            [
                "ebdfdba5cf619ca4"
            ]
        ]
    },
    {
        "id": "9288acb6c067b542",
        "type": "ui_button",
        "z": "999c2839b6eaba29",
        "name": "",
        "group": "525519bc0bab7ffa",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Reset IP",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "#CMD#",
        "payloadType": "str",
        "topic": "resetIP",
        "topicType": "str",
        "x": 720,
        "y": 110,
        "wires": [
            [
                "ebdfdba5cf619ca4"
            ]
        ]
    },
    {
        "id": "f5235466f62b8862",
        "type": "ui_switch",
        "z": "999c2839b6eaba29",
        "name": "",
        "label": "Pumping",
        "tooltip": "",
        "group": "bb8131d665a80619",
        "order": 6,
        "width": "3",
        "height": "1",
        "passthru": false,
        "decouple": "true",
        "topic": "pumpEnable",
        "topicType": "str",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 540,
        "y": 1120,
        "wires": [
            [
                "03789adf22fd2c0d"
            ]
        ]
    },
    {
        "id": "6c9306b01107213c",
        "type": "ui_switch",
        "z": "999c2839b6eaba29",
        "name": "",
        "label": "Measuring",
        "tooltip": "",
        "group": "bb8131d665a80619",
        "order": 7,
        "width": "3",
        "height": "1",
        "passthru": false,
        "decouple": "true",
        "topic": "measureEnable",
        "topicType": "str",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 550,
        "y": 1150,
        "wires": [
            [
                "03789adf22fd2c0d"
            ]
        ]
    },
    {
        "id": "306d818565c4c19b",
        "type": "ui_chart",
        "z": "999c2839b6eaba29",
        "d": true,
        "name": "",
        "group": "4dbd0bf695f76ff9",
        "order": 2,
        "width": 26,
        "height": 6,
        "label": "Niveau",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": "5",
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 540,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "df418566319f933d",
        "type": "inject",
        "z": "999c2839b6eaba29",
        "name": "OnStarting",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 94,
        "y": 720,
        "wires": [
            [
                "cf4ec317d4416a5a"
            ]
        ]
    },
    {
        "id": "cf4ec317d4416a5a",
        "type": "file in",
        "z": "999c2839b6eaba29",
        "name": "File Batterie",
        "filename": "/data/chartdata/batterie.json",
        "filenameType": "str",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 254,
        "y": 720,
        "wires": [
            [
                "ea93cd86896151a1"
            ]
        ]
    },
    {
        "id": "ea93cd86896151a1",
        "type": "json",
        "z": "999c2839b6eaba29",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 394,
        "y": 720,
        "wires": [
            [
                "4b1b1be11d358f5a"
            ]
        ]
    },
    {
        "id": "63e153710edeeef4",
        "type": "file",
        "z": "999c2839b6eaba29",
        "name": "File Batterie",
        "filename": "/data/chartdata/batterie.json",
        "filenameType": "str",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 800,
        "y": 720,
        "wires": [
            []
        ]
    },
    {
        "id": "edbf10e6d422c96a",
        "type": "ui_text",
        "z": "999c2839b6eaba29",
        "group": "8df94cd6feceba15",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "Last Message",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 650,
        "y": 2410,
        "wires": []
    },
    {
        "id": "a7851578c8e08b16",
        "type": "ui_text_input",
        "z": "999c2839b6eaba29",
        "name": "period",
        "label": "Period {{msg.current}}",
        "tooltip": "",
        "group": "8df94cd6feceba15",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "mode": "number",
        "delay": "2000",
        "topic": "period",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 620,
        "y": 2380,
        "wires": [
            [
                "166d0e03abcbe150"
            ]
        ]
    },
    {
        "id": "8e7564ebc184fe5e",
        "type": "subflow:3e8cfd372c0d29f8",
        "z": "999c2839b6eaba29",
        "name": "",
        "x": 440,
        "y": 2410,
        "wires": [
            [
                "a7851578c8e08b16"
            ],
            [],
            [
                "edbf10e6d422c96a"
            ],
            []
        ]
    },
    {
        "id": "90ee73d3584e8c26",
        "type": "subflow:518d5f9f6a504e19",
        "z": "999c2839b6eaba29",
        "name": "Plant0",
        "env": [
            {
                "name": "section",
                "value": "plant0",
                "type": "str"
            }
        ],
        "x": 610,
        "y": 2320,
        "wires": [
            [
                "925cd2757249dc92"
            ]
        ]
    },
    {
        "id": "fad95599804c99a0",
        "type": "ui_button",
        "z": "999c2839b6eaba29",
        "d": true,
        "name": "",
        "group": "8df94cd6feceba15",
        "order": 4,
        "width": "3",
        "height": "1",
        "passthru": false,
        "label": "Pump",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{msg.buttoncolor}}",
        "className": "",
        "icon": "",
        "payload": "#CMD#",
        "payloadType": "str",
        "topic": "pump",
        "topicType": "str",
        "x": 460,
        "y": 2320,
        "wires": [
            [
                "90ee73d3584e8c26"
            ]
        ]
    },
    {
        "id": "473f1cf73d81c491",
        "type": "subflow:d96e26d634947f5d",
        "z": "999c2839b6eaba29",
        "name": "Plant0",
        "env": [
            {
                "name": "PlantName",
                "value": "Plant0",
                "type": "str"
            }
        ],
        "x": 240,
        "y": 2350,
        "wires": [
            [],
            [],
            [],
            [],
            [],
            [
                "fad95599804c99a0"
            ]
        ]
    },
    {
        "id": "f053cfb8.b793e",
        "type": "deconz-input",
        "z": "8d2da763.b1b5d8",
        "name": "Temperature",
        "topic": "Temperature",
        "config_version": 2,
        "server": "98dc4fb5.8af9c",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/00:15:8d:00:04:aa:e1:a9-01-0402"
        ],
        "device_name": "Multi Sensor : ZHATemperature",
        "query": "",
        "outputs": 1,
        "output_rules": [
            {
                "type": "homekit",
                "format": "single",
                "onstart": true,
                "onerror": true,
                "payload": [
                    "CurrentTemperature"
                ],
                "uniqueId": "ui-id-10"
            }
        ],
        "x": 140,
        "y": 140,
        "wires": [
            [
                "e049e79f11d2d99c"
            ]
        ]
    },
    {
        "id": "7a90a907406c6067",
        "type": "deconz-input",
        "z": "8d2da763.b1b5d8",
        "name": "Humidity",
        "topic": "Humidity",
        "config_version": 2,
        "server": "98dc4fb5.8af9c",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/00:15:8d:00:04:aa:e1:a9-01-0405"
        ],
        "device_name": "",
        "query": "{}",
        "outputs": 1,
        "output_rules": [
            {
                "type": "homekit",
                "format": "single",
                "onstart": true,
                "onerror": true,
                "payload": [
                    "__auto__"
                ]
            }
        ],
        "x": 130,
        "y": 190,
        "wires": [
            [
                "0466f8083f0b4265"
            ]
        ]
    },
    {
        "id": "0466f8083f0b4265",
        "type": "function",
        "z": "8d2da763.b1b5d8",
        "name": "",
        "func": "return {topic:\"Humidité Ambiante\",\n        payload:msg.payload.CurrentRelativeHumidity};",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 190,
        "wires": [
            [
                "03095cd16e3f37f3"
            ]
        ]
    },
    {
        "id": "e049e79f11d2d99c",
        "type": "function",
        "z": "8d2da763.b1b5d8",
        "name": "",
        "func": "msg.payload = msg.payload.CurrentTemperature;\nmsg.topic = \"Température Ambiante\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 140,
        "wires": [
            [
                "d4644185c844f3d0"
            ]
        ]
    },
    {
        "id": "d4644185c844f3d0",
        "type": "ui_text",
        "z": "8d2da763.b1b5d8",
        "group": "27165c27.d59084",
        "order": 6,
        "width": 0,
        "height": 0,
        "name": "TempAmbiante",
        "label": "{{msg.topic}}",
        "format": "{{msg.payload}}",
        "layout": "row-right",
        "className": "",
        "style": true,
        "font": "",
        "fontSize": 16,
        "color": "#f5d6f5",
        "x": 740,
        "y": 140,
        "wires": []
    },
    {
        "id": "03095cd16e3f37f3",
        "type": "ui_text",
        "z": "8d2da763.b1b5d8",
        "group": "27165c27.d59084",
        "order": 9,
        "width": 0,
        "height": 0,
        "name": "HumAmbiante",
        "label": "{{msg.topic}}",
        "format": "{{msg.payload}}",
        "layout": "row-right",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 740,
        "y": 190,
        "wires": []
    },
    {
        "id": "1d72944e08f69a67",
        "type": "function",
        "z": "8d2da763.b1b5d8",
        "d": true,
        "name": "ExtractTemp",
        "func": "return [\n    {payload: msg.payload.temperature },\n    {payload: msg.payload.humidity},\n    {payload: msg.payload.dewPoint},\n    {payload: msg.payload.tempCold},\n    {payload: msg.payload.tempHot},\n    {payload: msg.payload.coldFanSpeed}];",
        "outputs": 6,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 1420,
        "wires": [
            [],
            [],
            [],
            [],
            [],
            []
        ],
        "outputLabels": [
            "temperature",
            "humidity",
            "dewPoint",
            "tempCold",
            "tempHot",
            "coldFanSpeed"
        ]
    },
    {
        "id": "be0366888f6bee46",
        "type": "json",
        "z": "8d2da763.b1b5d8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 270,
        "y": 440,
        "wires": [
            [
                "d5cc9931e14eb558",
                "888148b16cde8b17",
                "76a76d8dc80ba075",
                "76f34e760b92756b",
                "28ca0676276cd633",
                "326f6dfc346f81b5",
                "c252da100b8967ab"
            ]
        ]
    },
    {
        "id": "f2bd648d6d0e7795",
        "type": "udp in",
        "z": "8d2da763.b1b5d8",
        "name": "",
        "iface": "",
        "port": "8888",
        "ipv": "udp4",
        "multicast": "false",
        "group": "192.168.1.255",
        "datatype": "utf8",
        "x": 120,
        "y": 440,
        "wires": [
            [
                "be0366888f6bee46"
            ]
        ]
    },
    {
        "id": "4704cb7a74a8461a",
        "type": "deconz-get",
        "z": "8d2da763.b1b5d8",
        "name": "",
        "config_version": 1,
        "server": "98dc4fb5.8af9c",
        "statustext": "",
        "statustext_type": "default",
        "search_type": "device",
        "device_list": [
            "lights/uniqueid/00:21:2e:ff:ff:04:f8:d3-01"
        ],
        "device_name": "",
        "query": "{}",
        "outputs": 2,
        "output_rules": [
            {
                "type": "attribute",
                "format": "single",
                "payload": [
                    "__complete__"
                ]
            },
            {
                "type": "state",
                "format": "single",
                "payload": [
                    "__complete__"
                ]
            }
        ],
        "x": 330,
        "y": 1140,
        "wires": [
            [
                "0487bb72254dab02"
            ],
            [
                "e7dd55a03823c465"
            ]
        ]
    },
    {
        "id": "0487bb72254dab02",
        "type": "debug",
        "z": "8d2da763.b1b5d8",
        "name": "debug 76",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 560,
        "y": 1120,
        "wires": []
    },
    {
        "id": "e7dd55a03823c465",
        "type": "debug",
        "z": "8d2da763.b1b5d8",
        "name": "debug 77",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 560,
        "y": 1160,
        "wires": []
    },
    {
        "id": "eb9ab37fd1456bb2",
        "type": "inject",
        "z": "8d2da763.b1b5d8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 140,
        "y": 1140,
        "wires": [
            [
                "4704cb7a74a8461a"
            ]
        ]
    },
    {
        "id": "dd9ffba6c3790799",
        "type": "function",
        "z": "8d2da763.b1b5d8",
        "d": true,
        "name": "Copie total heure lisible",
        "func": "var temp = msg.payload;\nvar date = new Date();\ntemp['datetime'] = date.getTime();\n\ndate = new Date(date.getTime()- date.getTimezoneOffset()*60000);\n\nmsg.payload = { };\nmsg.payload[date.toISOString().split('.')[0]] = temp;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 1240,
        "wires": [
            []
        ]
    },
    {
        "id": "2ed9a4b7c8f7e7a0",
        "type": "function",
        "z": "8d2da763.b1b5d8",
        "d": true,
        "name": "ConvertFullStruct",
        "func": "var chartData = [];\n\nfor (const [dt, values] of Object.entries(msg.payload)) {\n    var dtInt = parseInt(dt);\n    for (const [key, value] of Object.entries(values)) {\n        chartData.push({\n            series:key,\n            x:dtInt,\n            y:value});\n    }\n}\n\nreturn {payload : chartData};",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 430,
        "y": 1320,
        "wires": [
            []
        ]
    },
    {
        "id": "f48515a804a94fb1",
        "type": "ui-button",
        "z": "8d2da763.b1b5d8",
        "group": "20020005c6448949",
        "name": "Load2",
        "label": "Load2",
        "order": 6,
        "width": 0,
        "height": 0,
        "emulateClick": false,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "left",
        "payload": "{}",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 110,
        "y": 720,
        "wires": [
            [
                "6c3dcf33181c4315"
            ]
        ]
    },
    {
        "id": "6c3dcf33181c4315",
        "type": "function",
        "z": "8d2da763.b1b5d8",
        "name": "Send Multiload",
        "func": "var date = new Date();\nvar begin = (date.getTime() - 10 * 60 * 60000).toString(); //60s\nreturn [\n    {payload:[]},\n    {payload: { begin: begin}, path : \"Dehumidifier4/humidity\"},\n    {payload: { begin: begin}, path : \"Dehumidifier4/temperature\"},\n    {payload: { begin: begin}, path : \"Dehumidifier4/tempCold\"},\n    {payload: { begin: begin}, path : \"Dehumidifier4/tempHot\"},\n    {payload: { begin: begin}, path : \"Dehumidifier4/dewPoint\"}];",
        "outputs": 6,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 260,
        "y": 720,
        "wires": [
            [
                "670773447ecd3610"
            ],
            [
                "be23d69b384b3144"
            ],
            [
                "be23d69b384b3144"
            ],
            [
                "be23d69b384b3144"
            ],
            [
                "be23d69b384b3144"
            ],
            [
                "be23d69b384b3144"
            ]
        ]
    },
    {
        "id": "be23d69b384b3144",
        "type": "firebase-get",
        "z": "8d2da763.b1b5d8",
        "name": "",
        "constraints": {
            "startAt": {
                "value": "payload.begin",
                "key": "",
                "types": {
                    "value": "msg",
                    "child": "str"
                }
            },
            "orderByKey": null
        },
        "database": "1450e0140a3f1b0d",
        "outputType": "json",
        "passThrough": false,
        "path": "path",
        "pathType": "msg",
        "useConstraints": true,
        "x": 470,
        "y": 740,
        "wires": [
            [
                "9a191a1ade530f78"
            ]
        ]
    },
    {
        "id": "9a191a1ade530f78",
        "type": "function",
        "z": "8d2da763.b1b5d8",
        "name": "Convert",
        "func": "var chartData = [];\n\nfor (const [dt, value] of Object.entries(msg.payload)) {\n    chartData.push({\n        series:msg.topic,\n        x:parseInt(dt),\n        y:value});\n}\n\nreturn {payload : chartData, action:\"append\"};",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 740,
        "wires": [
            [
                "670773447ecd3610"
            ]
        ]
    },
    {
        "id": "b8670e07e26b3de0",
        "type": "firebase-get",
        "z": "8d2da763.b1b5d8",
        "name": "",
        "constraints": {},
        "database": "1450e0140a3f1b0d",
        "outputType": "json",
        "passThrough": false,
        "path": "Dehumidifier2",
        "pathType": "str",
        "useConstraints": false,
        "x": 320,
        "y": 1000,
        "wires": [
            [
                "e6d972bc5ce6ab13"
            ]
        ]
    },
    {
        "id": "d747700b3af0809f",
        "type": "inject",
        "z": "8d2da763.b1b5d8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 1000,
        "wires": [
            [
                "b8670e07e26b3de0"
            ]
        ]
    },
    {
        "id": "e6d972bc5ce6ab13",
        "type": "function",
        "z": "8d2da763.b1b5d8",
        "name": "Recopie",
        "func": "var chartData = { \n    absHumidity: {path: \"Dehumidifier4/absHumidity\", payload: {}},\n    dewPoint: {path: \"Dehumidifier4/dewPoint\", payload: {}},\n    humidity: {path: \"Dehumidifier4/humidity\", payload: {}},\n    tempCold:  {path: \"Dehumidifier4/tempCold\", payload: {}},\n    tempHot: {path: \"Dehumidifier4/tempHot\", payload: {}},\n    temperature: {path: \"Dehumidifier4/temperature\", payload: {}}};\n\nfor (const [dt, values] of Object.entries(msg.payload)) {\n    var dtInt = parseInt(dt);\n    for (const [key, value] of Object.entries(values)) {\n        if (chartData[key] !== undefined){\n            chartData[key].payload[dtInt] = value;\n        }\n    }\n}\n\nreturn [\n    chartData[\"absHumidity\"],\n    chartData[\"dewPoint\"],\n    chartData[\"humidity\"],\n    chartData[\"tempCold\"],\n    chartData[\"tempHot\"],\n    chartData[\"temperature\"]];\n\n",
        "outputs": 6,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 500,
        "y": 1000,
        "wires": [
            [
                "324a08b2d36f848f"
            ],
            [
                "324a08b2d36f848f"
            ],
            [
                "324a08b2d36f848f"
            ],
            [
                "324a08b2d36f848f"
            ],
            [
                "324a08b2d36f848f"
            ],
            [
                "324a08b2d36f848f"
            ]
        ]
    },
    {
        "id": "324a08b2d36f848f",
        "type": "firebase-out",
        "z": "8d2da763.b1b5d8",
        "name": "",
        "database": "1450e0140a3f1b0d",
        "path": "path",
        "pathType": "msg",
        "priority": "1",
        "queryType": "update",
        "x": 740,
        "y": 1000,
        "wires": []
    },
    {
        "id": "1b2beb8e331aae1e",
        "type": "ui-button-group",
        "z": "8d2da763.b1b5d8",
        "name": "Duration",
        "group": "20020005c6448949",
        "order": 8,
        "width": "3",
        "height": 1,
        "label": "",
        "className": "",
        "rounded": true,
        "useThemeColors": true,
        "passthru": false,
        "options": [
            {
                "label": "7J",
                "icon": "",
                "value": "168",
                "valueType": "num",
                "color": "#cccc00"
            },
            {
                "label": "2J",
                "icon": "",
                "value": "48",
                "valueType": "num",
                "color": "#009999"
            },
            {
                "label": "1J",
                "icon": "",
                "value": "24",
                "valueType": "num",
                "color": "#009933"
            },
            {
                "label": "6H",
                "icon": "",
                "value": "6",
                "valueType": "num",
                "color": "#999999"
            },
            {
                "label": "1H",
                "icon": "",
                "value": "1",
                "valueType": "num",
                "color": "#ff6666"
            }
        ],
        "topic": "duration",
        "topicType": "str",
        "x": 340,
        "y": 840,
        "wires": [
            [
                "93300b30741c3294"
            ]
        ]
    },
    {
        "id": "6efbcaa382d10d52",
        "type": "ui-switch",
        "z": "8d2da763.b1b5d8",
        "name": "Live",
        "label": "Live",
        "group": "20020005c6448949",
        "order": 9,
        "width": "1",
        "height": "1",
        "passthru": false,
        "decouple": false,
        "topic": "Live",
        "topicType": "str",
        "style": "",
        "className": "",
        "layout": "row-spread",
        "clickableArea": "switch",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 150,
        "y": 920,
        "wires": [
            []
        ]
    },
    {
        "id": "5f6e5f6b70b6e1c9",
        "type": "function",
        "z": "8d2da763.b1b5d8",
        "name": "function 12",
        "func": "var absHumidity = {path: \"Dehumidifier4/absHumidity\", payload: {}};\nvar dewPoint = {path: \"Dehumidifier4/dewPoint\", payload: {}};\nvar humidity = {path: \"Dehumidifier4/humidity\", payload: {}};\nvar tempCold =  {path: \"Dehumidifier4/tempCold\", payload: {}};\nvar tempHot = {path: \"Dehumidifier4/tempHot\", payload: {}};\nvar temperature = {path: \"Dehumidifier4/temperature\", payload: {}};\n\nabsHumidity.payload[msg.datetime] = msg.payload.absHumidity;\ndewPoint.payload[msg.datetime] = msg.payload.dewPoint;\nhumidity.payload[msg.datetime] = msg.payload.humidity;\ntempCold.payload[msg.datetime] = msg.payload.tempCold;\ntempHot.payload[msg.datetime] = msg.payload.tempHot;\ntemperature.payload[msg.datetime] = msg.payload.temperature;\n\nreturn [\n    absHumidity,\n    dewPoint,\n    humidity,\n    tempCold,\n    tempHot,\n    temperature];\n",
        "outputs": 6,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 670,
        "y": 520,
        "wires": [
            [
                "cd88ce397ea53a8b"
            ],
            [
                "cd88ce397ea53a8b"
            ],
            [
                "cd88ce397ea53a8b"
            ],
            [
                "cd88ce397ea53a8b"
            ],
            [
                "cd88ce397ea53a8b"
            ],
            [
                "cd88ce397ea53a8b"
            ]
        ],
        "outputLabels": [
            "FireBase",
            "",
            "",
            "",
            "",
            ""
        ]
    },
    {
        "id": "cd88ce397ea53a8b",
        "type": "firebase-out",
        "z": "8d2da763.b1b5d8",
        "name": "",
        "database": "1450e0140a3f1b0d",
        "path": "path",
        "pathType": "msg",
        "priority": "1",
        "queryType": "update",
        "x": 860,
        "y": 520,
        "wires": []
    },
    {
        "id": "78ac5c133be6973b",
        "type": "function",
        "z": "8d2da763.b1b5d8",
        "d": true,
        "name": "AddDateTime",
        "func": "msg.datetime = new Date().getTime();\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 920,
        "y": 1200,
        "wires": [
            []
        ]
    },
    {
        "id": "792c64a4d471c1f4",
        "type": "function",
        "z": "8d2da763.b1b5d8",
        "d": true,
        "name": "function 8",
        "func": "var keys = Object.keys(msg.payload);\nvar chartData = [{series:[], data:[], labels:[]}];\n\nfor(var val in msg.payload) {\n    var valInt = parseInt(val);\n    for(var serieName in msg.payload[val]){\n        var indexChart = chartData[0].series.indexOf(serieName);\n        if ( indexChart < 0){\n            indexChart = chartData[0].series.push(serieName) - 1;\n            chartData[0].labels.push(serieName)\n            chartData[0].data.push([]);\n        }\n        // node.warn({x:val,y:msg.payload[val][serieName]});\n        chartData[0].data[indexChart].push({x:valInt,y:msg.payload[val][serieName]});\n    }\n}\n// for (var i = 0; i < keys.length; i++){\n//     var k = keys[i];\n//     node.warn(k);\n    // var sys = records[k].systolicpressure;\n    // var dia = records[k].diastolicpressure;\n    // var time = records[k].time;\n    // chartData.push(sys);\n    // console.log(sys, dia, time);\n// }\nreturn {payload : chartData};",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 400,
        "y": 1280,
        "wires": [
            []
        ]
    },
    {
        "id": "11522d2fc3ceaf38",
        "type": "function",
        "z": "8d2da763.b1b5d8",
        "name": "function 13",
        "func": "return {\n    payload: [\n        {series: \"temperature\",\n        x: msg.datetime,\n        y: msg.payload.temperature},\n        {series: \"dewPoint\",\n        x: msg.datetime,\n        y: msg.payload.dewPoint},\n        {series: \"tempCold\",\n        x: msg.datetime,\n        y: msg.payload.tempCold},\n        {series: \"tempHot\",\n        x: msg.datetime,\n        y: msg.payload.tempHot},\n        {series: \"humidity\",\n        x: msg.datetime,\n        y: msg.payload.humidity}],\n    action:\"append\"};",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 670,
        "y": 640,
        "wires": [
            [
                "670773447ecd3610"
            ]
        ],
        "outputLabels": [
            "FireBase",
            "ChartTemperatures"
        ]
    },
    {
        "id": "25c47369089c608e",
        "type": "ui-text",
        "z": "8d2da763.b1b5d8",
        "group": "20020005c6448949",
        "order": 2,
        "width": "2",
        "height": "1",
        "name": "Temperature",
        "label": "Temperature",
        "format": "{{msg.payload}}",
        "layout": "row-right",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#717171",
        "wrapText": false,
        "className": "",
        "x": 730,
        "y": 240,
        "wires": []
    },
    {
        "id": "d5cc9931e14eb558",
        "type": "change",
        "z": "8d2da763.b1b5d8",
        "name": "temperature",
        "rules": [
            {
                "t": "move",
                "p": "payload.temperature",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 240,
        "wires": [
            [
                "25c47369089c608e"
            ]
        ]
    },
    {
        "id": "888148b16cde8b17",
        "type": "change",
        "z": "8d2da763.b1b5d8",
        "name": "msg.datetime",
        "rules": [
            {
                "t": "set",
                "p": "datetime",
                "pt": "msg",
                "to": "",
                "tot": "date"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 580,
        "wires": [
            [
                "5f6e5f6b70b6e1c9",
                "11522d2fc3ceaf38"
            ]
        ]
    },
    {
        "id": "cb097f5fb318f6d5",
        "type": "ui-text",
        "z": "8d2da763.b1b5d8",
        "group": "20020005c6448949",
        "order": 1,
        "width": "2",
        "height": "1",
        "name": "Humidity",
        "label": "Humidity",
        "format": "{{msg.payload}}",
        "layout": "row-right",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#717171",
        "wrapText": false,
        "className": "",
        "x": 720,
        "y": 280,
        "wires": []
    },
    {
        "id": "76a76d8dc80ba075",
        "type": "change",
        "z": "8d2da763.b1b5d8",
        "name": "humidity",
        "rules": [
            {
                "t": "move",
                "p": "payload.humidity",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 280,
        "wires": [
            [
                "cb097f5fb318f6d5"
            ]
        ]
    },
    {
        "id": "5f9ae87354601ecc",
        "type": "ui-text",
        "z": "8d2da763.b1b5d8",
        "group": "20020005c6448949",
        "order": 5,
        "width": "2",
        "height": "1",
        "name": "DewPoint",
        "label": "DewPoint",
        "format": "{{msg.payload}}",
        "layout": "row-right",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#717171",
        "wrapText": false,
        "className": "",
        "x": 720,
        "y": 320,
        "wires": []
    },
    {
        "id": "76f34e760b92756b",
        "type": "change",
        "z": "8d2da763.b1b5d8",
        "name": "dewPoint",
        "rules": [
            {
                "t": "move",
                "p": "payload.dewPoint",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 320,
        "wires": [
            [
                "5f9ae87354601ecc"
            ]
        ]
    },
    {
        "id": "1e33234c0530e7a8",
        "type": "ui-text",
        "z": "8d2da763.b1b5d8",
        "group": "20020005c6448949",
        "order": 4,
        "width": "2",
        "height": "1",
        "name": "TempCold",
        "label": "TempCold",
        "format": "{{msg.payload}}",
        "layout": "row-right",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#717171",
        "wrapText": false,
        "className": "",
        "x": 720,
        "y": 360,
        "wires": []
    },
    {
        "id": "28ca0676276cd633",
        "type": "change",
        "z": "8d2da763.b1b5d8",
        "name": "tempCold",
        "rules": [
            {
                "t": "move",
                "p": "payload.tempCold",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 360,
        "wires": [
            [
                "1e33234c0530e7a8"
            ]
        ]
    },
    {
        "id": "afd242a780a5ba14",
        "type": "ui-text",
        "z": "8d2da763.b1b5d8",
        "group": "20020005c6448949",
        "order": 3,
        "width": "2",
        "height": "1",
        "name": "TempHot",
        "label": "TempHot",
        "format": "{{msg.payload}}",
        "layout": "row-right",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#717171",
        "wrapText": false,
        "className": "",
        "x": 720,
        "y": 400,
        "wires": []
    },
    {
        "id": "326f6dfc346f81b5",
        "type": "change",
        "z": "8d2da763.b1b5d8",
        "name": "tempHot",
        "rules": [
            {
                "t": "move",
                "p": "payload.tempHot",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 400,
        "wires": [
            [
                "afd242a780a5ba14"
            ]
        ]
    },
    {
        "id": "c252da100b8967ab",
        "type": "change",
        "z": "8d2da763.b1b5d8",
        "name": "coldFanSpeed",
        "rules": [
            {
                "t": "move",
                "p": "payload.coldFanSpeed",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "670773447ecd3610",
        "type": "ui-template",
        "z": "8d2da763.b1b5d8",
        "group": "20020005c6448949",
        "page": "",
        "ui": "",
        "name": "Custom Chart3",
        "order": 7,
        "width": 0,
        "height": 0,
        "head": "",
        "format": "<template>\n    <canvas id=\"humidityChart\"></canvas>\n</template>\n\n<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\n<script>\n    export default {\n        mounted() {\n            this.$socket.on('msg-input:' + this.id, this.onInput);\n            this.chart = this.createChart();\n        },\n        methods: {\n            onInput(msg) {\n                // Si un champ duration est présent, mettre à jour la durée\n                if (msg.duration) {\n                    this.duration = msg.duration;  // Met à jour la durée\n                    this.updateChart();  // Met à jour le graphique avec la nouvelle durée\n                }\n\n                // Si un payload est présent, mettre à jour le graphique\n                if (msg.payload) {\n                    this.updateChart(msg.payload);  // Met à jour le graphique avec les nouvelles données\n                }\n            },\n            createChart() {\n                const ctx = document.getElementById('humidityChart').getContext('2d');\n                return new Chart(ctx, {\n                    type: 'line',\n                    data: {\n                        labels: [],\n                        datasets: []\n                    },\n                    options: {\n                        responsive: true,\n                        scales: {\n                            x: {\n                                type: 'time',\n                                time: {\n                                    unit: 'minute',\n                                    tooltipFormat: 'll HH:mm'\n                                },\n                                title: {\n                                    display: true,\n                                    text: 'Time'\n                                }\n                            },\n                            y: {\n                                beginAtZero: true,\n                                title: {\n                                    display: true,\n                                    text: 'Value'\n                                }\n                            }\n                        }\n                    }\n                });\n            },\n            updateChart(data) {\n                if (data) {\n                    data.forEach(item => {\n                        const series = item.series;\n                        const date = new Date(item.x);\n                        const existingDataset = this.chart.data.datasets.find(dataset => dataset.label === series);\n\n                        if (existingDataset) {\n                            existingDataset.data.push({ x: date, y: item.y });\n                        } else {\n                            this.chart.data.datasets.push({\n                                label: series,\n                                data: [{ x: date, y: item.y }],\n                                //borderColor: this.getRandomColor(),\n                                fill: false\n                            });\n                        }\n                    });\n                }\n\n                // Si une durée est définie, ajuster la plage de l'axe X\n                if (this.duration) {\n                    const now = new Date();\n                    const durationLimit = new Date(now - this.duration * 1000);\n\n                    // Supprimer les données plus anciennes que la durée\n                    this.chart.data.datasets.forEach(dataset => {\n                        dataset.data = dataset.data.filter(item => item.x >= durationLimit);\n                    });\n\n                    // Réactualiser l'axe des X\n                    this.chart.update();\n                }\n            },\n            getRandomColor() {\n                const letters = '0123456789ABCDEF';\n                let color = '#';\n                for (let i = 0; i < 6; i++) {\n                    color += letters[Math.floor(Math.random() * 16)];\n                }\n                return color;\n            }\n        }\n    };\n</script>",
        "storeOutMessages": true,
        "passthru": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 920,
        "y": 700,
        "wires": [
            []
        ]
    },
    {
        "id": "053730108e504723",
        "type": "ui-template",
        "z": "8d2da763.b1b5d8",
        "d": true,
        "group": "20020005c6448949",
        "page": "",
        "ui": "",
        "name": "Display Msg.Payload",
        "order": 10,
        "width": 0,
        "height": 0,
        "head": "",
        "format": "<p>Hello {{ msg.payload }}</p>",
        "storeOutMessages": true,
        "passthru": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 700,
        "y": 1280,
        "wires": [
            []
        ]
    },
    {
        "id": "5f62758c7811a7ee",
        "type": "template",
        "z": "8d2da763.b1b5d8",
        "name": "",
        "field": "template",
        "fieldType": "msg",
        "format": "html",
        "syntax": "mustache",
        "template": "\n<canvas id=\"myChart\" width=\"300\" height=\"200\"></canvas>\n<script src=\"/st/chart.js\"></script>\n<script src=\"/st/luxon.js\"></script>\n<script src=\"/st/luxonA.js\"></script>\n<script src=\"/st/chartjsS.js\"></script>\n<script>\n    {{{script}}}\n</script>",
        "output": "str",
        "x": 540,
        "y": 1420,
        "wires": [
            [
                "aa8460090a1a8e70"
            ]
        ]
    },
    {
        "id": "420fda75074a953d",
        "type": "template",
        "z": "8d2da763.b1b5d8",
        "name": "script",
        "field": "script",
        "fieldType": "msg",
        "format": "javascript",
        "syntax": "mustache",
        "template": "(function () {\nconst ctx = document.getElementById('myChart').getContext('2d');\n\nvar payload;\n\n    function rewriteData(msg, scope) {\n        payload = msg.payload;\n    }\n\nconst data = {\n    datasets: [\n        {\n\n            topic: \"Topic0\", // used here not by chart.js\n            label: \"AAA\",\n            yAxisID: \"yAxis1\",\n            fill: false,\n            lineTension: 0,\n            borderColor: \"red\",\n            pointRadius: 1,\n            pointBorderColor: \"red\",\n            pointBackgroundColor: \"red\",\n            backgroundColor: \"red\",\n            borderWidth: 1,\n            data: [] // data is written here later\n        },\n        {\n            topic: \"Topic1\", // used here not by chart.js\n            label: \"BBB\",\n            yAxisID: \"yAxis2\",\n            fill: false,\n            lineTension: 0,\n            borderColor: \"blue\",\n            pointRadius: 1,\n            pointBorderColor: \"blue\",\n            pointBackgroundColor: \"blue\",\n            backgroundColor: \"blue\",\n            borderWidth: 1,\n            data: [] // data is written here later\n        },\n        {\n            topic: \"Topic3\", // used here not by chart.js\n            label: \"CCC\",\n            yAxisID: \"yAxis2\",\n            fill: false,\n            lineTension: 0,\n            borderColor: \"lightblue\",\n            pointRadius: 1,\n            pointBorderColor: \"lightblue\",\n            pointBackgroundColor: \"lightblue\",\n            backgroundColor: \"lightblue\",\n            borderWidth: 1,\n            data: [] // data is written here later\n        },\n    \n        \n    ]\n};\n\n\n\n    const onRefresh = chart => {\n        \n        const now = new Date();\n        for (let index = 0; index < chart.data.datasets.length; index++) {\n            \n\n            chart.data.datasets[index].data.push(\n                {\n                    x:now,\n                    y: payload[index]\n                }\n                )\n            \n        }\n    };\n\nconst chart = new Chart(ctx, {\n    type: 'line',\n    data: data,\n    options: {\n        scales: {\n            x: {\n                type: 'realtime',\n                realtime: {\n                    duration: 10000, //display time in ms \n                    ttl: 10000, //time after displayed data is deleted\n                    refresh: 250, //data refresh rate in ms\n                    delay: 1000, //delay in ms to make display fancy and start print before display\n                    onRefresh: onRefresh,\n                    frameRate: 30, //display refresh rate in FPS (frame per second), more == smoother display\n                    pause: false\n                }\n            },\n            yAxis1: {\n                type: 'linear',\n                display: true,\n                position: 'left',\n                ticks:\n                {\n                    count: 10,\n                },\n                title: {\n                    display: true,\n                    text: 'A[bar]'\n                },\n                \n                min: 0,\n                max: 60\n                \n            },\n            yAxis2: {\n                type: 'linear',\n                display: true,\n                position: 'left',\n                ticks:\n                {\n                    count: 10,\n                },\n                title: {\n                    display: true,\n                    text: 'B[L/min]'\n                },\n                min: 0,\n                max: 180\n            }\n        },\n        interaction: {\n            intersect: false\n        }\n    }\n\n});\n\n\n    function preloadMsg() {\n        var preMsg = { action: \"preload\", payload: \"preload\" };\n        return preMsg;\n    }\n\n    (function (scope) {\n        // this code gets run when the a view is opened on the node in the browser\n        // send a preload message back to node red to ask it send\n        // us a complete set of data. Pass down max points and time span to the helper node for it to use\n        // plus an array of the topics of interest\n        scope.send(preloadMsg());\n\n        scope.$watch('msg', function (msg) {\n            if (msg) {\n                rewriteData(msg, scope);\n            }\n        });\n    })(scope);\n\n})();",
        "output": "str",
        "x": 390,
        "y": 1420,
        "wires": [
            [
                "5f62758c7811a7ee"
            ]
        ]
    },
    {
        "id": "a9b07f1bd326c046",
        "type": "inject",
        "z": "8d2da763.b1b5d8",
        "d": true,
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "0.1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[$random()*50,$random()*150,$random()*150]\t",
        "payloadType": "jsonata",
        "x": 250,
        "y": 1420,
        "wires": [
            [
                "420fda75074a953d"
            ]
        ]
    },
    {
        "id": "aa8460090a1a8e70",
        "type": "ui-template",
        "z": "8d2da763.b1b5d8",
        "d": true,
        "group": "20020005c6448949",
        "page": "",
        "ui": "",
        "name": "chartMain",
        "order": 11,
        "width": 0,
        "height": 0,
        "head": "",
        "format": "<template>\n    <canvas ref=\"chartMain\" />\n</template>\n",
        "storeOutMessages": true,
        "passthru": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 720,
        "y": 1420,
        "wires": [
            []
        ]
    },
    {
        "id": "980d2a49e6667017",
        "type": "ui-template",
        "z": "8d2da763.b1b5d8",
        "d": true,
        "group": "20020005c6448949",
        "page": "",
        "ui": "",
        "name": "Chart4",
        "order": 12,
        "width": 0,
        "height": 0,
        "head": "",
        "format": "<template>\n    <canvas ref=\"chart4\" />\n</template>\n\n<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\n\n<script>\n    export default {\n        mounted() {\n            this.$socket.on('msg-input:' + this.id, this.onInput)\n\n            // code here when the component is first loaded\n            let interval = setInterval(() => {\n                if (window.Chart) {\n                    // Babylon.js is loaded, so we can now use it\n                    clearInterval(interval);\n                    this.draw()\n                }\n            }, 100);\n        },\n        methods: {\n            draw () {\n                const ctx = this.$refs.chart4\n                const datasets = []\n                \n                // Render the chart\n                const chart = new Chart(ctx, {\n                    type: 'line',\n                    data: {\n                        datasets: [{\n                            label: \"My Label 2\",\n                            data: []\n                        }]\n                    },\n                    options: {\n                        animation: true,\n                        responsive: true,\n                        scales: {\n                            x: {\n                                type: 'time'\n                            }\n                        },\n                        parsing: {\n                            xAxisKey: 'time',\n                            yAxisKey: 'value'\n                        },\n                        plugins: {\n                            legend: {\n                                position: 'top',\n                            },\n                            title: {\n                                display: true,\n                                text: 'Chart4'\n                            }\n                        }   \n                    },\n                });\n                // make this available to all elements of the component\n                this.chart = chart\n            },\n            onInput (msg) {\n                this.chart.data.datasets[0].data.push({\n                    time: (new Date()).getTime(),\n                    value: msg.payload\n                }) \n                this.chart.update()      \n            }\n        }\n    }\n</script>",
        "storeOutMessages": true,
        "passthru": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 650,
        "y": 1240,
        "wires": [
            []
        ]
    },
    {
        "id": "93300b30741c3294",
        "type": "function",
        "z": "8d2da763.b1b5d8",
        "name": "function 18",
        "func": "return { [msg.topic] : msg.payload*3600};",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 510,
        "y": 840,
        "wires": [
            [
                "670773447ecd3610"
            ]
        ]
    },
    {
        "id": "6661fbdd9ceda6f4",
        "type": "inject",
        "z": "b7adaecd52f8a9e1",
        "d": true,
        "name": "Données simulées",
        "props": [],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": "1",
        "topic": "",
        "x": 240,
        "y": 380,
        "wires": [
            [
                "539a7163a2ca3ab9"
            ]
        ]
    },
    {
        "id": "79139cd546ee9b20",
        "type": "debug",
        "z": "b7adaecd52f8a9e1",
        "name": "debug 104",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 690,
        "y": 300,
        "wires": []
    },
    {
        "id": "c6716e0e86fba141",
        "type": "ui-template",
        "z": "b7adaecd52f8a9e1",
        "group": "4dbe2210c524cb87",
        "page": "",
        "ui": "",
        "name": "Custome msg.payload",
        "order": 1,
        "width": "5",
        "height": "5",
        "head": "",
        "format": "<template>\n    <h3>Message Reçu :</h3>\n    <div id=\"message-log\">Aucun message reçu</div>\n</template>\n\n<script>\n    export default {\n        mounted() {\n            this.$socket.on('msg-input:' + this.id, this.onInput)\n        },\n        methods: {\n            onInput (msg) {\n                if (msg && msg.payload !== undefined) {\n                    console.log(\"Message reçu :\", msg.payload);  // Loguer le message dans la console\n                    document.getElementById('message-log').innerText = msg.payload;  // Afficher le message dans le template\n                } else {\n                    console.log(\"Aucun message ou payload trouvé.\");\n                }\n            }\n        }\n    }\n</script>",
        "storeOutMessages": true,
        "passthru": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 680,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "539a7163a2ca3ab9",
        "type": "function",
        "z": "b7adaecd52f8a9e1",
        "name": "function 17",
        "func": "msg.payload = Math.random() * 100;  // Un objet avec un champ 'value'\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 380,
        "wires": [
            [
                "c6716e0e86fba141",
                "79139cd546ee9b20"
            ]
        ]
    },
    {
        "id": "e3a35941efa4b81d",
        "type": "ui_text_input",
        "z": "03db7e0460f2bfdd",
        "name": "",
        "label": "Delais absence (min.)",
        "tooltip": "",
        "group": "fd607afbc6bd3f83",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "mode": "number",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 370,
        "y": 90,
        "wires": [
            [
                "dc33a138bf23a94d"
            ]
        ]
    },
    {
        "id": "dc33a138bf23a94d",
        "type": "change",
        "z": "03db7e0460f2bfdd",
        "name": "Set PresenceDelay",
        "rules": [
            {
                "t": "set",
                "p": "#:(file)::presenceDelay",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 90,
        "wires": [
            []
        ]
    },
    {
        "id": "2bc9b45a348a2178",
        "type": "inject",
        "z": "03db7e0460f2bfdd",
        "name": "Init presenceDelay",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "#:(file)::presenceDelay",
        "payloadType": "global",
        "x": 140,
        "y": 90,
        "wires": [
            [
                "e3a35941efa4b81d"
            ]
        ]
    },
    {
        "id": "f53df5ac317ac8f6",
        "type": "ui_text_input",
        "z": "03db7e0460f2bfdd",
        "name": "",
        "label": "Seuil bas luminosité (lux.)",
        "tooltip": "",
        "group": "fd607afbc6bd3f83",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "mode": "number",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 380,
        "y": 180,
        "wires": [
            [
                "2c824744543b0bc3"
            ]
        ]
    },
    {
        "id": "7ff656d58703ba7b",
        "type": "inject",
        "z": "03db7e0460f2bfdd",
        "name": "init brightnessLow",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "#:(file)::brightnessLow",
        "payloadType": "global",
        "x": 140,
        "y": 180,
        "wires": [
            [
                "f53df5ac317ac8f6"
            ]
        ]
    },
    {
        "id": "2c824744543b0bc3",
        "type": "change",
        "z": "03db7e0460f2bfdd",
        "name": "Set BrightnessLow",
        "rules": [
            {
                "t": "set",
                "p": "#:(file)::brightnessLow",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "ea31a3bd183fc692",
        "type": "ui_text_input",
        "z": "03db7e0460f2bfdd",
        "name": "",
        "label": "Seuil haut luminosité (lux.)",
        "tooltip": "",
        "group": "fd607afbc6bd3f83",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "mode": "number",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 390,
        "y": 220,
        "wires": [
            [
                "7c02947777f28aaf"
            ]
        ]
    },
    {
        "id": "311edb1eb547877c",
        "type": "inject",
        "z": "03db7e0460f2bfdd",
        "name": "init brightnessHigh",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "#:(file)::brightnessHigh",
        "payloadType": "global",
        "x": 140,
        "y": 220,
        "wires": [
            [
                "ea31a3bd183fc692"
            ]
        ]
    },
    {
        "id": "7c02947777f28aaf",
        "type": "change",
        "z": "03db7e0460f2bfdd",
        "name": "Set BrightnessHigh",
        "rules": [
            {
                "t": "set",
                "p": "#:(file)::brightnessHigh",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "0392a12cbbbcc875",
        "type": "ui-text-input",
        "z": "03db7e0460f2bfdd",
        "group": "01f229163d63a638",
        "name": "Commit Comment",
        "label": "Commit Comment",
        "order": 1,
        "width": "5",
        "height": "1",
        "topic": "topic",
        "topicType": "msg",
        "mode": "text",
        "tooltip": "",
        "delay": 300,
        "passthru": true,
        "sendOnDelay": false,
        "sendOnBlur": false,
        "sendOnEnter": false,
        "className": "",
        "clearable": false,
        "sendOnClear": true,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "x": 490,
        "y": 360,
        "wires": [
            [
                "74b7dcac4b1fa98c",
                "980ea35a9e1a9681"
            ]
        ]
    },
    {
        "id": "eeac3fafca8fd206",
        "type": "ui-button",
        "z": "03db7e0460f2bfdd",
        "group": "01f229163d63a638",
        "name": "SaveBtn",
        "label": "Save",
        "order": 2,
        "width": "1",
        "height": "1",
        "emulateClick": false,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "left",
        "payload": "true",
        "payloadType": "bool",
        "topic": "Save",
        "topicType": "str",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 80,
        "y": 360,
        "wires": [
            [
                "7b028621a51abefb"
            ]
        ]
    },
    {
        "id": "b04d8cecb1586dab",
        "type": "debug",
        "z": "03db7e0460f2bfdd",
        "name": "debug 105",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 890,
        "y": 380,
        "wires": []
    },
    {
        "id": "74b7dcac4b1fa98c",
        "type": "function",
        "z": "03db7e0460f2bfdd",
        "name": "function 19",
        "func": "\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 690,
        "y": 320,
        "wires": [
            [
                "b04d8cecb1586dab"
            ]
        ]
    },
    {
        "id": "980ea35a9e1a9681",
        "type": "debug",
        "z": "03db7e0460f2bfdd",
        "name": "debug 107",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 670,
        "y": 420,
        "wires": []
    },
    {
        "id": "7b028621a51abefb",
        "type": "change",
        "z": "03db7e0460f2bfdd",
        "name": "",
        "rules": [
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 250,
        "y": 420,
        "wires": [
            [
                "0392a12cbbbcc875"
            ]
        ]
    },
    {
        "id": "ca84138f077d1177",
        "type": "ui-form",
        "z": "03db7e0460f2bfdd",
        "name": "",
        "group": "01f229163d63a638",
        "label": "",
        "order": 0,
        "width": 0,
        "height": 0,
        "options": [
            {
                "label": "Commit Comment",
                "key": "Comment",
                "type": "text",
                "required": true,
                "rows": null
            }
        ],
        "formValue": {
            "Comment": ""
        },
        "payload": "",
        "submit": "submit",
        "cancel": "clear",
        "resetOnSubmit": true,
        "topic": "topic",
        "topicType": "msg",
        "splitLayout": "",
        "className": "",
        "passthru": false,
        "dropdownOptions": [],
        "x": 330,
        "y": 560,
        "wires": [
            [
                "51d916dfb7ca14b4"
            ]
        ]
    },
    {
        "id": "51d916dfb7ca14b4",
        "type": "debug",
        "z": "03db7e0460f2bfdd",
        "name": "debug 108",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 510,
        "y": 560,
        "wires": []
    },
    {
        "id": "75fc6da8451eb5e8",
        "type": "exec",
        "z": "03db7e0460f2bfdd",
        "command": "git --version",
        "addpay": "",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "",
        "x": 290,
        "y": 620,
        "wires": [
            [
                "2a9418ea6f286fc9"
            ],
            [
                "41f93be460c2e01c"
            ],
            [
                "cad0468ffef26120"
            ]
        ]
    },
    {
        "id": "68ce91d960c9abbf",
        "type": "inject",
        "z": "03db7e0460f2bfdd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "pwd",
        "payloadType": "str",
        "x": 110,
        "y": 660,
        "wires": [
            [
                "75fc6da8451eb5e8",
                "365953a142247d94"
            ]
        ]
    },
    {
        "id": "2a9418ea6f286fc9",
        "type": "debug",
        "z": "03db7e0460f2bfdd",
        "name": "debug 109",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 630,
        "y": 620,
        "wires": []
    },
    {
        "id": "41f93be460c2e01c",
        "type": "debug",
        "z": "03db7e0460f2bfdd",
        "name": "debug 110",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 630,
        "y": 660,
        "wires": []
    },
    {
        "id": "cad0468ffef26120",
        "type": "debug",
        "z": "03db7e0460f2bfdd",
        "name": "debug 111",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 630,
        "y": 700,
        "wires": []
    },
    {
        "id": "365953a142247d94",
        "type": "debug",
        "z": "03db7e0460f2bfdd",
        "name": "debug 112",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 370,
        "y": 760,
        "wires": []
    },
    {
        "id": "c386718b.aa07f",
        "type": "function",
        "z": "8426a808.9f7b08",
        "name": "",
        "func": "var cmdLog;\nvar cmdLight;\nif (msg.payload === false){\n    cmdLog = {\n        payload:{\n            DT : new Date().toLocaleString(),\n            msg : \"Internet Down\"}};\n    cmdLight = {\n        payload: 0};\n    return [cmdLog, cmdLight];\n}\nelse\n    return;",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 300,
        "y": 120,
        "wires": [
            [
                "8c3667d.940f198",
                "2712d804.aa9d78"
            ],
            [
                "cb4e6e2c.7a6e"
            ]
        ]
    },
    {
        "id": "8c3667d.940f198",
        "type": "file",
        "z": "8426a808.9f7b08",
        "name": "",
        "filename": "/data/mylog.txt",
        "filenameType": "str",
        "appendNewline": true,
        "createDir": true,
        "overwriteFile": "false",
        "encoding": "none",
        "x": 500,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "26a10a76.b44b66",
        "type": "inject",
        "z": "8426a808.9f7b08",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 130,
        "y": 140,
        "wires": [
            [
                "c386718b.aa07f"
            ]
        ]
    },
    {
        "id": "2712d804.aa9d78",
        "type": "debug",
        "z": "8426a808.9f7b08",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 490,
        "y": 60,
        "wires": []
    },
    {
        "id": "cb4e6e2c.7a6e",
        "type": "deconz-output",
        "z": "8426a808.9f7b08",
        "d": true,
        "name": "",
        "config_version": 2,
        "server": "98dc4fb5.8af9c",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "lights/uniqueid/00:17:88:01:01:14:d5:57-0b"
        ],
        "device_name": "Globe : Extended color light",
        "query": "",
        "commands": [
            {
                "arg": {
                    "on": {
                        "type": "set",
                        "value": "true"
                    },
                    "alert": {
                        "type": "str",
                        "value": ""
                    },
                    "effect": {
                        "type": "str",
                        "value": ""
                    },
                    "colorloopspeed": {
                        "type": "num",
                        "value": ""
                    },
                    "transitiontime": {
                        "type": "num",
                        "value": ""
                    },
                    "retryonerror": {
                        "type": "num",
                        "value": "0"
                    },
                    "aftererror": {
                        "type": "continue",
                        "value": ""
                    },
                    "bri": {
                        "direction": "set",
                        "type": "num",
                        "value": ""
                    },
                    "sat": {
                        "direction": "set",
                        "type": "num",
                        "value": ""
                    },
                    "hue": {
                        "direction": "set",
                        "type": "msg",
                        "value": "payload"
                    },
                    "ct": {
                        "direction": "set",
                        "type": "num",
                        "value": ""
                    },
                    "xy": {
                        "direction": "set",
                        "type": "json",
                        "value": "[]"
                    }
                },
                "type": "deconz_state",
                "domain": "lights"
            }
        ],
        "specific": {
            "delay": {
                "type": "num",
                "value": "50"
            },
            "result": {
                "type": "at_end",
                "value": ""
            }
        },
        "x": 540,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "f50b65c0.53d2b8",
        "type": "ping",
        "z": "8426a808.9f7b08",
        "mode": "timed",
        "name": "Ping DNS Google",
        "host": "8.8.8.8",
        "timer": "60",
        "inputs": 0,
        "x": 100,
        "y": 100,
        "wires": [
            [
                "c386718b.aa07f",
                "2712d804.aa9d78"
            ]
        ]
    },
    {
        "id": "7f3bc15b.d90f7",
        "type": "deconz-output",
        "z": "579e5857.908308",
        "name": "Globe",
        "server": "98dc4fb5.8af9c",
        "device_name": "Globe : Extended color light",
        "device": "00:17:88:01:01:14:d5:57-0b",
        "command": "on",
        "commandType": "deconz_cmd",
        "payload": "payload",
        "payloadType": "msg",
        "transitionTime": "",
        "x": 490,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "1e726d39.6dad73",
        "type": "inject",
        "z": "579e5857.908308",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 90,
        "y": 280,
        "wires": [
            [
                "b23ae2b.26e332",
                "5b6f38da.3f91b8"
            ]
        ]
    },
    {
        "id": "f6728b2e.7fbd48",
        "type": "function",
        "z": "579e5857.908308",
        "name": "",
        "func": "msg.payload='{\"on\": true, \"hex\": #FF0000\"\", \"sat\":0, \"duration\":4000}' ;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 330,
        "y": 100,
        "wires": [
            [
                "7f3bc15b.d90f7"
            ]
        ]
    },
    {
        "id": "27bc11a0.514b4e",
        "type": "deconz-get",
        "z": "579e5857.908308",
        "name": "",
        "server": "98dc4fb5.8af9c",
        "device_name": "Globe : Extended color light",
        "outputs": 1,
        "device": "00:17:88:01:01:14:d5:57-0b",
        "state": "0",
        "x": 420,
        "y": 440,
        "wires": [
            [
                "3986b3d1.56fc5c"
            ]
        ]
    },
    {
        "id": "3986b3d1.56fc5c",
        "type": "debug",
        "z": "579e5857.908308",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 630,
        "y": 440,
        "wires": []
    },
    {
        "id": "b23ae2b.26e332",
        "type": "deconz-output",
        "z": "579e5857.908308",
        "name": "",
        "server": "98dc4fb5.8af9c",
        "device_name": "Globe : Extended color light",
        "device": "00:17:88:01:01:14:d5:57-0b",
        "command": "on",
        "commandType": "deconz_cmd",
        "payload": "payload",
        "payloadType": "msg",
        "transitionTime": "",
        "x": 440,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "a487d92c.a13328",
        "type": "inject",
        "z": "579e5857.908308",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 90,
        "y": 320,
        "wires": [
            [
                "b23ae2b.26e332",
                "5b6f38da.3f91b8"
            ]
        ]
    },
    {
        "id": "93257a79.6f8f88",
        "type": "inject",
        "z": "579e5857.908308",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 420,
        "wires": [
            [
                "27bc11a0.514b4e"
            ]
        ]
    },
    {
        "id": "5b6f38da.3f91b8",
        "type": "delay",
        "z": "579e5857.908308",
        "name": "",
        "pauseType": "delay",
        "timeout": "100",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 230,
        "y": 380,
        "wires": [
            [
                "27bc11a0.514b4e"
            ]
        ]
    },
    {
        "id": "aabc0441.04c6b8",
        "type": "inject",
        "z": "579e5857.908308",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 90,
        "y": 560,
        "wires": [
            [
                "48f0557d.76f7ec",
                "a3d80acd.0c3b48"
            ]
        ]
    },
    {
        "id": "48f0557d.76f7ec",
        "type": "debug",
        "z": "579e5857.908308",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 490,
        "y": 540,
        "wires": []
    },
    {
        "id": "a3d80acd.0c3b48",
        "type": "function",
        "z": "579e5857.908308",
        "name": "",
        "func": "var msg1 = { payload: {}} ;\nvar msg2= { payload: {}} ;\nmsg1.payload={on:true};\nmsg2.payload={delay:5};\nreturn [msg1,msg2];",
        "outputs": 2,
        "noerr": 0,
        "x": 230,
        "y": 580,
        "wires": [
            [
                "883d4c8c.38478",
                "62fb5c40.315f14"
            ],
            [
                "cd27e5b4.4a6c38",
                "62fb5c40.315f14"
            ]
        ]
    },
    {
        "id": "883d4c8c.38478",
        "type": "debug",
        "z": "579e5857.908308",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 490,
        "y": 580,
        "wires": []
    },
    {
        "id": "cd27e5b4.4a6c38",
        "type": "debug",
        "z": "579e5857.908308",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 490,
        "y": 620,
        "wires": []
    },
    {
        "id": "62fb5c40.315f14",
        "type": "join",
        "z": "579e5857.908308",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": true,
        "timeout": "1",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 350,
        "y": 660,
        "wires": [
            [
                "9021407f.94e99"
            ]
        ]
    },
    {
        "id": "9021407f.94e99",
        "type": "debug",
        "z": "579e5857.908308",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 490,
        "y": 660,
        "wires": []
    },
    {
        "id": "2cdbb9e0.750ef6",
        "type": "debug",
        "z": "579e5857.908308",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 890,
        "y": 300,
        "wires": []
    },
    {
        "id": "e51558ad.bb86e8",
        "type": "debug",
        "z": "579e5857.908308",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 890,
        "y": 360,
        "wires": []
    },
    {
        "id": "aa71fec7.d484d",
        "type": "deconz-input",
        "z": "579e5857.908308",
        "name": "CubePivot",
        "topic": "",
        "server": "98dc4fb5.8af9c",
        "device_name": "Cube : ZHASwitch",
        "outputs": 2,
        "device": "00:15:8d:00:02:a7:25:8e-03-000c",
        "state": "0",
        "output": "always",
        "outputAtStartup": true,
        "x": 720,
        "y": 320,
        "wires": [
            [
                "2cdbb9e0.750ef6"
            ],
            []
        ]
    },
    {
        "id": "bcd877e7.bd13a8",
        "type": "deconz-input",
        "z": "579e5857.908308",
        "name": "CubeGeste",
        "topic": "",
        "server": "98dc4fb5.8af9c",
        "device_name": "Cube : ZHASwitch",
        "outputs": 2,
        "device": "00:15:8d:00:02:a7:25:8e-02-0012",
        "state": "0",
        "output": "always",
        "outputAtStartup": true,
        "x": 710,
        "y": 380,
        "wires": [
            [
                "e51558ad.bb86e8"
            ],
            []
        ]
    },
    {
        "id": "18708fb5.b63b4",
        "type": "inject",
        "z": "579e5857.908308",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 650,
        "y": 60,
        "wires": [
            [
                "6e4b15b0.cc012c"
            ]
        ]
    },
    {
        "id": "6e4b15b0.cc012c",
        "type": "deconz-output",
        "z": "579e5857.908308",
        "name": "Globe Switch",
        "server": "98dc4fb5.8af9c",
        "device_name": "Globe : Extended color light",
        "device": "00:17:88:01:01:14:d5:57-0b",
        "command": "on",
        "commandType": "deconz_cmd",
        "payload": "payload",
        "payloadType": "msg",
        "transitionTime": "",
        "x": 810,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "1f64b0d3.9ebeef",
        "type": "inject",
        "z": "579e5857.908308",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 650,
        "y": 100,
        "wires": [
            [
                "6e4b15b0.cc012c"
            ]
        ]
    },
    {
        "id": "76594e22.d2475",
        "type": "inject",
        "z": "579e5857.908308",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 700,
        "wires": [
            [
                "178381ac.0ae67e",
                "119c9517.bec81b"
            ]
        ]
    },
    {
        "id": "178381ac.0ae67e",
        "type": "udp out",
        "z": "579e5857.908308",
        "name": "",
        "addr": "localhost",
        "iface": "",
        "port": "8888",
        "ipv": "udp4",
        "outport": "",
        "base64": false,
        "multicast": "false",
        "x": 310,
        "y": 700,
        "wires": []
    },
    {
        "id": "119c9517.bec81b",
        "type": "debug",
        "z": "579e5857.908308",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 290,
        "y": 740,
        "wires": []
    },
    {
        "id": "fb680ff6.b615b",
        "type": "inject",
        "z": "579e5857.908308",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 180,
        "wires": [
            [
                "79bf642.add319c"
            ]
        ]
    },
    {
        "id": "ea60de1b.f3faa",
        "type": "csv",
        "z": "579e5857.908308",
        "name": "",
        "sep": ",",
        "hdrin": "",
        "hdrout": "all",
        "multi": "one",
        "ret": "\\r\\n",
        "temp": "",
        "skip": "0",
        "strings": true,
        "x": 240,
        "y": 170,
        "wires": [
            [
                "dde5492d.ab1b78"
            ]
        ]
    },
    {
        "id": "79bf642.add319c",
        "type": "file",
        "z": "579e5857.908308",
        "name": "",
        "filename": "\\\\192.168.1.112\\Share\\test.csv",
        "filenameType": "str",
        "appendNewline": true,
        "createDir": false,
        "overwriteFile": "false",
        "encoding": "none",
        "x": 320,
        "y": 220,
        "wires": [
            [
                "43b2f40.7a65b0c"
            ]
        ]
    },
    {
        "id": "dde5492d.ab1b78",
        "type": "debug",
        "z": "579e5857.908308",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 640,
        "y": 170,
        "wires": []
    },
    {
        "id": "43b2f40.7a65b0c",
        "type": "debug",
        "z": "579e5857.908308",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 640,
        "y": 220,
        "wires": []
    },
    {
        "id": "389ef484db9e7281",
        "type": "inject",
        "z": "579e5857.908308",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 110,
        "y": 880,
        "wires": [
            [
                "7fadfce2dcb3714e",
                "f326cc7467115251"
            ]
        ]
    },
    {
        "id": "7fadfce2dcb3714e",
        "type": "change",
        "z": "579e5857.908308",
        "d": true,
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "auto",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 290,
        "y": 880,
        "wires": [
            []
        ]
    },
    {
        "id": "f326cc7467115251",
        "type": "function",
        "z": "579e5857.908308",
        "name": "",
        "func": "flow.set(\"auto\",msg.payload);\nnode.status({fill:flow.get(\"auto\")?\"green\":\"red\",shape:\"dot\",text:flow.get(\"auto\")});\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "// Code added here will be run once\n// whenever the node is started.\nnode.status({fill:flow.get(\"auto\")?\"green\":\"red\",shape:\"dot\",text:flow.get(\"auto\")});\n",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 920,
        "wires": [
            []
        ]
    },
    {
        "id": "54b68bce633fdece",
        "type": "inject",
        "z": "579e5857.908308",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 110,
        "y": 920,
        "wires": [
            [
                "f326cc7467115251"
            ]
        ]
    },
    {
        "id": "5384d575f19f960f",
        "type": "debug",
        "z": "cd715a15d16c8c86",
        "name": "debug 46",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 400,
        "y": 860,
        "wires": []
    },
    {
        "id": "675cbc2852964777",
        "type": "debug",
        "z": "cd715a15d16c8c86",
        "name": "debug 47",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 380,
        "y": 1010,
        "wires": []
    },
    {
        "id": "a31bf06267065cbe",
        "type": "deconz-input",
        "z": "cd715a15d16c8c86",
        "name": "Prise1 SumConso",
        "topic": "",
        "config_version": 2,
        "server": "98dc4fb5.8af9c",
        "statustext": "",
        "statustext_type": "default",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/a4:c1:38:e7:8d:90:37:8d-01-0702"
        ],
        "device_name": "",
        "query": "{}",
        "outputs": 1,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "onchange",
                "onstart": true,
                "payload": [
                    "consumption"
                ],
                "uniqueId": "ui-id-4"
            }
        ],
        "x": 200,
        "y": 900,
        "wires": [
            [
                "5384d575f19f960f",
                "5e2038ab9c8ed34c"
            ]
        ]
    },
    {
        "id": "93ce462ce69f6229",
        "type": "deconz-input",
        "z": "cd715a15d16c8c86",
        "name": "Prise 1 Conso",
        "topic": "",
        "config_version": 2,
        "server": "98dc4fb5.8af9c",
        "statustext": "",
        "statustext_type": "default",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/a4:c1:38:e7:8d:90:37:8d-01-0b04"
        ],
        "device_name": "",
        "query": "{}",
        "outputs": 1,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "onchange",
                "onstart": true,
                "payload": [
                    "power"
                ]
            }
        ],
        "x": 180,
        "y": 1050,
        "wires": [
            [
                "675cbc2852964777",
                "cfb7b4ffb50dcb0b"
            ]
        ]
    },
    {
        "id": "5e2038ab9c8ed34c",
        "type": "ui_chart",
        "z": "cd715a15d16c8c86",
        "name": "",
        "group": "53fd5e60a261c8c7",
        "order": 0,
        "width": "26",
        "height": "10",
        "label": "Consommation Cumulée",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "10",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 580,
        "y": 900,
        "wires": [
            [
                "d03530050dd20c33"
            ]
        ]
    },
    {
        "id": "4252aeb47542e11c",
        "type": "inject",
        "z": "cd715a15d16c8c86",
        "name": "OnStarting",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 770,
        "wires": [
            [
                "3940bc2ee07fa07e"
            ]
        ]
    },
    {
        "id": "bd56f8f157abfe02",
        "type": "file in",
        "z": "cd715a15d16c8c86",
        "name": "Prise 1 Sum Conso",
        "filename": "/data/chartdata/Prise1SumConso.json",
        "filenameType": "str",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 200,
        "y": 950,
        "wires": [
            [
                "e1b4ed3bbc15fbd6"
            ]
        ]
    },
    {
        "id": "e1b4ed3bbc15fbd6",
        "type": "json",
        "z": "cd715a15d16c8c86",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 370,
        "y": 950,
        "wires": [
            [
                "5e2038ab9c8ed34c"
            ]
        ]
    },
    {
        "id": "d03530050dd20c33",
        "type": "file",
        "z": "cd715a15d16c8c86",
        "name": "Prise 1 Sum Conso",
        "filename": "/data/chartdata/Prise1SumConso.json",
        "filenameType": "str",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 810,
        "y": 950,
        "wires": [
            []
        ]
    },
    {
        "id": "caa5ecc59facc39e",
        "type": "file in",
        "z": "cd715a15d16c8c86",
        "name": "Prise 1 Conso",
        "filename": "/data/chartdata/Prise1Conso.json",
        "filenameType": "str",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 190,
        "y": 1100,
        "wires": [
            [
                "74f935542fd91a44"
            ]
        ]
    },
    {
        "id": "74f935542fd91a44",
        "type": "json",
        "z": "cd715a15d16c8c86",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 370,
        "y": 1100,
        "wires": [
            [
                "cfb7b4ffb50dcb0b"
            ]
        ]
    },
    {
        "id": "905b5781157c6dc7",
        "type": "file",
        "z": "cd715a15d16c8c86",
        "name": "Prise 1 Conso",
        "filename": "/data/chartdata/Prise1Conso.json",
        "filenameType": "str",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 770,
        "y": 1100,
        "wires": [
            []
        ]
    },
    {
        "id": "cfb7b4ffb50dcb0b",
        "type": "ui_chart",
        "z": "cd715a15d16c8c86",
        "name": "",
        "group": "53fd5e60a261c8c7",
        "order": 0,
        "width": "26",
        "height": "10",
        "label": "Consommation",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "10",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 560,
        "y": 1050,
        "wires": [
            [
                "905b5781157c6dc7"
            ]
        ]
    },
    {
        "id": "3940bc2ee07fa07e",
        "type": "link out",
        "z": "cd715a15d16c8c86",
        "name": "link out 2",
        "mode": "link",
        "links": [
            "efa4d515c8427cca",
            "6beb0a8a63a0bac3",
            "f4b628e7e2b07f84",
            "c0f2f4f298477c7d"
        ],
        "x": 215,
        "y": 770,
        "wires": []
    },
    {
        "id": "efa4d515c8427cca",
        "type": "link in",
        "z": "cd715a15d16c8c86",
        "name": "link in 2",
        "links": [
            "3940bc2ee07fa07e"
        ],
        "x": 65,
        "y": 1100,
        "wires": [
            [
                "caa5ecc59facc39e"
            ]
        ]
    },
    {
        "id": "6beb0a8a63a0bac3",
        "type": "link in",
        "z": "cd715a15d16c8c86",
        "name": "link in 3",
        "links": [
            "3940bc2ee07fa07e"
        ],
        "x": 65,
        "y": 950,
        "wires": [
            [
                "bd56f8f157abfe02"
            ]
        ]
    },
    {
        "id": "7e14f5e8596f18eb",
        "type": "debug",
        "z": "cd715a15d16c8c86",
        "name": "debug 48",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 410,
        "y": 1290,
        "wires": []
    },
    {
        "id": "163a58b9bf8b2e0c",
        "type": "debug",
        "z": "cd715a15d16c8c86",
        "name": "debug 49",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 390,
        "y": 1440,
        "wires": []
    },
    {
        "id": "4285f977259892c4",
        "type": "deconz-input",
        "z": "cd715a15d16c8c86",
        "name": "Prise2 SumConso",
        "topic": "Prise1",
        "config_version": 2,
        "server": "98dc4fb5.8af9c",
        "statustext": "",
        "statustext_type": "default",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/a4:c1:38:d6:d7:c6:db:f6-01-0702"
        ],
        "device_name": "",
        "query": "{}",
        "outputs": 1,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "onchange",
                "onstart": true,
                "payload": [
                    "consumption"
                ],
                "uniqueId": "ui-id-43"
            }
        ],
        "x": 210,
        "y": 1330,
        "wires": [
            [
                "7e14f5e8596f18eb",
                "6f01fdb6a4d341fa"
            ]
        ]
    },
    {
        "id": "ac94755c47dd60ee",
        "type": "deconz-input",
        "z": "cd715a15d16c8c86",
        "name": "Prise 2 Conso",
        "topic": "",
        "config_version": 2,
        "server": "98dc4fb5.8af9c",
        "statustext": "",
        "statustext_type": "default",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/a4:c1:38:d6:d7:c6:db:f6-01-0b04"
        ],
        "device_name": "",
        "query": "{}",
        "outputs": 1,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "onchange",
                "onstart": true,
                "payload": [
                    "power"
                ],
                "uniqueId": "ui-id-44"
            }
        ],
        "x": 190,
        "y": 1480,
        "wires": [
            [
                "163a58b9bf8b2e0c",
                "a79404d6637ee5a2"
            ]
        ]
    },
    {
        "id": "6f01fdb6a4d341fa",
        "type": "ui_chart",
        "z": "cd715a15d16c8c86",
        "name": "",
        "group": "966da185446a8997",
        "order": 0,
        "width": "26",
        "height": "10",
        "label": "Consommation Cumulée",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "10",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 590,
        "y": 1330,
        "wires": [
            [
                "3f7a0fd4db5ee62e"
            ]
        ]
    },
    {
        "id": "aedb521d475ddee9",
        "type": "file in",
        "z": "cd715a15d16c8c86",
        "name": "Prise 2 Sum Conso",
        "filename": "/data/chartdata/Prise2SumConso.json",
        "filenameType": "str",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 210,
        "y": 1380,
        "wires": [
            [
                "2823cb04b107afe9"
            ]
        ]
    },
    {
        "id": "2823cb04b107afe9",
        "type": "json",
        "z": "cd715a15d16c8c86",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 380,
        "y": 1380,
        "wires": [
            [
                "6f01fdb6a4d341fa"
            ]
        ]
    },
    {
        "id": "3f7a0fd4db5ee62e",
        "type": "file",
        "z": "cd715a15d16c8c86",
        "name": "Prise 2 Sum Conso",
        "filename": "/data/chartdata/Prise2SumConso.json",
        "filenameType": "str",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 820,
        "y": 1380,
        "wires": [
            []
        ]
    },
    {
        "id": "fb4a5e4b387e05b9",
        "type": "file in",
        "z": "cd715a15d16c8c86",
        "name": "Prise 2 Conso",
        "filename": "/data/chartdata/Prise2Conso.json",
        "filenameType": "str",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 200,
        "y": 1530,
        "wires": [
            [
                "af2c0aa46a80e5be"
            ]
        ]
    },
    {
        "id": "af2c0aa46a80e5be",
        "type": "json",
        "z": "cd715a15d16c8c86",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 380,
        "y": 1530,
        "wires": [
            [
                "a79404d6637ee5a2"
            ]
        ]
    },
    {
        "id": "f9facdda4da94b61",
        "type": "file",
        "z": "cd715a15d16c8c86",
        "name": "Prise 2 Conso",
        "filename": "/data/chartdata/Prise2Conso.json",
        "filenameType": "str",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 780,
        "y": 1530,
        "wires": [
            []
        ]
    },
    {
        "id": "a79404d6637ee5a2",
        "type": "ui_chart",
        "z": "cd715a15d16c8c86",
        "name": "",
        "group": "966da185446a8997",
        "order": 0,
        "width": "26",
        "height": "10",
        "label": "Consommation",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "10",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 570,
        "y": 1480,
        "wires": [
            [
                "f9facdda4da94b61"
            ]
        ]
    },
    {
        "id": "f4b628e7e2b07f84",
        "type": "link in",
        "z": "cd715a15d16c8c86",
        "name": "link in 4",
        "links": [
            "3940bc2ee07fa07e"
        ],
        "x": 65,
        "y": 1540,
        "wires": [
            [
                "fb4a5e4b387e05b9"
            ]
        ]
    },
    {
        "id": "c0f2f4f298477c7d",
        "type": "link in",
        "z": "cd715a15d16c8c86",
        "name": "link in 5",
        "links": [
            "3940bc2ee07fa07e"
        ],
        "x": 75,
        "y": 1380,
        "wires": [
            [
                "aedb521d475ddee9"
            ]
        ]
    },
    {
        "id": "ee2879633d2f1352",
        "type": "inject",
        "z": "cd715a15d16c8c86",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 260,
        "y": 680,
        "wires": [
            [
                "de912571315ed603"
            ]
        ]
    },
    {
        "id": "de912571315ed603",
        "type": "file in",
        "z": "cd715a15d16c8c86",
        "name": "Prise 1 Sum Conso",
        "filename": "/data/chartdata/Prise2Conso.json",
        "filenameType": "str",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 450,
        "y": 680,
        "wires": [
            [
                "b4a8642959a96a4b"
            ]
        ]
    },
    {
        "id": "b4a8642959a96a4b",
        "type": "json",
        "z": "cd715a15d16c8c86",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 630,
        "y": 680,
        "wires": [
            [
                "2c51623e2b21ad8d",
                "26d369193dd0fe9f"
            ]
        ]
    },
    {
        "id": "2c51623e2b21ad8d",
        "type": "debug",
        "z": "cd715a15d16c8c86",
        "name": "debug 51",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 790,
        "y": 620,
        "wires": []
    },
    {
        "id": "c1c73a6982ce4f55",
        "type": "csv",
        "z": "cd715a15d16c8c86",
        "name": "",
        "sep": ",",
        "hdrin": "",
        "hdrout": "all",
        "multi": "one",
        "ret": "\\r\\n",
        "temp": "",
        "skip": "0",
        "strings": true,
        "include_empty_strings": "",
        "include_null_values": "",
        "x": 970,
        "y": 790,
        "wires": [
            [
                "896ae692b8d11cba",
                "d2d07df82aa6525e"
            ]
        ]
    },
    {
        "id": "26d369193dd0fe9f",
        "type": "change",
        "z": "cd715a15d16c8c86",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload[0].data[0]",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 830,
        "y": 730,
        "wires": [
            [
                "c1c73a6982ce4f55",
                "449ad7a1087f210d"
            ]
        ]
    },
    {
        "id": "449ad7a1087f210d",
        "type": "debug",
        "z": "cd715a15d16c8c86",
        "name": "debug 52",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1060,
        "y": 680,
        "wires": []
    },
    {
        "id": "896ae692b8d11cba",
        "type": "debug",
        "z": "cd715a15d16c8c86",
        "name": "debug 53",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1120,
        "y": 790,
        "wires": []
    },
    {
        "id": "d2d07df82aa6525e",
        "type": "file",
        "z": "cd715a15d16c8c86",
        "name": "VaisselleW.csv",
        "filename": "/data/chartdata/Prise2Conso 60deg.csv",
        "filenameType": "str",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 1040,
        "y": 850,
        "wires": [
            []
        ]
    },
    {
        "id": "21103129ae222d73",
        "type": "comment",
        "z": "cd715a15d16c8c86",
        "name": "Lave Linge",
        "info": "",
        "x": 800,
        "y": 1300,
        "wires": []
    },
    {
        "id": "7145d586.93810c",
        "type": "deconz-input",
        "z": "97858f04.731cd",
        "name": "CubePivot",
        "topic": "",
        "config_version": 2,
        "server": "98dc4fb5.8af9c",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/00:15:8d:00:02:a7:25:8e-02-0012",
            "sensors/uniqueid/00:15:8d:00:02:a7:25:8e-03-000c"
        ],
        "device_name": "Cube : ZHASwitch",
        "query": "{}",
        "outputs": 2,
        "output_rules": [
            {
                "type": "homekit",
                "format": "single",
                "onstart": true,
                "onerror": true,
                "payload": [
                    "__auto__"
                ]
            },
            {
                "type": "homekit",
                "format": "single",
                "onstart": true,
                "onerror": true,
                "payload": [
                    "__auto__"
                ]
            }
        ],
        "x": 100,
        "y": 220,
        "wires": [
            [
                "519a6afa.0a4fc4",
                "059a041ec1364456"
            ],
            []
        ]
    },
    {
        "id": "5c725cef.b6d6a4",
        "type": "deconz-input",
        "z": "97858f04.731cd",
        "name": "CubeGeste",
        "topic": "",
        "config_version": 2,
        "server": "98dc4fb5.8af9c",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/00:15:8d:00:02:a7:25:8e-02-0012",
            "sensors/uniqueid/00:15:8d:00:02:a7:25:8e-03-000c"
        ],
        "device_name": "Cube : ZHASwitch",
        "query": "",
        "outputs": 2,
        "output_rules": [
            {
                "type": "homekit",
                "format": "single",
                "onstart": true,
                "onerror": true,
                "payload": [
                    "__auto__"
                ]
            },
            {
                "type": "homekit",
                "format": "single",
                "onstart": true,
                "onerror": true,
                "payload": [
                    "__auto__"
                ]
            }
        ],
        "x": 110,
        "y": 280,
        "wires": [
            [
                "519a6afa.0a4fc4",
                "059a041ec1364456"
            ],
            []
        ]
    },
    {
        "id": "519a6afa.0a4fc4",
        "type": "function",
        "z": "97858f04.731cd",
        "name": "CmdColor",
        "func": "var msgPower = {payload:true};\nvar msgColor;\nvar msgToggle;\nvar msgBackTV;\nvar globe;\nvar cubeSide = flow.get(\"cubeSide\");\n\nswitch (msg.payload.gesture){\n    case 1: //Shake 3 times\n        msgToggle = {payload:true};\n        break;\n    case 2: //Fall\n        break;\n    case 3: //Change Side\n    case 4: //Opposite Side\n        flow.set(\"cubeSide\", Math.trunc(msg.payload.buttonevent/1000));\n        break;\n    case 5: //Slide\n        flow.set(\"cubeSide\", Math.trunc(msg.payload.buttonevent/1000));\n        break;\n    case 6: //Beat 2 times\n    case 7: //Rotate Clockwise\n    case 8: //Rotate AntiClockWise\n        switch (cubeSide){\n            case 1:\n                break;\n            case 2:\n                globe = flow.get(\"globe\");\n                if (globe.on)\n                    msgColor = {payload:((globe.hue + msg.payload.buttonevent + 65535) % 65535) }\n                break;\n            case 3:\n                if (msg.payload.gesture == 7)\n                    msgBackTV = {payload:true};\n                if (msg.payload.gesture == 8)\n                    msgBackTV = {payload:false};\n                break;\n        }\n        break;\n}\nreturn [msgPower, msgToggle, msgColor, msgBackTV];",
        "outputs": 4,
        "noerr": 0,
        "x": 360,
        "y": 240,
        "wires": [
            [],
            [
                "d0be51ba.dc044"
            ],
            [
                "fcd71cfb.e9f71"
            ],
            [
                "35bf6c34.76af84"
            ]
        ]
    },
    {
        "id": "d0be51ba.dc044",
        "type": "deconz-output",
        "z": "97858f04.731cd",
        "name": "Globe Toggle",
        "server": "98dc4fb5.8af9c",
        "device_name": "Globe : Extended color light",
        "device": "00:17:88:01:01:14:d5:57-0b",
        "command": "toggle",
        "commandType": "deconz_cmd",
        "payload": "payload",
        "payloadType": "msg",
        "transitionTime": "",
        "x": 610,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "fcd71cfb.e9f71",
        "type": "deconz-output",
        "z": "97858f04.731cd",
        "name": "Globe Hue",
        "server": "98dc4fb5.8af9c",
        "device_name": "Globe : Extended color light",
        "device": "00:17:88:01:01:14:d5:57-0b",
        "command": "hue",
        "commandType": "deconz_cmd",
        "payload": "payload",
        "payloadType": "msg",
        "transitionTime": "",
        "x": 610,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "35bf6c34.76af84",
        "type": "deconz-output",
        "z": "97858f04.731cd",
        "name": "Back TV",
        "server": "98dc4fb5.8af9c",
        "device_name": "TVBackLight : On/Off plug-in unit",
        "device": "00:17:88:01:08:9d:f1:10-0b",
        "command": "on",
        "commandType": "deconz_cmd",
        "payload": "payload",
        "payloadType": "msg",
        "transitionTime": "",
        "x": 600,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "c93c6f2.891a19",
        "type": "function",
        "z": "97858f04.731cd",
        "name": "memGlobe",
        "func": "flow.set(\"globe\", msg.payload);",
        "outputs": 0,
        "noerr": 0,
        "x": 250,
        "y": 120,
        "wires": []
    },
    {
        "id": "8f608678.7ad678",
        "type": "deconz-input",
        "z": "97858f04.731cd",
        "name": "Globe",
        "topic": "",
        "config_version": 2,
        "server": "98dc4fb5.8af9c",
        "search_type": "device",
        "device_list": [
            "lights/uniqueid/00:17:88:01:01:14:d5:57-0b"
        ],
        "device_name": "Globe : Extended color light",
        "query": "{}",
        "outputs": 2,
        "output_rules": [
            {
                "format": "single",
                "type": "state",
                "payload": [
                    "__complete__"
                ],
                "output": "always",
                "onstart": true,
                "uniqueId": "ui-id-4"
            },
            {
                "type": "homekit",
                "onstart": true,
                "onerror": true,
                "payload": [
                    "__auto__"
                ],
                "uniqueId": "ui-id-5"
            }
        ],
        "x": 90,
        "y": 120,
        "wires": [
            [
                "c93c6f2.891a19"
            ],
            []
        ]
    },
    {
        "id": "059a041ec1364456",
        "type": "debug",
        "z": "97858f04.731cd",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 360,
        "y": 180,
        "wires": []
    },
    {
        "id": "894ed3ac.36583",
        "type": "udp in",
        "z": "8d236a0a.1cfd78",
        "name": "",
        "iface": "",
        "port": "8888",
        "ipv": "udp4",
        "multicast": "false",
        "group": "192.168.1.255",
        "datatype": "utf8",
        "x": 80,
        "y": 160,
        "wires": [
            [
                "4a1c6e40.baabd"
            ]
        ]
    },
    {
        "id": "4a1c6e40.baabd",
        "type": "json",
        "z": "8d236a0a.1cfd78",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 230,
        "y": 160,
        "wires": [
            [
                "d7543228.3688c",
                "3510d3c.5bbae2c",
                "3f5991e.65c666e"
            ]
        ]
    },
    {
        "id": "d7543228.3688c",
        "type": "function",
        "z": "8d236a0a.1cfd78",
        "name": "ExtractTemp",
        "func": "var msg1 = {payload:msg.payload.temperature,\n            topic:'Temperature'};\nvar msg2 = {payload:msg.payload.humidity,\n            topic:'Humidity'};\nvar msg3 = {payload:msg.payload.sensor,\n            topic:'Sensor'};\nvar msg4 = {payload:msg.payload.temperature - msg.payload.sensor,\n            topic:'Delta'};\nvar msg5 = {payload:msg.payload.sensorRAW,\n            topic:'RAW'};\nreturn [msg1,msg2,msg3,msg4,msg5];",
        "outputs": 5,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 386,
        "y": 155,
        "wires": [
            [
                "d75b6094.4f897",
                "8e25811c.c781a"
            ],
            [
                "ae9999f0.201058"
            ],
            [
                "d75b6094.4f897",
                "8e25811c.c781a"
            ],
            [
                "8ed09d5d.4a5b1",
                "ba76ab34.c50858"
            ],
            [
                "ed941bfc.5f98d8",
                "b2c4ba61.5f5128"
            ]
        ]
    },
    {
        "id": "d75b6094.4f897",
        "type": "ui_chart",
        "z": "8d236a0a.1cfd78",
        "name": "",
        "group": "d7f425248770d3f3",
        "order": 10,
        "width": 0,
        "height": 0,
        "label": "Temp 2J",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": "2",
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 640,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "8e25811c.c781a",
        "type": "ui_chart",
        "z": "8d236a0a.1cfd78",
        "name": "",
        "group": "d7f425248770d3f3",
        "order": 21,
        "width": 0,
        "height": 0,
        "label": "Temp 3H",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": "3",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 640,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "ae9999f0.201058",
        "type": "ui_chart",
        "z": "8d236a0a.1cfd78",
        "name": "",
        "group": "d7f425248770d3f3",
        "order": 1,
        "width": 0,
        "height": 0,
        "label": "Humidité 2J",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": "2",
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 650,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "8ed09d5d.4a5b1",
        "type": "ui_chart",
        "z": "8d236a0a.1cfd78",
        "name": "",
        "group": "d7f425248770d3f3",
        "order": 12,
        "width": 0,
        "height": 0,
        "label": "Delta 2J",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": "2",
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 640,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "ba76ab34.c50858",
        "type": "ui_chart",
        "z": "8d236a0a.1cfd78",
        "name": "",
        "group": "d7f425248770d3f3",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "Delta 3H",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": "3",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 640,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "3510d3c.5bbae2c",
        "type": "debug",
        "z": "8d236a0a.1cfd78",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 390,
        "y": 60,
        "wires": []
    },
    {
        "id": "ed941bfc.5f98d8",
        "type": "ui_chart",
        "z": "8d236a0a.1cfd78",
        "name": "",
        "group": "d7f425248770d3f3",
        "order": 11,
        "width": 0,
        "height": 0,
        "label": "RAW 2J",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": "2",
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 640,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "b2c4ba61.5f5128",
        "type": "ui_chart",
        "z": "8d236a0a.1cfd78",
        "name": "",
        "group": "d7f425248770d3f3",
        "order": 3,
        "width": 0,
        "height": 0,
        "label": "RAW 3H",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": "3",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 640,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "3f5991e.65c666e",
        "type": "csv",
        "z": "8d236a0a.1cfd78",
        "name": "",
        "sep": ";",
        "hdrin": "",
        "hdrout": "",
        "multi": "one",
        "ret": "\\r\\n",
        "temp": "temperature,sensorRAW",
        "skip": "0",
        "strings": true,
        "include_empty_strings": false,
        "include_null_values": false,
        "x": 370,
        "y": 440,
        "wires": [
            [
                "28c6ae8b.b57cb2",
                "99e48966.157238"
            ]
        ]
    },
    {
        "id": "28c6ae8b.b57cb2",
        "type": "debug",
        "z": "8d236a0a.1cfd78",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 550,
        "y": 380,
        "wires": []
    },
    {
        "id": "99e48966.157238",
        "type": "file",
        "z": "8d236a0a.1cfd78",
        "name": "",
        "filename": "/data/temperature.csv",
        "filenameType": "str",
        "appendNewline": false,
        "createDir": false,
        "overwriteFile": "false",
        "encoding": "none",
        "x": 620,
        "y": 440,
        "wires": [
            [
                "e4e8b2ab.b0b33"
            ]
        ]
    },
    {
        "id": "e4e8b2ab.b0b33",
        "type": "debug",
        "z": "8d236a0a.1cfd78",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 810,
        "y": 440,
        "wires": []
    },
    {
        "id": "6626441f2f83e6d8",
        "type": "tcp request",
        "z": "d59196c2.c53e78",
        "name": "",
        "server": "192.168.1.121",
        "port": "23",
        "out": "sit",
        "ret": "buffer",
        "splitc": " ",
        "x": 300,
        "y": 160,
        "wires": [
            [
                "5bdb5e9fa40f2fea"
            ]
        ]
    },
    {
        "id": "0d95944867ee6bdc",
        "type": "inject",
        "z": "d59196c2.c53e78",
        "name": "Once+5\"",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "300",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[71,101,116,73,110,102,111,32,69,10,71,101,116,73,110,102,111,32,87,10]",
        "payloadType": "bin",
        "x": 100,
        "y": 160,
        "wires": [
            [
                "6626441f2f83e6d8"
            ]
        ]
    },
    {
        "id": "5bdb5e9fa40f2fea",
        "type": "function",
        "z": "d59196c2.c53e78",
        "name": "DecodMsg + AutoConnect",
        "func": "var msg1;\nvar msg2;\nvar msgLogIn;\nvar tmp;\nvar str = msg.payload.toString();\ntmp = str.match(/\\$01E00 ([\\d]{6})/);\nif (tmp != null)\n    msg1 = {payload : Number(tmp[1])-26000,\n            topic:'Consommation'};\n\ntmp = str.match(/\\$01W00 ([\\d]{6})/);\nif (tmp != null)\n    msg2 = {payload : Number(tmp[1])/100,\n            topic:'Puissance'};\n\ntmp = str.match(/ login: $/);\nif (tmp != null)\n    msgLogIn = {payload : 'admin\\r'};\ntmp = str.match(/Password: $/);\nif (tmp != null)\n    msgLogIn = {payload : 'admin\\r'};\n\nreturn [msg1,msg2,msgLogIn];",
        "outputs": 3,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 80,
        "wires": [
            [
                "6a0a2945bd468204"
            ],
            [
                "3a6449fb07ebcd06",
                "60c87b233faa18cc"
            ],
            [
                "6626441f2f83e6d8"
            ]
        ]
    },
    {
        "id": "3a6449fb07ebcd06",
        "type": "ui_chart",
        "z": "d59196c2.c53e78",
        "name": "",
        "group": "09fbbb6f9c4e37f2",
        "order": 1,
        "width": 0,
        "height": 0,
        "label": "Puissance 48H",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": "48",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 800,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "60c87b233faa18cc",
        "type": "function",
        "z": "d59196c2.c53e78",
        "name": "computeAVG",
        "func": "var powerAvg = flow.get(\"powerAVG\");\nif (isNaN(powerAvg)) powerAvg = 0;\nvar powerAvgCount = flow.get(\"powerAVGCount\");\nif (isNaN(powerAvgCount)) powerAvgCount = 0;\n\nif (msg.payload == \"reset\"){\n    powerAvg = 0;\n    powerAvgCount = 0;\n}\nelse{\n    powerAvg = (powerAvg*powerAvgCount/(powerAvgCount+1))+(msg.payload/(powerAvgCount+1));\n    powerAvgCount = powerAvgCount + 1;\n}\n\nflow.set(\"powerAVGCount\", powerAvgCount);\nflow.set(\"powerAVG\", powerAvg);\n\nreturn {payload:{ \"avg\" : powerAvg,\n                    \"count\" : powerAvgCount,\n                    \"datetime\": new Date().toLocaleString('fr-FR')}};",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 570,
        "y": 160,
        "wires": [
            [
                "ca75292fc456c102",
                "63eaa80bc8e226fc",
                "eb95f50e8b976acb"
            ]
        ]
    },
    {
        "id": "ca75292fc456c102",
        "type": "ui_text",
        "z": "d59196c2.c53e78",
        "group": "09fbbb6f9c4e37f2",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "PowerAVG",
        "format": "{{msg.payload.avg}}",
        "layout": "row-spread",
        "className": "",
        "x": 790,
        "y": 120,
        "wires": []
    },
    {
        "id": "6a0a2945bd468204",
        "type": "ui_text",
        "z": "d59196c2.c53e78",
        "group": "09fbbb6f9c4e37f2",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Consommation",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 800,
        "y": 40,
        "wires": []
    },
    {
        "id": "63eaa80bc8e226fc",
        "type": "ui_text",
        "z": "d59196c2.c53e78",
        "group": "09fbbb6f9c4e37f2",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "DT",
        "format": "{{msg.payload.datetime}}",
        "layout": "row-spread",
        "className": "",
        "x": 770,
        "y": 200,
        "wires": []
    },
    {
        "id": "f381e463401312e1",
        "type": "ui_button",
        "z": "d59196c2.c53e78",
        "name": "",
        "group": "09fbbb6f9c4e37f2",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Reset AVG",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "reset",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 330,
        "y": 220,
        "wires": [
            [
                "60c87b233faa18cc"
            ]
        ]
    },
    {
        "id": "eb95f50e8b976acb",
        "type": "ui_text",
        "z": "d59196c2.c53e78",
        "group": "09fbbb6f9c4e37f2",
        "order": 5,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "PowerAVG Count",
        "format": "{{msg.payload.count}}",
        "layout": "row-spread",
        "className": "",
        "x": 810,
        "y": 160,
        "wires": []
    },
    {
        "id": "70466254.88d96c",
        "type": "ui_gauge",
        "z": "cefda5c5.afe5c8",
        "name": "",
        "group": "9e271ef8.1ed8",
        "order": 1,
        "width": "0",
        "height": "0",
        "gtype": "gage",
        "title": "Melt Temperature",
        "label": "°F",
        "format": "{{value|number:2}}",
        "min": 0,
        "max": "1000",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "700",
        "seg2": "900",
        "x": 690,
        "y": 410,
        "wires": []
    },
    {
        "id": "2992be42.4bb6b2",
        "type": "ui_chart",
        "z": "cefda5c5.afe5c8",
        "name": "",
        "group": "c4bae040.b8a2",
        "order": 1,
        "width": "0",
        "height": "0",
        "label": "Melt Temperature",
        "chartType": "line",
        "legend": "false",
        "xformat": "auto",
        "interpolate": "linear",
        "nodata": "awaiting data...",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "30",
        "removeOlderPoints": "",
        "removeOlderUnit": "60",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 690,
        "y": 360,
        "wires": [
            [
                "eef1ef3848f05486"
            ]
        ]
    },
    {
        "id": "7dda56d7.a24c88",
        "type": "ui_text_input",
        "z": "cefda5c5.afe5c8",
        "name": "",
        "label": "Ymax",
        "tooltip": "",
        "group": "480f6c25.dd7064",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "ymax",
        "x": 210,
        "y": 250,
        "wires": [
            [
                "3a327b6f.dbe7a4"
            ]
        ]
    },
    {
        "id": "ab589fd3.08d9",
        "type": "ui_text_input",
        "z": "cefda5c5.afe5c8",
        "name": "",
        "label": "Ymin",
        "tooltip": "",
        "group": "480f6c25.dd7064",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "ymin",
        "x": 210,
        "y": 210,
        "wires": [
            [
                "3a327b6f.dbe7a4"
            ]
        ]
    },
    {
        "id": "52ff4ae1.a7cac4",
        "type": "inject",
        "z": "cefda5c5.afe5c8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "TopicTest",
        "payload": "",
        "payloadType": "num",
        "x": 200,
        "y": 410,
        "wires": [
            [
                "bd74f4c908551d77"
            ]
        ]
    },
    {
        "id": "7cab122e.784c2c",
        "type": "function",
        "z": "cefda5c5.afe5c8",
        "name": "Format chart",
        "func": "\nvar x = flow.get('chartprops').xaxis.min; //time back in milliseconds\nvar d = new Date().getTime() - x //current time in milliseconds - desired time\ndelete msg.payload;\ndelete msg.topic;\n\n//send all modification in one go\nmsg.ui_control = { \n    options: {\n        scales: {\n            xAxes: [{\n                type: 'time',\n                time: {\n                    min: d\n                }\n            }],\n            yAxes: [{\n            ticks: {\n                min: flow.get('chartprops').yaxis.min,\n                max: flow.get('chartprops').yaxis.max\n            }\n        }]\n        }\n    }\n}\nreturn msg; \n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 340,
        "wires": [
            [
                "2992be42.4bb6b2"
            ]
        ]
    },
    {
        "id": "73f1e3be.f64f8c",
        "type": "ui_text_input",
        "z": "cefda5c5.afe5c8",
        "name": "",
        "label": "Minutes",
        "tooltip": "",
        "group": "480f6c25.dd7064",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "time",
        "x": 200,
        "y": 170,
        "wires": [
            [
                "3a327b6f.dbe7a4"
            ]
        ]
    },
    {
        "id": "af03cda2.7215e",
        "type": "inject",
        "z": "cefda5c5.afe5c8",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 240,
        "y": 120,
        "wires": [
            [
                "81cc7000.25c7b"
            ]
        ]
    },
    {
        "id": "81cc7000.25c7b",
        "type": "function",
        "z": "cefda5c5.afe5c8",
        "name": "init chart options in flow",
        "func": "var chartprops = flow.get('chartprops') || {}\n// set same values as in chart configuration\nchartprops.xaxis = {min:3600000}//time frame\nchartprops.yaxis = {min:0,max:1000}//vertical axis limits\nflow.set('chartprops',chartprops)\n",
        "outputs": 1,
        "noerr": 0,
        "x": 460,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "3a327b6f.dbe7a4",
        "type": "function",
        "z": "cefda5c5.afe5c8",
        "name": "Store chart options",
        "func": "var chartprops = flow.get('chartprops')\nswitch(msg.topic){\n    case 'time':{\n        chartprops.xaxis.min = msg.payload * 60000\n        break\n    }\n    case 'ymin':{\n        chartprops.yaxis.min = msg.payload\n        break\n    }\n    case 'ymax':{\n        chartprops.yaxis.max = msg.payload\n        break\n    }\n}\n\nflow.set('chartprops',chartprops)\n// message continues to flow but in next node properties will be deleted\n// it will be used only as change event\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 210,
        "wires": [
            [
                "7cab122e.784c2c"
            ]
        ]
    },
    {
        "id": "b89ca981.40b7f8",
        "type": "inject",
        "z": "cefda5c5.afe5c8",
        "name": "Resend chart format",
        "repeat": "60",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 200,
        "y": 340,
        "wires": [
            [
                "7cab122e.784c2c"
            ]
        ]
    },
    {
        "id": "3ccde5c7.4c0bfa",
        "type": "comment",
        "z": "cefda5c5.afe5c8",
        "name": "Resend - read comments !",
        "info": "If minimum time is sent to chart, it will be absolute\nChart does not take it as time frame\nSo if change is in minutes, it is reasonable enough\nto send new min value to chart in every minute\nto hold time frame constant",
        "x": 210,
        "y": 300,
        "wires": []
    },
    {
        "id": "bd74f4c908551d77",
        "type": "function",
        "z": "cefda5c5.afe5c8",
        "name": "Random",
        "func": "msg.payload = Math.round(Math.random()*1000);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 410,
        "wires": [
            [
                "2992be42.4bb6b2",
                "70466254.88d96c"
            ]
        ]
    },
    {
        "id": "eef1ef3848f05486",
        "type": "debug",
        "z": "cefda5c5.afe5c8",
        "name": "debug 56",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 930,
        "y": 360,
        "wires": []
    }
]